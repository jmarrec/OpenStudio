<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>geometry-editor</title>
        <style>
            @import url(https://fonts.googleapis.com/css?family=Roboto);body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:absolute;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:absolute;bottom:0;left:0;right:0;top:70%}.tool_fill polygon,.tool_select polygon{cursor:pointer}#grid svg *,.tool_drag #svg-grid path,.tool_drag #svg-grid polygon,.tool_drag #svg-grid rect{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.domain,#grid svg polygon.domain,#grid svg rect.domain{stroke:#fff}#grid svg .current path,#grid svg .current polygon,#grid svg .current rect{stroke:#a70000;stroke-width:2px}#grid svg .previousStory path,#grid svg .previousStory polygon,#grid svg .previousStory rect{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg .guideLine path,#grid svg .guideLine polygon,#grid svg .guideLine rect,#grid svg .previousStory path,#grid svg .previousStory polygon,#grid svg .previousStory rect{fill-opacity:.3;z-index:-1}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .25rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}button[disabled]{cursor:not-allowed;background-color:#343b40}.overlay{background-color:#24292c;height:100%;left:0;opacity:.5;position:fixed;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}.tool_eraser #grid[data-v-2a372c9e],.tool_polygon #grid[data-v-2a372c9e],.tool_rectangle #grid[data-v-2a372c9e]{cursor:crosshair}.tool_drag[data-v-2a372c9e]{cursor:move}#alert-text[data-v-2a372c9e]{position:absolute;top:1rem;left:0;right:0;text-align:center;z-index:3}#alert-text p[data-v-2a372c9e]{color:#fff;padding:2px 4px;margin:10px;border:2px solid #24292c;display:inline-block}#alert-text.success p[data-v-2a372c9e]{background:#008500}#alert-text.error p[data-v-2a372c9e]{background:#a70000}#right-bar[data-v-9625b82c]{position:absolute;right:0;width:8px;height:100%;transition:background .5s linear}#right-bar[data-v-9625b82c]:active,#right-bar[data-v-9625b82c]:hover{background-color:#bbc3c7;cursor:e-resize}#navigation[data-v-9625b82c]{background-color:#343b40;border-right:1px solid #24292c;font-size:.75rem;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#navigation #selections[data-v-9625b82c]{display:-ms-flexbox;display:flex;padding:.25rem;-ms-flex-pack:justify;justify-content:space-between}#navigation #selections input[type=file][data-v-9625b82c]{position:absolute;visibility:hidden}#navigation #breadcrumbs>button[data-v-9625b82c],#navigation #selections>button[data-v-9625b82c]{display:-ms-flexbox;display:flex;line-height:1rem}#navigation #breadcrumbs>button svg[data-v-9625b82c],#navigation #selections>button svg[data-v-9625b82c]{height:1rem;margin:0 .25rem 0 -.1rem;width:1rem}#navigation #breadcrumbs>button svg path[data-v-9625b82c],#navigation #selections>button svg path[data-v-9625b82c]{fill:#bbc3c7}#navigation #breadcrumbs[data-v-9625b82c],#navigation #story-list>div[data-v-9625b82c],#navigation #subselection-list>div[data-v-9625b82c]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}#navigation #list[data-v-9625b82c]{height:100%;display:-ms-flexbox;display:flex}#navigation #list #story-list[data-v-9625b82c]{border-right:1px solid #24292c;-ms-flex-positive:1;flex-grow:1}#navigation #list #subselection-list[data-v-9625b82c]{-ms-flex-positive:2;flex-grow:2}#navigation #list #story-list[data-v-9625b82c],#navigation #list #subselection-list[data-v-9625b82c]{overflow:auto;height:calc(100% - 5rem)}#navigation #list #story-list>div[data-v-9625b82c],#navigation #list #subselection-list>div[data-v-9625b82c]{border-bottom:1px solid #24292c;cursor:pointer;height:2rem;padding:0 .5rem}#navigation #list #story-list>div span[data-v-9625b82c],#navigation #list #subselection-list>div span[data-v-9625b82c]{display:inline-block;height:1rem;width:1rem}#navigation #list #story-list>div.active[data-v-9625b82c],#navigation #list #subselection-list>div.active[data-v-9625b82c]{color:#008500}#navigation #list #story-list>div.active svg[data-v-9625b82c],#navigation #list #subselection-list>div.active svg[data-v-9625b82c]{cursor:pointer;height:1rem}#navigation #list #story-list>div.active svg path[data-v-9625b82c],#navigation #list #subselection-list>div.active svg path[data-v-9625b82c]{fill:#bbc3c7}#navigation #list #story-list>div.active svg:hover path[data-v-9625b82c],#navigation #list #subselection-list>div.active svg:hover path[data-v-9625b82c]{fill:#a70000}#navigation #breadcrumbs[data-v-9625b82c]{background-color:#343b40;border-bottom:1px solid #24292c;border-top:1px solid #24292c;height:2.5rem;-ms-flex-pack:start;justify-content:flex-start;padding:0 1rem}#navigation #breadcrumbs span[data-v-9625b82c]{margin-left:1rem;cursor:pointer}#navigation #breadcrumbs svg[data-v-9625b82c]{margin:0 .25rem;width:.5rem}#navigation #breadcrumbs svg path[data-v-9625b82c]{fill:#525d64}#grid[data-v-36a585d6]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#grid button[data-v-36a585d6]{position:absolute;z-index:200}#grid img[data-v-36a585d6]{position:absolute}#grid svg[data-v-36a585d6]{background-size:cover;background-repeat:no-repeat;height:100%;left:0;top:0;position:absolute;width:100%;z-index:2}svg#north_axis[data-v-266f1716]{height:2.25rem;position:absolute;top:1rem;left:1rem;width:3rem;z-index:90}#canvas[data-v-266f1716]{background:#fff;height:100%;width:100%}#map-container[data-v-677a308e]{position:relative;height:100%;width:100%}#map-container #map[data-v-677a308e]{height:100%;min-width:100%}#autocomplete[data-v-677a308e]{z-index:100;position:absolute;right:0;top:10px}#autocomplete>[data-v-677a308e]{float:left;margin-right:10px}#autocomplete input[data-v-677a308e]:focus{outline:none}#help-text[data-v-677a308e]{position:absolute;bottom:0;left:0;right:0;text-align:center;z-index:3}#help-text p[data-v-677a308e]{color:#24292c;background:#fff;padding:2px 4px;width:calc(100% - 110px);border:2px solid #24292c}#help-text button[data-v-677a308e],#help-text p[data-v-677a308e]{margin:10px;display:inline-block}#reticle[data-v-677a308e]{position:absolute;top:0;width:100%;height:100%;pointer-events:none}.content[data-v-b39349be]{margin:0 2rem 2rem;text-align:center}.content button[data-v-b39349be]{margin:1rem .5rem}.content input[type=file][data-v-b39349be]{display:none}.modal[data-v-b39349be]{width:30rem}#toolbar[data-v-73143015]{z-index:3}#toolbar section[data-v-73143015]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:2.5rem;padding:0 2.5rem}#toolbar section.settings[data-v-73143015]{background-color:#343b40;text-align:right}#toolbar section.settings .input-checkbox[data-v-73143015],#toolbar section.settings .input-number[data-v-73143015]{margin-right:1.5rem}#toolbar section.settings #import-export[data-v-73143015]{position:absolute;right:2.5rem}#toolbar section.settings #import-export button[data-v-73143015]{margin-left:1rem}#toolbar section.settings input[type=file][data-v-73143015],#toolbar section.settings input[type=text][data-v-73143015]{position:absolute;visibility:hidden}#toolbar section.tools[data-v-73143015]{background-color:#525d64;-ms-flex-pack:end;justify-content:flex-end}#toolbar section.tools button[data-v-73143015]{margin:0 1rem 0 0}#toolbar section.tools button[data-v-73143015]:last-child{margin:0}#toolbar section.tools .active[data-v-73143015]{border:2px solid #008500}#toolbar section.tools>.snapping-options[data-v-73143015],#toolbar section.tools>.undo-redo[data-v-73143015]{margin-right:auto}#toolbar section.tools>.snapping-options [data-v-73143015]:first-child{margin-right:-2px;border-bottom-right-radius:0;border-top-right-radius:0}#toolbar section.tools>.snapping-options [data-v-73143015]:last-child{margin-left:-2px;border-bottom-left-radius:0;border-top-left-radius:0}.content[data-v-200c10c4]{margin:1rem;text-align:center}.content button[data-v-200c10c4]{margin:1rem .5rem}.modal[data-v-200c10c4]{width:30rem;position:fixed;top:50%;left:50%;z-index:4;cursor:default}.modal .close-button[data-v-200c10c4],.modal .download-button[data-v-200c10c4]{cursor:pointer;text-transform:uppercase}.modal svg[data-v-200c10c4]{margin-left:-.25rem;width:1rem}.modal svg path[data-v-200c10c4]{fill:#525d64;stroke-width:2px;stroke:#525d64}.modal .close-button[data-v-200c10c4]{position:relative;float:left;left:18px;top:8px}#inspector[data-v-411ce911]{background-color:#3b4348;border-left:1px solid #24292c;font-size:.85rem;width:18rem;position:absolute;right:0;z-index:2;top:0}#inspector .list[data-v-411ce911]{height:calc(100vh - 4.75rem);overflow:scroll}#inspector .list header[data-v-411ce911]{background-color:#2b3134}#inspector .list header>h3[data-v-411ce911]{display:inline-block;margin:1rem}#inspector .list .list-item[data-v-411ce911]{border-top:1px solid #525d64;padding:.5rem 1rem}#inspector .list .list-item h4[data-v-411ce911]{margin:.5rem 0}#inspector .list .list-item span[data-v-411ce911]{display:block;margin-bottom:.25rem}#inspector .list .list-item button[data-v-411ce911]{margin-top:.5rem}/*! Huebee v1.0.1
http://huebee.buzz
---------------------------------------------- */.huebee{position:absolute;z-index:1;transform:translateY(0);transition:opacity .15s,transform .15s}.huebee.is-hidden{opacity:0;transform:translateY(10px)}.huebee.is-static-open{position:relative;z-index:auto}.huebee__container{position:absolute;left:0;top:5px;padding:10px;background:#eee;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3)}.huebee.is-static-open .huebee__container{position:relative;display:inline-block;left:auto;top:auto;box-shadow:none}.huebee__canvas{display:block;cursor:pointer}.huebee__cursor{width:15px;height:15px;position:absolute;left:0;top:0;box-sizing:content-box;border:3px solid #fff;border-radius:5px;pointer-events:none}.huebee__cursor.is-hidden{opacity:0}.huebee__close-button{display:block;position:absolute;width:24px;height:24px;top:-9px;right:-9px;border-radius:12px;background:#222}.huebee__close-button__x{stroke:#fff;stroke-width:3;stroke-linecap:round}.huebee__close-button:hover{background:#fff;cursor:pointer}.huebee__close-button:hover .huebee__close-button__x{stroke:#222}#top-bar[data-v-3afbad56]{position:absolute;height:8px;width:100%;cursor:n-resize;transition:background .5s linear}#top-bar[data-v-3afbad56]:active,#top-bar[data-v-3afbad56]:hover{background-color:#bbc3c7}#library[data-v-3afbad56]{background-color:#24292c;height:100%;overflow:auto}#library header[data-v-3afbad56]{display:-ms-flexbox;display:flex;padding:1rem 1.5rem}#library header .input-select[data-v-3afbad56]{margin-right:3rem;width:10rem}#library header .input-text[data-v-3afbad56]{margin-right:auto;width:10rem}#library table[data-v-3afbad56]{border-spacing:0;width:100%}#library table tbody tr td[data-v-3afbad56],#library table thead tr th[data-v-3afbad56]{text-align:left;padding:0 1rem;position:relative}#library table tbody tr td[data-v-3afbad56]:first-child,#library table thead tr th[data-v-3afbad56]:first-child{padding-left:2.5rem}#library table tbody tr td[data-v-3afbad56]:last-child,#library table thead tr th[data-v-3afbad56]:last-child{-ms-flex-positive:2;flex-grow:2}#library table thead th[data-v-3afbad56]{border-bottom:2px solid #525d64}#library table thead tr[data-v-3afbad56]{height:3rem}#library table thead tr svg[data-v-3afbad56]{height:1rem;width:1rem;fill:#525d64}#library table tbody tr[data-v-3afbad56]{height:2rem}#library table tbody tr[data-v-3afbad56]:nth-of-type(odd){background-color:#343b40}#library table tbody tr.current[data-v-3afbad56]{background:red}#library table tbody tr .input-select[data-v-3afbad56]{margin:.5rem 0}#library table tbody tr input[data-v-3afbad56]{background-color:transparent;border:none;color:#bbc3c7;font-size:1rem}#library table tbody tr td.destroy[data-v-3afbad56]{width:2rem}#library table tbody tr td.destroy svg[data-v-3afbad56]{cursor:pointer;height:1.25rem;fill:#bbc3c7}#library table tbody tr td.destroy svg[data-v-3afbad56]:hover{fill:#a70000}#library table tbody tr.error[data-v-3afbad56]{background:rgba(167,0,0,.5);position:relative}#library table tbody tr .tooltip-error[data-v-3afbad56]{bottom:3rem;background-color:#24292c;border:1px solid #a70000;color:#bbc3c7;left:3rem;border-radius:.25rem;padding:.5rem 1rem;position:absolute}#library table tbody tr .tooltip-error svg[data-v-3afbad56]{bottom:-.7rem;height:.75rem;left:.5rem;position:absolute;transform:rotate(90deg)}#library table tbody tr .tooltip-error svg path[data-v-3afbad56]{fill:#a70000}
/*# sourceMappingURL=app.4776802812ac1043403befab8d92c680.css.map*/
        </style>
    </head>

    <body>
        <div id=app></div>

    <script>
      window.startApp = function() {
        
	!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(c,o){for(var p,s,l=0,d=[];l<c.length;l++)s=c[l],r[s]&&d.push.apply(d,r[s]),r[s]=0;for(p in o)e[p]=o[p];for(n&&n(c,o);d.length;)d.shift().call(null,t);if(o[0])return a[0]=0,t(0)};var a={},r={0:0};t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.charset="utf-8",c.async=!0,c.src=t.p+"static/js/"+e+"."+{1:"c52d0ce92a7edad33bf4",2:"82e83b5fe0894a2d8d97"}[e]+".js",a.appendChild(c)}},t.m=e,t.c=a,t.p="/"}([]);
//# sourceMappingURL=manifest.29bd49cacd6e053ef6b3.js.map
	webpackJsonp([1,0],[,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(43),r=o(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var o=n(55)("wks"),i=n(37),r=n(7).Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},function(t,e,n){var o;(function(t,i){(function(){function r(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,o){for(var i=-1,r=null==t?0:t.length;++i<r;){var a=t[i];e(o,a,n(a),t)}return o}function h(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}function p(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var a=t[n];e(a,n,t)&&(r[i++]=a)}return r}function f(t,e){var n=null==t?0:t.length;return!!n&&S(t,e,0)>-1}function d(t,e,n){for(var o=-1,i=null==t?0:t.length;++o<i;)if(n(e,t[o]))return!0;return!1}function y(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}function g(t,e,n,o){var i=-1,r=null==t?0:t.length;for(o&&r&&(n=t[++i]);++i<r;)n=e(n,t[i],i,t);return n}function m(t,e,n,o){var i=null==t?0:t.length;for(o&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function x(t){return t.match(Ye)||[]}function w(t,e,n){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=n,!1}),o}function P(t,e,n,o){for(var i=t.length,r=n+(o?1:-1);o?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function S(t,e,n){return e===e?Z(t,e,n):P(t,M,n)}function C(t,e,n,o){for(var i=n-1,r=t.length;++i<r;)if(o(t[i],e))return i;return-1}function M(t){return t!==t}function T(t,e){var n=null==t?0:t.length;return n?N(t,e)/n:Ft}function A(t){return function(e){return null==e?it:e[t]}}function E(t){return function(e){return null==t?it:t[e]}}function L(t,e,n,o,i){return i(t,function(t,i,r){n=o?(o=!1,t):e(n,t,i,r)}),n}function I(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function N(t,e){for(var n,o=-1,i=t.length;++o<i;){var r=e(t[o]);r!==it&&(n=n===it?r:n+r)}return n}function O(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function k(t,e){return y(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function D(t,e){return y(e,function(e){return t[e]})}function F(t,e){return t.has(e)}function j(t,e){for(var n=-1,o=t.length;++n<o&&S(e,t[n],0)>-1;);return n}function K(t,e){for(var n=t.length;n--&&S(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,o=0;n--;)t[n]===e&&++o;return o}function X(t){return"\\"+no[t]}function U(t,e){return null==t?it:t[e]}function Y(t){return Hn.test(t)}function G(t){return qn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function H(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,r[i++]=n)}return r}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Z(t,e,n){for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}function J(t,e,n){for(var o=n+1;o--;)if(t[o]===e)return o;return o}function Q(t){return Y(t)?et(t):_o(t)}function tt(t){return Y(t)?nt(t):_(t)}function et(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function nt(t){return t.match(Wn)||[]}function ot(t){return t.match(zn)||[]}var it,rt="4.17.4",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ut="Expected a function",ht="__lodash_hash_undefined__",pt=500,lt="__lodash_placeholder__",ct=1,ft=2,dt=4,yt=1,vt=2,gt=1,mt=2,bt=4,_t=8,xt=16,wt=32,Pt=64,St=128,Ct=256,Mt=512,Tt=30,At="...",Et=800,Lt=16,It=1,Nt=2,Ot=3,kt=1/0,Rt=9007199254740991,Dt=1.7976931348623157e308,Ft=NaN,jt=4294967295,Kt=jt-1,Bt=jt>>>1,Xt=[["ary",St],["bind",gt],["bindKey",mt],["curry",_t],["curryRight",xt],["flip",Mt],["partial",wt],["partialRight",Pt],["rearg",Ct]],Ut="[object Arguments]",Yt="[object Array]",Gt="[object AsyncFunction]",Wt="[object Boolean]",zt="[object Date]",Ht="[object DOMException]",qt="[object Error]",Vt="[object Function]",$t="[object GeneratorFunction]",Zt="[object Map]",Jt="[object Number]",Qt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",oe="[object RegExp]",ie="[object Set]",re="[object String]",ae="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",he="[object WeakSet]",pe="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",fe="[object Float64Array]",de="[object Int8Array]",ye="[object Int16Array]",ve="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",be="[object Uint16Array]",_e="[object Uint32Array]",xe=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,Me=RegExp(Se.source),Te=RegExp(Ce.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Le=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Oe=/^\./,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,De=RegExp(Re.source),Fe=/^\s+|\s+$/g,je=/^\s+/,Ke=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",on="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",an=nn+on+rn,sn="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",hn="\\xac\\xb1\\xd7\\xf7",pn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",cn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",dn="\\ufe0e\\ufe0f",yn=hn+pn+ln+cn,vn="['’]",gn="["+en+"]",mn="["+yn+"]",bn="["+an+"]",_n="\\d+",xn="["+sn+"]",wn="["+un+"]",Pn="[^"+en+yn+_n+sn+un+fn+"]",Sn="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+bn+"|"+Sn+")",Mn="[^"+en+"]",Tn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",En="["+fn+"]",Ln="\\u200d",In="(?:"+wn+"|"+Pn+")",Nn="(?:"+En+"|"+Pn+")",On="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",kn="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Rn=Cn+"?",Dn="["+dn+"]?",Fn="(?:"+Ln+"(?:"+[Mn,Tn,An].join("|")+")"+Dn+Rn+")*",jn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Kn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Bn=Dn+Rn+Fn,Xn="(?:"+[xn,Tn,An].join("|")+")"+Bn,Un="(?:"+[Mn+bn+"?",bn,Tn,An,gn].join("|")+")",Yn=RegExp(vn,"g"),Gn=RegExp(bn,"g"),Wn=RegExp(Sn+"(?="+Sn+")|"+Un+Bn,"g"),zn=RegExp([En+"?"+wn+"+"+On+"(?="+[mn,En,"$"].join("|")+")",Nn+"+"+kn+"(?="+[mn,En+In,"$"].join("|")+")",En+"?"+In+"+"+On,En+"+"+kn,Kn,jn,_n,Xn].join("|"),"g"),Hn=RegExp("["+Ln+en+an+dn+"]"),qn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$n=-1,Zn={};Zn[ce]=Zn[fe]=Zn[de]=Zn[ye]=Zn[ve]=Zn[ge]=Zn[me]=Zn[be]=Zn[_e]=!0,Zn[Ut]=Zn[Yt]=Zn[pe]=Zn[Wt]=Zn[le]=Zn[zt]=Zn[qt]=Zn[Vt]=Zn[Zt]=Zn[Jt]=Zn[te]=Zn[oe]=Zn[ie]=Zn[re]=Zn[ue]=!1;var Jn={};Jn[Ut]=Jn[Yt]=Jn[pe]=Jn[le]=Jn[Wt]=Jn[zt]=Jn[ce]=Jn[fe]=Jn[de]=Jn[ye]=Jn[ve]=Jn[Zt]=Jn[Jt]=Jn[te]=Jn[oe]=Jn[ie]=Jn[re]=Jn[ae]=Jn[ge]=Jn[me]=Jn[be]=Jn[_e]=!0,Jn[qt]=Jn[Vt]=Jn[ue]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},no={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oo=parseFloat,io=parseInt,ro="object"==typeof t&&t&&t.Object===Object&&t,ao="object"==typeof self&&self&&self.Object===Object&&self,so=ro||ao||Function("return this")(),uo="object"==typeof e&&e&&!e.nodeType&&e,ho=uo&&"object"==typeof i&&i&&!i.nodeType&&i,po=ho&&ho.exports===uo,lo=po&&ro.process,co=function(){try{return lo&&lo.binding&&lo.binding("util")}catch(t){}}(),fo=co&&co.isArrayBuffer,yo=co&&co.isDate,vo=co&&co.isMap,go=co&&co.isRegExp,mo=co&&co.isSet,bo=co&&co.isTypedArray,_o=A("length"),xo=E(Qn),wo=E(to),Po=E(eo),So=function t(e){function n(t){if(hu(t)&&!_c(t)&&!(t instanceof _)){if(t instanceof i)return t;if(_p.call(t,"__wrapped__"))return aa(t)}return new i(t)}function o(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function E(){var t=new _(this.__wrapped__);return t.__actions__=Xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xi(this.__views__),t}function Z(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=_c(t),o=e<0,i=n?t.length:0,r=Lr(0,i,this.__views__),a=r.start,s=r.end,u=s-a,h=o?s:a-1,p=this.__iteratees__,l=p.length,c=0,f=$p(u,this.__takeCount__);if(!n||!o&&i==u&&f==u)return wi(t,this.__actions__);var d=[];t:for(;u--&&c<f;){h+=e;for(var y=-1,v=t[h];++y<l;){var g=p[y],m=g.iteratee,b=g.type,_=m(v);if(b==Nt)v=_;else if(!_){if(b==It)continue t;break t}}d[c++]=v}return d}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Ye(){this.__data__=al?al(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(al){var n=e[t];return n===ht?it:n}return _p.call(e,t)?e[t]:it}function on(t){var e=this.__data__;return al?e[t]!==it:_p.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=al&&e===it?ht:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function sn(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=On(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():kp.call(e,n,1),--this.size,!0}function hn(t){var e=this.__data__,n=On(e,t);return n<0?it:e[n][1]}function pn(t){return On(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,o=On(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function fn(){this.size=0,this.__data__={hash:new nt,map:new(nl||an),string:new nt}}function dn(t){var e=Mr(this,t).delete(t);return this.size-=e?1:0,e}function yn(t){return Mr(this,t).get(t)}function vn(t){return Mr(this,t).has(t)}function gn(t,e){var n=Mr(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ht),this}function _n(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function Pn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function Cn(t){return this.__data__.has(t)}function Mn(t,e){var n=this.__data__;if(n instanceof an){var o=n.__data__;if(!nl||o.length<at-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(o)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=_c(t),o=!n&&bc(t),i=!n&&!o&&wc(t),r=!n&&!o&&!i&&Tc(t),a=n||o||i||r,s=a?O(t.length,fp):[],u=s.length;for(var h in t)!e&&!_p.call(t,h)||a&&("length"==h||i&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||jr(h,u))||s.push(h);return s}function An(t){var e=t.length;return e?t[oi(0,e-1)]:it}function En(t,e){return na(Xi(t),Kn(e,0,t.length))}function Ln(t){return na(Xi(t))}function In(t,e,n){(n===it||Vs(t[e],n))&&(n!==it||e in t)||Fn(t,e,n)}function Nn(t,e,n){var o=t[e];_p.call(t,e)&&Vs(o,n)&&(n!==it||e in t)||Fn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Vs(t[n][0],e))return n;return-1}function kn(t,e,n,o){return ml(t,function(t,i,r){e(o,t,n(t),r)}),o}function Rn(t,e){return t&&Ui(e,Gu(e),t)}function Dn(t,e){return t&&Ui(e,Wu(e),t)}function Fn(t,e,n){"__proto__"==e&&jp?jp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,o=e.length,i=ap(o),r=null==t;++n<o;)i[n]=r?it:Xu(t,e[n]);return i}function Kn(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function Bn(t,e,n,o,i,r){var a,s=e&ct,u=e&ft,p=e&dt;if(n&&(a=i?n(t,o,i,r):n(t)),a!==it)return a;if(!uu(t))return t;var l=_c(t);if(l){if(a=Or(t),!s)return Xi(t,a)}else{var c=Ll(t),f=c==Vt||c==$t;if(wc(t))return Ei(t,s);if(c==te||c==Ut||f&&!i){if(a=u||f?{}:kr(t),!s)return u?Gi(t,Dn(a,t)):Yi(t,Rn(a,t))}else{if(!Jn[c])return i?t:{};a=Rr(t,c,Bn,s)}}r||(r=new xn);var d=r.get(t);if(d)return d;r.set(t,a);var y=p?u?wr:xr:u?Wu:Gu,v=l?it:y(t);return h(v||t,function(o,i){v&&(i=o,o=t[i]),Nn(a,i,Bn(o,e,n,i,t,r))}),a}function Xn(t){var e=Gu(t);return function(n){return Un(n,t,e)}}function Un(t,e,n){var o=n.length;if(null==t)return!o;for(t=lp(t);o--;){var i=n[o],r=e[i],a=t[i];if(a===it&&!(i in t)||!r(a))return!1}return!0}function Wn(t,e,n){if("function"!=typeof t)throw new dp(ut);return Ol(function(){t.apply(it,n)},e)}function zn(t,e,n,o){var i=-1,r=f,a=!0,s=t.length,u=[],h=e.length;if(!s)return u;n&&(e=y(e,R(n))),o?(r=d,a=!1):e.length>=at&&(r=F,a=!1,e=new mn(e));t:for(;++i<s;){var p=t[i],l=null==n?p:n(p);if(p=o||0!==p?p:0,a&&l===l){for(var c=h;c--;)if(e[c]===l)continue t;u.push(p)}else r(e,l,o)||u.push(p)}return u}function Hn(t,e){var n=!0;return ml(t,function(t,o,i){return n=!!e(t,o,i)}),n}function qn(t,e,n){for(var o=-1,i=t.length;++o<i;){var r=t[o],a=e(r);if(null!=a&&(s===it?a===a&&!_u(a):n(a,s)))var s=a,u=r}return u}function Qn(t,e,n,o){var i=t.length;for(n=Mu(n),n<0&&(n=-n>i?0:i+n),o=o===it||o>i?i:Mu(o),o<0&&(o+=i),o=n>o?0:Tu(o);n<o;)t[n++]=e;return t}function to(t,e){var n=[];return ml(t,function(t,o,i){e(t,o,i)&&n.push(t)}),n}function eo(t,e,n,o,i){var r=-1,a=t.length;for(n||(n=Fr),i||(i=[]);++r<a;){var s=t[r];e>0&&n(s)?e>1?eo(s,e-1,n,o,i):v(i,s):o||(i[i.length]=s)}return i}function no(t,e){return t&&_l(t,e,Gu)}function ro(t,e){return t&&xl(t,e,Gu)}function ao(t,e){return c(e,function(e){return ru(t[e])})}function uo(t,e){e=Ti(e,t);for(var n=0,o=e.length;null!=t&&n<o;)t=t[oa(e[n++])];return n&&n==o?t:it}function ho(t,e,n){var o=e(t);return _c(t)?o:v(o,n(t))}function lo(t){return null==t?t===it?se:Qt:Fp&&Fp in lp(t)?Er(t):$r(t)}function co(t,e){return t>e}function _o(t,e){return null!=t&&_p.call(t,e)}function So(t,e){return null!=t&&e in lp(t)}function Mo(t,e,n){return t>=$p(e,n)&&t<Vp(e,n)}function To(t,e,n){for(var o=n?d:f,i=t[0].length,r=t.length,a=r,s=ap(r),u=1/0,h=[];a--;){var p=t[a];a&&e&&(p=y(p,R(e))),u=$p(p.length,u),s[a]=!n&&(e||i>=120&&p.length>=120)?new mn(a&&p):it}p=t[0];var l=-1,c=s[0];t:for(;++l<i&&h.length<u;){var v=p[l],g=e?e(v):v;if(v=n||0!==v?v:0,!(c?F(c,g):o(h,g,n))){for(a=r;--a;){var m=s[a];if(!(m?F(m,g):o(t[a],g,n)))continue t}c&&c.push(g),h.push(v)}}return h}function Ao(t,e,n,o){return no(t,function(t,i,r){e(o,n(t),i,r)}),o}function Eo(t,e,n){e=Ti(e,t),t=Jr(t,e);var o=null==t?t:t[oa(Ca(e))];return null==o?it:s(o,t,n)}function Lo(t){return hu(t)&&lo(t)==Ut}function Io(t){return hu(t)&&lo(t)==pe}function No(t){return hu(t)&&lo(t)==zt}function Oo(t,e,n,o,i){return t===e||(null==t||null==e||!hu(t)&&!hu(e)?t!==t&&e!==e:ko(t,e,n,o,Oo,i))}function ko(t,e,n,o,i,r){var a=_c(t),s=_c(e),u=a?Yt:Ll(t),h=s?Yt:Ll(e);u=u==Ut?te:u,h=h==Ut?te:h;var p=u==te,l=h==te,c=u==h;if(c&&wc(t)){if(!wc(e))return!1;a=!0,p=!1}if(c&&!p)return r||(r=new xn),a||Tc(t)?gr(t,e,n,o,i,r):mr(t,e,u,n,o,i,r);if(!(n&yt)){var f=p&&_p.call(t,"__wrapped__"),d=l&&_p.call(e,"__wrapped__");if(f||d){var y=f?t.value():t,v=d?e.value():e;return r||(r=new xn),i(y,v,n,o,r)}}return!!c&&(r||(r=new xn),br(t,e,n,o,i,r))}function Ro(t){return hu(t)&&Ll(t)==Zt}function Do(t,e,n,o){var i=n.length,r=i,a=!o;if(null==t)return!r;for(t=lp(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=n[i];var u=s[0],h=t[u],p=s[1];if(a&&s[2]){if(h===it&&!(u in t))return!1}else{var l=new xn;if(o)var c=o(h,p,u,t,e,l);if(!(c===it?Oo(p,h,yt|vt,o,l):c))return!1}}return!0}function Fo(t){if(!uu(t)||Yr(t))return!1;var e=ru(t)?Mp:Ve;return e.test(ia(t))}function jo(t){return hu(t)&&lo(t)==oe}function Ko(t){return hu(t)&&Ll(t)==ie}function Bo(t){return hu(t)&&su(t.length)&&!!Zn[lo(t)]}function Xo(t){return"function"==typeof t?t:null==t?kh:"object"==typeof t?_c(t)?Ho(t[0],t[1]):zo(t):Uh(t)}function Uo(t){if(!Gr(t))return qp(t);var e=[];for(var n in lp(t))_p.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Yo(t){if(!uu(t))return Vr(t);var e=Gr(t),n=[];for(var o in t)("constructor"!=o||!e&&_p.call(t,o))&&n.push(o);return n}function Go(t,e){return t<e}function Wo(t,e){var n=-1,o=$s(t)?ap(t.length):[];return ml(t,function(t,i,r){o[++n]=e(t,i,r)}),o}function zo(t){var e=Tr(t);return 1==e.length&&e[0][2]?zr(e[0][0],e[0][1]):function(n){return n===t||Do(n,t,e)}}function Ho(t,e){return Br(t)&&Wr(e)?zr(oa(t),e):function(n){var o=Xu(n,t);return o===it&&o===e?Yu(n,t):Oo(e,o,yt|vt)}}function qo(t,e,n,o,i){t!==e&&_l(e,function(r,a){if(uu(r))i||(i=new xn),Vo(t,e,a,n,qo,o,i);else{var s=o?o(t[a],r,a+"",t,e,i):it;s===it&&(s=r),In(t,a,s)}},Wu)}function Vo(t,e,n,o,i,r,a){var s=t[n],u=e[n],h=a.get(u);if(h)return void In(t,n,h);var p=r?r(s,u,n+"",t,e,a):it,l=p===it;if(l){var c=_c(u),f=!c&&wc(u),d=!c&&!f&&Tc(u);p=u,c||f||d?_c(s)?p=s:Zs(s)?p=Xi(s):f?(l=!1,p=Ei(u,!0)):d?(l=!1,p=Di(u,!0)):p=[]:gu(u)||bc(u)?(p=s,bc(s)?p=Eu(s):(!uu(s)||o&&ru(s))&&(p=kr(u))):l=!1}l&&(a.set(u,p),i(p,u,o,r,a),a.delete(u)),In(t,n,p)}function $o(t,e){var n=t.length;if(n)return e+=e<0?n:0,jr(e,n)?t[e]:it}function Zo(t,e,n){var o=-1;e=y(e.length?e:[kh],R(Cr()));var i=Wo(t,function(t,n,i){var r=y(e,function(e){return e(t)});return{criteria:r,index:++o,value:t}});return I(i,function(t,e){return ji(t,e,n)})}function Jo(t,e){return Qo(t,e,function(e,n){return Yu(t,n)})}function Qo(t,e,n){for(var o=-1,i=e.length,r={};++o<i;){var a=e[o],s=uo(t,a);n(s,a)&&hi(r,Ti(a,t),s)}return r}function ti(t){return function(e){return uo(e,t)}}function ei(t,e,n,o){var i=o?C:S,r=-1,a=e.length,s=t;for(t===e&&(e=Xi(e)),n&&(s=y(t,R(n)));++r<a;)for(var u=0,h=e[r],p=n?n(h):h;(u=i(s,p,u,o))>-1;)s!==t&&kp.call(s,u,1),kp.call(t,u,1);return t}function ni(t,e){for(var n=t?e.length:0,o=n-1;n--;){var i=e[n];if(n==o||i!==r){var r=i;jr(i)?kp.call(t,i,1):bi(t,i)}}return t}function oi(t,e){return t+Yp(Qp()*(e-t+1))}function ii(t,e,n,o){for(var i=-1,r=Vp(Up((e-t)/(n||1)),0),a=ap(r);r--;)a[o?r:++i]=t,t+=n;return a}function ri(t,e){var n="";if(!t||e<1||e>Rt)return n;do e%2&&(n+=t),e=Yp(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return kl(Zr(t,e,kh),t+"")}function si(t){return An(oh(t))}function ui(t,e){var n=oh(t);return na(n,Kn(e,0,n.length))}function hi(t,e,n,o){if(!uu(t))return t;e=Ti(e,t);for(var i=-1,r=e.length,a=r-1,s=t;null!=s&&++i<r;){var u=oa(e[i]),h=n;if(i!=a){var p=s[u];h=o?o(p,u,s):it,h===it&&(h=uu(p)?p:jr(e[i+1])?[]:{})}Nn(s,u,h),s=s[u]}return t}function pi(t){return na(oh(t))}function li(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=ap(i);++o<i;)r[o]=t[o+e];return r}function ci(t,e){var n;return ml(t,function(t,o,i){return n=e(t,o,i),!n}),!!n}function fi(t,e,n){var o=0,i=null==t?o:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;o<i;){var r=o+i>>>1,a=t[r];null!==a&&!_u(a)&&(n?a<=e:a<e)?o=r+1:i=r}return i}return di(t,e,kh,n)}function di(t,e,n,o){e=n(e);for(var i=0,r=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),h=e===it;i<r;){var p=Yp((i+r)/2),l=n(t[p]),c=l!==it,f=null===l,d=l===l,y=_u(l);if(a)var v=o||d;else v=h?d&&(o||c):s?d&&c&&(o||!f):u?d&&c&&!f&&(o||!y):!f&&!y&&(o?l<=e:l<e);v?i=p+1:r=p}return $p(r,Kt)}function yi(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n],s=e?e(a):a;if(!n||!Vs(s,u)){var u=s;r[i++]=0===a?0:a}}return r}function vi(t){return"number"==typeof t?t:_u(t)?Ft:+t}function gi(t){if("string"==typeof t)return t;if(_c(t))return y(t,gi)+"";if(_u(t))return vl?vl.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function mi(t,e,n){var o=-1,i=f,r=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(r>=at){var h=e?null:Ml(t);if(h)return V(h);a=!1,i=F,u=new mn}else u=e?[]:s;t:for(;++o<r;){var p=t[o],l=e?e(p):p;if(p=n||0!==p?p:0,a&&l===l){for(var c=u.length;c--;)if(u[c]===l)continue t;e&&u.push(l),s.push(p)}else i(u,l,n)||(u!==s&&u.push(l),s.push(p))}return s}function bi(t,e){return e=Ti(e,t),t=Jr(t,e),null==t||delete t[oa(Ca(e))]}function _i(t,e,n,o){return hi(t,e,n(uo(t,e)),o)}function xi(t,e,n,o){for(var i=t.length,r=o?i:-1;(o?r--:++r<i)&&e(t[r],r,t););return n?li(t,o?0:r,o?r+1:i):li(t,o?r+1:0,o?i:r)}function wi(t,e){var n=t;return n instanceof _&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function Pi(t,e,n){var o=t.length;if(o<2)return o?mi(t[0]):[];for(var i=-1,r=ap(o);++i<o;)for(var a=t[i],s=-1;++s<o;)s!=i&&(r[i]=zn(r[i]||a,t[s],e,n));return mi(eo(r,1),e,n)}function Si(t,e,n){for(var o=-1,i=t.length,r=e.length,a={};++o<i;){var s=o<r?e[o]:it;n(a,t[o],s)}return a}function Ci(t){return Zs(t)?t:[]}function Mi(t){return"function"==typeof t?t:kh}function Ti(t,e){return _c(t)?t:Br(t,e)?[t]:Rl(Iu(t))}function Ai(t,e,n){var o=t.length;return n=n===it?o:n,!e&&n>=o?t:li(t,e,n)}function Ei(t,e){if(e)return t.slice();var n=t.length,o=Lp?Lp(n):new t.constructor(n);return t.copy(o),o}function Li(t){var e=new t.constructor(t.byteLength);return new Ep(e).set(new Ep(t)),e}function Ii(t,e){var n=e?Li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ni(t,e,n){var o=e?n(z(t),ct):z(t);return g(o,r,new t.constructor)}function Oi(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function ki(t,e,n){var o=e?n(V(t),ct):V(t);return g(o,a,new t.constructor)}function Ri(t){return yl?lp(yl.call(t)):{}}function Di(t,e){var n=e?Li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Fi(t,e){if(t!==e){var n=t!==it,o=null===t,i=t===t,r=_u(t),a=e!==it,s=null===e,u=e===e,h=_u(e);if(!s&&!h&&!r&&t>e||r&&a&&u&&!s&&!h||o&&a&&u||!n&&u||!i)return 1;if(!o&&!r&&!h&&t<e||h&&n&&i&&!o&&!r||s&&n&&i||!a&&i||!u)return-1}return 0}function ji(t,e,n){for(var o=-1,i=t.criteria,r=e.criteria,a=i.length,s=n.length;++o<a;){var u=Fi(i[o],r[o]);if(u){if(o>=s)return u;var h=n[o];return u*("desc"==h?-1:1)}}return t.index-e.index}function Ki(t,e,n,o){for(var i=-1,r=t.length,a=n.length,s=-1,u=e.length,h=Vp(r-a,0),p=ap(u+h),l=!o;++s<u;)p[s]=e[s];for(;++i<a;)(l||i<r)&&(p[n[i]]=t[i]);for(;h--;)p[s++]=t[i++];return p}function Bi(t,e,n,o){for(var i=-1,r=t.length,a=-1,s=n.length,u=-1,h=e.length,p=Vp(r-s,0),l=ap(p+h),c=!o;++i<p;)l[i]=t[i];for(var f=i;++u<h;)l[f+u]=e[u];for(;++a<s;)(c||i<r)&&(l[f+n[a]]=t[i++]);return l}function Xi(t,e){var n=-1,o=t.length;for(e||(e=ap(o));++n<o;)e[n]=t[n];return e}function Ui(t,e,n,o){var i=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],u=o?o(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?Fn(n,s,u):Nn(n,s,u)}return n}function Yi(t,e){return Ui(t,Al(t),e)}function Gi(t,e){return Ui(t,El(t),e)}function Wi(t,e){return function(n,o){var i=_c(n)?u:kn,r=e?e():{};return i(n,t,Cr(o,2),r)}}function zi(t){return ai(function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:it,a=i>2?n[2]:it;for(r=t.length>3&&"function"==typeof r?(i--,r):it,a&&Kr(n[0],n[1],a)&&(r=i<3?it:r,i=1),e=lp(e);++o<i;){var s=n[o];s&&t(e,s,o,r)}return e})}function Hi(t,e){return function(n,o){if(null==n)return n;if(!$s(n))return t(n,o);for(var i=n.length,r=e?i:-1,a=lp(n);(e?r--:++r<i)&&o(a[r],r,a)!==!1;);return n}}function qi(t){return function(e,n,o){for(var i=-1,r=lp(e),a=o(e),s=a.length;s--;){var u=a[t?s:++i];if(n(r[u],u,r)===!1)break}return e}}function Vi(t,e,n){function o(){var e=this&&this!==so&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}var i=e&gt,r=Ji(t);return o}function $i(t){return function(e){e=Iu(e);var n=Y(e)?tt(e):it,o=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return o[t]()+i}}function Zi(t){return function(e){return g(Eh(hh(e).replace(Yn,"")),t,"")}}function Ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gl(t.prototype),o=t.apply(n,e);return uu(o)?o:n}}function Qi(t,e,n){function o(){for(var r=arguments.length,a=ap(r),u=r,h=Sr(o);u--;)a[u]=arguments[u];var p=r<3&&a[0]!==h&&a[r-1]!==h?[]:q(a,h);if(r-=p.length,r<n)return pr(t,e,nr,o.placeholder,it,a,p,it,it,n-r);var l=this&&this!==so&&this instanceof o?i:t;return s(l,this,a)}var i=Ji(t);return o}function tr(t){return function(e,n,o){var i=lp(e);if(!$s(e)){var r=Cr(n,3);e=Gu(e),n=function(t){return r(i[t],t,i)}}var a=t(e,n,o);return a>-1?i[r?e[a]:a]:it}}function er(t){return _r(function(e){var n=e.length,o=n,r=i.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new dp(ut);if(r&&!s&&"wrapper"==Pr(a))var s=new i([],!0)}for(o=s?o:n;++o<n;){a=e[o];var u=Pr(a),h="wrapper"==u?Tl(a):it;s=h&&Ur(h[0])&&h[1]==(St|_t|wt|Ct)&&!h[4].length&&1==h[9]?s[Pr(h[0])].apply(s,h[3]):1==a.length&&Ur(a)?s[u]():s.thru(a)}return function(){var t=arguments,o=t[0];if(s&&1==t.length&&_c(o))return s.plant(o).value();for(var i=0,r=n?e[i].apply(this,t):o;++i<n;)r=e[i].call(this,r);return r}})}function nr(t,e,n,o,i,r,a,s,u,h){function p(){for(var g=arguments.length,m=ap(g),b=g;b--;)m[b]=arguments[b];if(d)var _=Sr(p),x=B(m,_);if(o&&(m=Ki(m,o,i,d)),r&&(m=Bi(m,r,a,d)),g-=x,d&&g<h){var w=q(m,_);return pr(t,e,nr,p.placeholder,n,m,w,s,u,h-g)}var P=c?n:this,S=f?P[t]:t;return g=m.length,s?m=Qr(m,s):y&&g>1&&m.reverse(),l&&u<g&&(m.length=u),this&&this!==so&&this instanceof p&&(S=v||Ji(S)),S.apply(P,m)}var l=e&St,c=e&gt,f=e&mt,d=e&(_t|xt),y=e&Mt,v=f?it:Ji(t);return p}function or(t,e){return function(n,o){return Ao(n,t,e(o),{})}}function ir(t,e){return function(n,o){var i;if(n===it&&o===it)return e;if(n!==it&&(i=n),o!==it){if(i===it)return o;"string"==typeof n||"string"==typeof o?(n=gi(n),o=gi(o)):(n=vi(n),o=vi(o)),i=t(n,o)}return i}}function rr(t){return _r(function(e){return e=y(e,R(Cr())),ai(function(n){var o=this;return t(e,function(t){return s(t,o,n)})})})}function ar(t,e){e=e===it?" ":gi(e);var n=e.length;if(n<2)return n?ri(e,t):e;var o=ri(e,Up(t/Q(e)));return Y(e)?Ai(tt(o),0,t).join(""):o.slice(0,t)}function sr(t,e,n,o){function i(){for(var e=-1,u=arguments.length,h=-1,p=o.length,l=ap(p+u),c=this&&this!==so&&this instanceof i?a:t;++h<p;)l[h]=o[h];for(;u--;)l[h++]=arguments[++e];return s(c,r?n:this,l)}var r=e&gt,a=Ji(t);return i}function ur(t){return function(e,n,o){return o&&"number"!=typeof o&&Kr(e,n,o)&&(n=o=it),e=Cu(e),n===it?(n=e,e=0):n=Cu(n),o=o===it?e<n?1:-1:Cu(o),ii(e,n,o,t)}}function hr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Au(e),n=Au(n)),t(e,n)}}function pr(t,e,n,o,i,r,a,s,u,h){var p=e&_t,l=p?a:it,c=p?it:a,f=p?r:it,d=p?it:r;e|=p?wt:Pt,e&=~(p?Pt:wt),e&bt||(e&=~(gt|mt));var y=[t,e,i,f,l,d,c,s,u,h],v=n.apply(it,y);return Ur(t)&&Nl(v,y),v.placeholder=o,ta(v,t,e)}function lr(t){var e=pp[t];return function(t,n){if(t=Au(t),n=null==n?0:$p(Mu(n),292)){var o=(Iu(t)+"e").split("e"),i=e(o[0]+"e"+(+o[1]+n));return o=(Iu(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return e(t)}}function cr(t){return function(e){var n=Ll(e);return n==Zt?z(e):n==ie?$(e):k(e,t(e))}}function fr(t,e,n,o,i,r,a,s){var u=e&mt;if(!u&&"function"!=typeof t)throw new dp(ut);var h=o?o.length:0;if(h||(e&=~(wt|Pt),o=i=it),a=a===it?a:Vp(Mu(a),0),s=s===it?s:Mu(s),h-=i?i.length:0,e&Pt){var p=o,l=i;o=i=it}var c=u?it:Tl(t),f=[t,e,n,o,i,p,l,r,a,s];if(c&&qr(f,c),t=f[0],e=f[1],n=f[2],o=f[3],i=f[4],s=f[9]=f[9]===it?u?0:t.length:Vp(f[9]-h,0),!s&&e&(_t|xt)&&(e&=~(_t|xt)),e&&e!=gt)d=e==_t||e==xt?Qi(t,e,s):e!=wt&&e!=(gt|wt)||i.length?nr.apply(it,f):sr(t,e,n,o);else var d=Vi(t,e,n);var y=c?wl:Nl;return ta(y(d,f),t,e)}function dr(t,e,n,o){return t===it||Vs(t,gp[n])&&!_p.call(o,n)?e:t}function yr(t,e,n,o,i,r){return uu(t)&&uu(e)&&(r.set(e,t),qo(t,e,it,yr,r),r.delete(e)),t}function vr(t){return gu(t)?it:t}function gr(t,e,n,o,i,r){var a=n&yt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var h=r.get(t);if(h&&r.get(e))return h==e;var p=-1,l=!0,c=n&vt?new mn:it;for(r.set(t,e),r.set(e,t);++p<s;){var f=t[p],d=e[p];if(o)var y=a?o(d,f,p,e,t,r):o(f,d,p,t,e,r);if(y!==it){if(y)continue;l=!1;break}if(c){if(!b(e,function(t,e){if(!F(c,e)&&(f===t||i(f,t,n,o,r)))return c.push(e)})){l=!1;break}}else if(f!==d&&!i(f,d,n,o,r)){l=!1;break}}return r.delete(t),r.delete(e),l}function mr(t,e,n,o,i,r,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pe:return!(t.byteLength!=e.byteLength||!r(new Ep(t),new Ep(e)));case Wt:case zt:case Jt:return Vs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case oe:case re:return t==e+"";case Zt:var s=z;case ie:var u=o&yt;if(s||(s=V),t.size!=e.size&&!u)return!1;
var h=a.get(t);if(h)return h==e;o|=vt,a.set(t,e);var p=gr(s(t),s(e),o,i,r,a);return a.delete(t),p;case ae:if(yl)return yl.call(t)==yl.call(e)}return!1}function br(t,e,n,o,i,r){var a=n&yt,s=xr(t),u=s.length,h=xr(e),p=h.length;if(u!=p&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:_p.call(e,c)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var d=!0;r.set(t,e),r.set(e,t);for(var y=a;++l<u;){c=s[l];var v=t[c],g=e[c];if(o)var m=a?o(g,v,c,e,t,r):o(v,g,c,t,e,r);if(!(m===it?v===g||i(v,g,n,o,r):m)){d=!1;break}y||(y="constructor"==c)}if(d&&!y){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return r.delete(t),r.delete(e),d}function _r(t){return kl(Zr(t,it,ga),t+"")}function xr(t){return ho(t,Gu,Al)}function wr(t){return ho(t,Wu,El)}function Pr(t){for(var e=t.name+"",n=ul[e],o=_p.call(ul,e)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==t)return i.name}return e}function Sr(t){var e=_p.call(n,"placeholder")?n:t;return e.placeholder}function Cr(){var t=n.iteratee||Rh;return t=t===Rh?Xo:t,arguments.length?t(arguments[0],arguments[1]):t}function Mr(t,e){var n=t.__data__;return Xr(e)?n["string"==typeof e?"string":"hash"]:n.map}function Tr(t){for(var e=Gu(t),n=e.length;n--;){var o=e[n],i=t[o];e[n]=[o,i,Wr(i)]}return e}function Ar(t,e){var n=U(t,e);return Fo(n)?n:it}function Er(t){var e=_p.call(t,Fp),n=t[Fp];try{t[Fp]=it;var o=!0}catch(t){}var i=Pp.call(t);return o&&(e?t[Fp]=n:delete t[Fp]),i}function Lr(t,e,n){for(var o=-1,i=n.length;++o<i;){var r=n[o],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=$p(e,t+a);break;case"takeRight":t=Vp(t,e-a)}}return{start:t,end:e}}function Ir(t){var e=t.match(Xe);return e?e[1].split(Ue):[]}function Nr(t,e,n){e=Ti(e,t);for(var o=-1,i=e.length,r=!1;++o<i;){var a=oa(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||++o!=i?r:(i=null==t?0:t.length,!!i&&su(i)&&jr(a,i)&&(_c(t)||bc(t)))}function Or(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_p.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function kr(t){return"function"!=typeof t.constructor||Gr(t)?{}:gl(Ip(t))}function Rr(t,e,n,o){var i=t.constructor;switch(e){case pe:return Li(t);case Wt:case zt:return new i(+t);case le:return Ii(t,o);case ce:case fe:case de:case ye:case ve:case ge:case me:case be:case _e:return Di(t,o);case Zt:return Ni(t,o,n);case Jt:case re:return new i(t);case oe:return Oi(t);case ie:return ki(t,o,n);case ae:return Ri(t)}}function Dr(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function Fr(t){return _c(t)||bc(t)||!!(Rp&&t&&t[Rp])}function jr(t,e){return e=null==e?Rt:e,!!e&&("number"==typeof t||Ze.test(t))&&t>-1&&t%1==0&&t<e}function Kr(t,e,n){if(!uu(n))return!1;var o=typeof e;return!!("number"==o?$s(n)&&jr(e,n.length):"string"==o&&e in n)&&Vs(n[e],t)}function Br(t,e){if(_c(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_u(t))||(Ne.test(t)||!Ie.test(t)||null!=e&&t in lp(e))}function Xr(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ur(t){var e=Pr(t),o=n[e];if("function"!=typeof o||!(e in _.prototype))return!1;if(t===o)return!0;var i=Tl(o);return!!i&&t===i[0]}function Yr(t){return!!wp&&wp in t}function Gr(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gp;return t===n}function Wr(t){return t===t&&!uu(t)}function zr(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in lp(n)))}}function Hr(t){var e=Rs(t,function(t){return n.size===pt&&n.clear(),t}),n=e.cache;return e}function qr(t,e){var n=t[1],o=e[1],i=n|o,r=i<(gt|mt|St),a=o==St&&n==_t||o==St&&n==Ct&&t[7].length<=e[8]||o==(St|Ct)&&e[7].length<=e[8]&&n==_t;if(!r&&!a)return t;o&gt&&(t[2]=e[2],i|=n&gt?0:bt);var s=e[3];if(s){var u=t[3];t[3]=u?Ki(u,s,e[4]):s,t[4]=u?q(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Bi(u,s,e[6]):s,t[6]=u?q(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),o&St&&(t[8]=null==t[8]?e[8]:$p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Vr(t){var e=[];if(null!=t)for(var n in lp(t))e.push(n);return e}function $r(t){return Pp.call(t)}function Zr(t,e,n){return e=Vp(e===it?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=Vp(o.length-e,0),a=ap(r);++i<r;)a[i]=o[e+i];i=-1;for(var u=ap(e+1);++i<e;)u[i]=o[i];return u[e]=n(a),s(t,this,u)}}function Jr(t,e){return e.length<2?t:uo(t,li(e,0,-1))}function Qr(t,e){for(var n=t.length,o=$p(e.length,n),i=Xi(t);o--;){var r=e[o];t[o]=jr(r,n)?i[r]:it}return t}function ta(t,e,n){var o=e+"";return kl(t,Dr(o,ra(Ir(o),n)))}function ea(t){var e=0,n=0;return function(){var o=Zp(),i=Lt-(o-n);if(n=o,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(it,arguments)}}function na(t,e){var n=-1,o=t.length,i=o-1;for(e=e===it?o:e;++n<e;){var r=oi(n,i),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}function oa(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function ia(t){if(null!=t){try{return bp.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ra(t,e){return h(Xt,function(n){var o="_."+n[0];e&n[1]&&!f(t,o)&&t.push(o)}),t.sort()}function aa(t){if(t instanceof _)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sa(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Vp(Mu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,r=0,a=ap(Up(o/e));i<o;)a[r++]=li(t,i,i+=e);return a}function ua(t){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var r=t[e];r&&(i[o++]=r)}return i}function ha(){var t=arguments.length;if(!t)return[];for(var e=ap(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return v(_c(n)?Xi(n):[n],eo(e,1))}function pa(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),li(t,e<0?0:e,o)):[]}function la(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,0,e<0?0:e)):[]}function ca(t,e){return t&&t.length?xi(t,Cr(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?xi(t,Cr(e,3),!0):[]}function da(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Kr(t,e,n)&&(n=0,o=i),Qn(t,e,n,o)):[]}function ya(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),P(t,Cr(e,3),i)}function va(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==it&&(i=Mu(n),i=n<0?Vp(o+i,0):$p(i,o-1)),P(t,Cr(e,3),i,!0)}function ga(t){var e=null==t?0:t.length;return e?eo(t,1):[]}function ma(t){var e=null==t?0:t.length;return e?eo(t,kt):[]}function ba(t,e){var n=null==t?0:t.length;return n?(e=e===it?1:Mu(e),eo(t,e)):[]}function _a(t){for(var e=-1,n=null==t?0:t.length,o={};++e<n;){var i=t[e];o[i[0]]=i[1]}return o}function xa(t){return t&&t.length?t[0]:it}function wa(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),S(t,e,i)}function Pa(t){var e=null==t?0:t.length;return e?li(t,0,-1):[]}function Sa(t,e){return null==t?"":Hp.call(t,e)}function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Ma(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==it&&(i=Mu(n),i=i<0?Vp(o+i,0):$p(i,o-1)),e===e?J(t,e,i):P(t,M,i,!0)}function Ta(t,e){return t&&t.length?$o(t,Mu(e)):it}function Aa(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,Cr(n,2)):t}function La(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,it,n):t}function Ia(t,e){var n=[];if(!t||!t.length)return n;var o=-1,i=[],r=t.length;for(e=Cr(e,3);++o<r;){var a=t[o];e(a,o,t)&&(n.push(a),i.push(o))}return ni(t,i),n}function Na(t){return null==t?t:tl.call(t)}function Oa(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Kr(t,e,n)?(e=0,n=o):(e=null==e?0:Mu(e),n=n===it?o:Mu(n)),li(t,e,n)):[]}function ka(t,e){return fi(t,e)}function Ra(t,e,n){return di(t,e,Cr(n,2))}function Da(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e);if(o<n&&Vs(t[o],e))return o}return-1}function Fa(t,e){return fi(t,e,!0)}function ja(t,e,n){return di(t,e,Cr(n,2),!0)}function Ka(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e,!0)-1;if(Vs(t[o],e))return o}return-1}function Ba(t){return t&&t.length?yi(t):[]}function Xa(t,e){return t&&t.length?yi(t,Cr(e,2)):[]}function Ua(t){var e=null==t?0:t.length;return e?li(t,1,e):[]}function Ya(t,e,n){return t&&t.length?(e=n||e===it?1:Mu(e),li(t,0,e<0?0:e)):[]}function Ga(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,e<0?0:e,o)):[]}function Wa(t,e){return t&&t.length?xi(t,Cr(e,3),!1,!0):[]}function za(t,e){return t&&t.length?xi(t,Cr(e,3)):[]}function Ha(t){return t&&t.length?mi(t):[]}function qa(t,e){return t&&t.length?mi(t,Cr(e,2)):[]}function Va(t,e){return e="function"==typeof e?e:it,t&&t.length?mi(t,it,e):[]}function $a(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Zs(t))return e=Vp(t.length,e),!0}),O(e,function(e){return y(t,A(e))})}function Za(t,e){if(!t||!t.length)return[];var n=$a(t);return null==e?n:y(n,function(t){return s(e,it,t)})}function Ja(t,e){return Si(t||[],e||[],Nn)}function Qa(t,e){return Si(t||[],e||[],hi)}function ts(t){var e=n(t);return e.__chain__=!0,e}function es(t,e){return e(t),t}function ns(t,e){return e(t)}function os(){return ts(this)}function is(){return new i(this.value(),this.__chain__)}function rs(){this.__values__===it&&(this.__values__=Su(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function as(){return this}function ss(t){for(var e,n=this;n instanceof o;){var i=aa(n);i.__index__=0,i.__values__=it,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function us(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:ns,args:[Na],thisArg:it}),new i(e,this.__chain__)}return this.thru(Na)}function hs(){return wi(this.__wrapped__,this.__actions__)}function ps(t,e,n){var o=_c(t)?l:Hn;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function ls(t,e){var n=_c(t)?c:to;return n(t,Cr(e,3))}function cs(t,e){return eo(ms(t,e),1)}function fs(t,e){return eo(ms(t,e),kt)}function ds(t,e,n){return n=n===it?1:Mu(n),eo(ms(t,e),n)}function ys(t,e){var n=_c(t)?h:ml;return n(t,Cr(e,3))}function vs(t,e){var n=_c(t)?p:bl;return n(t,Cr(e,3))}function gs(t,e,n,o){t=$s(t)?t:oh(t),n=n&&!o?Mu(n):0;var i=t.length;return n<0&&(n=Vp(i+n,0)),bu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&S(t,e,n)>-1}function ms(t,e){var n=_c(t)?y:Wo;return n(t,Cr(e,3))}function bs(t,e,n,o){return null==t?[]:(_c(e)||(e=null==e?[]:[e]),n=o?it:n,_c(n)||(n=null==n?[]:[n]),Zo(t,e,n))}function _s(t,e,n){var o=_c(t)?g:L,i=arguments.length<3;return o(t,Cr(e,4),n,i,ml)}function xs(t,e,n){var o=_c(t)?m:L,i=arguments.length<3;return o(t,Cr(e,4),n,i,bl)}function ws(t,e){var n=_c(t)?c:to;return n(t,Ds(Cr(e,3)))}function Ps(t){var e=_c(t)?An:si;return e(t)}function Ss(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Mu(e);var o=_c(t)?En:ui;return o(t,e)}function Cs(t){var e=_c(t)?Ln:pi;return e(t)}function Ms(t){if(null==t)return 0;if($s(t))return bu(t)?Q(t):t.length;var e=Ll(t);return e==Zt||e==ie?t.size:Uo(t).length}function Ts(t,e,n){var o=_c(t)?b:ci;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function As(t,e){if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Es(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,fr(t,St,it,it,it,it,e)}function Ls(t,e){var n;if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Is(t,e,n){e=n?it:e;var o=fr(t,_t,it,it,it,it,it,e);return o.placeholder=Is.placeholder,o}function Ns(t,e,n){e=n?it:e;var o=fr(t,xt,it,it,it,it,it,e);return o.placeholder=Ns.placeholder,o}function Os(t,e,n){function o(e){var n=c,o=f;return c=f=it,m=e,y=t.apply(o,n)}function i(t){return m=t,v=Ol(s,e),b?o(t):y}function r(t){var n=t-g,o=t-m,i=e-n;return _?$p(i,d-o):i}function a(t){var n=t-g,o=t-m;return g===it||n>=e||n<0||_&&o>=d}function s(){var t=uc();return a(t)?u(t):void(v=Ol(s,r(t)))}function u(t){return v=it,x&&c?o(t):(c=f=it,y)}function h(){v!==it&&Cl(v),m=0,c=g=f=v=it}function p(){return v===it?y:u(uc())}function l(){var t=uc(),n=a(t);if(c=arguments,f=this,g=t,n){if(v===it)return i(g);if(_)return v=Ol(s,e),o(g)}return v===it&&(v=Ol(s,e)),y}var c,f,d,y,v,g,m=0,b=!1,_=!1,x=!0;if("function"!=typeof t)throw new dp(ut);return e=Au(e)||0,uu(n)&&(b=!!n.leading,_="maxWait"in n,d=_?Vp(Au(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),l.cancel=h,l.flush=p,l}function ks(t){return fr(t,Mt)}function Rs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new dp(ut);var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=t.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(Rs.Cache||cn),n}function Ds(t){if("function"!=typeof t)throw new dp(ut);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Fs(t){return Ls(2,t)}function js(t,e){if("function"!=typeof t)throw new dp(ut);return e=e===it?e:Mu(e),ai(t,e)}function Ks(t,e){if("function"!=typeof t)throw new dp(ut);return e=null==e?0:Vp(Mu(e),0),ai(function(n){var o=n[e],i=Ai(n,0,e);return o&&v(i,o),s(t,this,i)})}function Bs(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new dp(ut);return uu(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Os(t,e,{leading:o,maxWait:e,trailing:i})}function Xs(t){return Es(t,1)}function Us(t,e){return dc(Mi(e),t)}function Ys(){if(!arguments.length)return[];var t=arguments[0];return _c(t)?t:[t]}function Gs(t){return Bn(t,dt)}function Ws(t,e){return e="function"==typeof e?e:it,Bn(t,dt,e)}function zs(t){return Bn(t,ct|dt)}function Hs(t,e){return e="function"==typeof e?e:it,Bn(t,ct|dt,e)}function qs(t,e){return null==e||Un(t,e,Gu(e))}function Vs(t,e){return t===e||t!==t&&e!==e}function $s(t){return null!=t&&su(t.length)&&!ru(t)}function Zs(t){return hu(t)&&$s(t)}function Js(t){return t===!0||t===!1||hu(t)&&lo(t)==Wt}function Qs(t){return hu(t)&&1===t.nodeType&&!gu(t)}function tu(t){if(null==t)return!0;if($s(t)&&(_c(t)||"string"==typeof t||"function"==typeof t.splice||wc(t)||Tc(t)||bc(t)))return!t.length;var e=Ll(t);if(e==Zt||e==ie)return!t.size;if(Gr(t))return!Uo(t).length;for(var n in t)if(_p.call(t,n))return!1;return!0}function eu(t,e){return Oo(t,e)}function nu(t,e,n){n="function"==typeof n?n:it;var o=n?n(t,e):it;return o===it?Oo(t,e,it,n):!!o}function ou(t){if(!hu(t))return!1;var e=lo(t);return e==qt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function iu(t){return"number"==typeof t&&zp(t)}function ru(t){if(!uu(t))return!1;var e=lo(t);return e==Vt||e==$t||e==Gt||e==ne}function au(t){return"number"==typeof t&&t==Mu(t)}function su(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function uu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function hu(t){return null!=t&&"object"==typeof t}function pu(t,e){return t===e||Do(t,e,Tr(e))}function lu(t,e,n){return n="function"==typeof n?n:it,Do(t,e,Tr(e),n)}function cu(t){return vu(t)&&t!=+t}function fu(t){if(Il(t))throw new up(st);return Fo(t)}function du(t){return null===t}function yu(t){return null==t}function vu(t){return"number"==typeof t||hu(t)&&lo(t)==Jt}function gu(t){if(!hu(t)||lo(t)!=te)return!1;var e=Ip(t);if(null===e)return!0;var n=_p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bp.call(n)==Sp}function mu(t){return au(t)&&t>=-Rt&&t<=Rt}function bu(t){return"string"==typeof t||!_c(t)&&hu(t)&&lo(t)==re}function _u(t){return"symbol"==typeof t||hu(t)&&lo(t)==ae}function xu(t){return t===it}function wu(t){return hu(t)&&Ll(t)==ue}function Pu(t){return hu(t)&&lo(t)==he}function Su(t){if(!t)return[];if($s(t))return bu(t)?tt(t):Xi(t);if(Dp&&t[Dp])return W(t[Dp]());var e=Ll(t),n=e==Zt?z:e==ie?V:oh;return n(t)}function Cu(t){if(!t)return 0===t?t:0;if(t=Au(t),t===kt||t===-kt){var e=t<0?-1:1;return e*Dt}return t===t?t:0}function Mu(t){var e=Cu(t),n=e%1;return e===e?n?e-n:e:0}function Tu(t){return t?Kn(Mu(t),0,jt):0}function Au(t){if("number"==typeof t)return t;if(_u(t))return Ft;if(uu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=uu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Fe,"");var n=qe.test(t);return n||$e.test(t)?io(t.slice(2),n?2:8):He.test(t)?Ft:+t}function Eu(t){return Ui(t,Wu(t))}function Lu(t){return t?Kn(Mu(t),-Rt,Rt):0===t?t:0}function Iu(t){return null==t?"":gi(t)}function Nu(t,e){var n=gl(t);return null==e?n:Rn(n,e)}function Ou(t,e){return w(t,Cr(e,3),no)}function ku(t,e){return w(t,Cr(e,3),ro)}function Ru(t,e){return null==t?t:_l(t,Cr(e,3),Wu)}function Du(t,e){return null==t?t:xl(t,Cr(e,3),Wu)}function Fu(t,e){return t&&no(t,Cr(e,3))}function ju(t,e){return t&&ro(t,Cr(e,3))}function Ku(t){return null==t?[]:ao(t,Gu(t))}function Bu(t){return null==t?[]:ao(t,Wu(t))}function Xu(t,e,n){var o=null==t?it:uo(t,e);return o===it?n:o}function Uu(t,e){return null!=t&&Nr(t,e,_o)}function Yu(t,e){return null!=t&&Nr(t,e,So)}function Gu(t){return $s(t)?Tn(t):Uo(t)}function Wu(t){return $s(t)?Tn(t,!0):Yo(t)}function zu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Fn(n,e(t,o,i),t)}),n}function Hu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Fn(n,o,e(t,o,i))}),n}function qu(t,e){return Vu(t,Ds(Cr(e)))}function Vu(t,e){if(null==t)return{};var n=y(wr(t),function(t){return[t]});return e=Cr(e),Qo(t,n,function(t,n){return e(t,n[0])})}function $u(t,e,n){e=Ti(e,t);var o=-1,i=e.length;for(i||(i=1,t=it);++o<i;){var r=null==t?it:t[oa(e[o])];r===it&&(o=i,r=n),t=ru(r)?r.call(t):r}return t}function Zu(t,e,n){return null==t?t:hi(t,e,n)}function Ju(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:hi(t,e,n,o)}function Qu(t,e,n){var o=_c(t),i=o||wc(t)||Tc(t);if(e=Cr(e,4),null==n){var r=t&&t.constructor;n=i?o?new r:[]:uu(t)&&ru(r)?gl(Ip(t)):{}}return(i?h:no)(t,function(t,o,i){return e(n,t,o,i)}),n}function th(t,e){return null==t||bi(t,e)}function eh(t,e,n){return null==t?t:_i(t,e,Mi(n))}function nh(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:_i(t,e,Mi(n),o)}function oh(t){return null==t?[]:D(t,Gu(t))}function ih(t){return null==t?[]:D(t,Wu(t))}function rh(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Au(n),n=n===n?n:0),e!==it&&(e=Au(e),e=e===e?e:0),Kn(Au(t),e,n)}function ah(t,e,n){return e=Cu(e),n===it?(n=e,e=0):n=Cu(n),t=Au(t),Mo(t,e,n)}function sh(t,e,n){if(n&&"boolean"!=typeof n&&Kr(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Cu(t),e===it?(e=t,t=0):e=Cu(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=Qp();return $p(t+i*(e-t+oo("1e-"+((i+"").length-1))),e)}return oi(t,e)}function uh(t){return Qc(Iu(t).toLowerCase())}function hh(t){return t=Iu(t),t&&t.replace(Je,xo).replace(Gn,"")}function ph(t,e,n){t=Iu(t),e=gi(e);var o=t.length;n=n===it?o:Kn(Mu(n),0,o);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lh(t){return t=Iu(t),t&&Te.test(t)?t.replace(Ce,wo):t}function ch(t){return t=Iu(t),t&&De.test(t)?t.replace(Re,"\\$&"):t}function fh(t,e,n){t=Iu(t),e=Mu(e);var o=e?Q(t):0;if(!e||o>=e)return t;var i=(e-o)/2;return ar(Yp(i),n)+t+ar(Up(i),n)}function dh(t,e,n){t=Iu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?t+ar(e-o,n):t}function yh(t,e,n){t=Iu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?ar(e-o,n)+t:t}function vh(t,e,n){return n||null==e?e=0:e&&(e=+e),Jp(Iu(t).replace(je,""),e||0)}function gh(t,e,n){return e=(n?Kr(t,e,n):e===it)?1:Mu(e),ri(Iu(t),e)}function mh(){var t=arguments,e=Iu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bh(t,e,n){return n&&"number"!=typeof n&&Kr(t,e,n)&&(e=n=it),(n=n===it?jt:n>>>0)?(t=Iu(t),t&&("string"==typeof e||null!=e&&!Cc(e))&&(e=gi(e),!e&&Y(t))?Ai(tt(t),0,n):t.split(e,n)):[]}function _h(t,e,n){return t=Iu(t),n=null==n?0:Kn(Mu(n),0,t.length),e=gi(e),t.slice(n,n+e.length)==e}function xh(t,e,o){var i=n.templateSettings;o&&Kr(t,e,o)&&(e=it),t=Iu(t),e=Nc({},e,i,dr);var r,a,s=Nc({},e.imports,i.imports,dr),u=Gu(s),h=D(s,u),p=0,l=e.interpolate||Qe,c="__p += '",f=cp((e.escape||Qe).source+"|"+l.source+"|"+(l===Le?We:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++$n+"]")+"\n";t.replace(f,function(e,n,o,i,s,u){return o||(o=i),c+=t.slice(p,u).replace(tn,X),n&&(r=!0,c+="' +\n__e("+n+") +\n'"),s&&(a=!0,c+="';\n"+s+";\n__p += '"),o&&(c+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),p=u+e.length,e}),c+="';\n";var y=e.variable;y||(c="with (obj) {\n"+c+"\n}\n"),c=(a?c.replace(xe,""):c).replace(we,"$1").replace(Pe,"$1;"),c="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var v=tf(function(){return hp(u,d+"return "+c).apply(it,h)});if(v.source=c,ou(v))throw v;return v}function wh(t){return Iu(t).toLowerCase()}function Ph(t){return Iu(t).toUpperCase()}function Sh(t,e,n){if(t=Iu(t),t&&(n||e===it))return t.replace(Fe,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=tt(e),r=j(o,i),a=K(o,i)+1;return Ai(o,r,a).join("")}function Ch(t,e,n){if(t=Iu(t),t&&(n||e===it))return t.replace(Ke,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=K(o,tt(e))+1;return Ai(o,0,i).join("")}function Mh(t,e,n){if(t=Iu(t),t&&(n||e===it))return t.replace(je,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=j(o,tt(e));return Ai(o,i).join("")}function Th(t,e){var n=Tt,o=At;if(uu(e)){var i="separator"in e?e.separator:i;n="length"in e?Mu(e.length):n,o="omission"in e?gi(e.omission):o}t=Iu(t);var r=t.length;if(Y(t)){var a=tt(t);r=a.length}if(n>=r)return t;var s=n-Q(o);if(s<1)return o;var u=a?Ai(a,0,s).join(""):t.slice(0,s);if(i===it)return u+o;if(a&&(s+=u.length-s),Cc(i)){if(t.slice(s).search(i)){var h,p=u;for(i.global||(i=cp(i.source,Iu(ze.exec(i))+"g")),i.lastIndex=0;h=i.exec(p);)var l=h.index;u=u.slice(0,l===it?s:l)}}else if(t.indexOf(gi(i),s)!=s){var c=u.lastIndexOf(i);c>-1&&(u=u.slice(0,c))}return u+o}function Ah(t){return t=Iu(t),t&&Me.test(t)?t.replace(Se,Po):t}function Eh(t,e,n){return t=Iu(t),e=n?it:e,e===it?G(t)?ot(t):x(t):t.match(e)||[]}function Lh(t){var e=null==t?0:t.length,n=Cr();return t=e?y(t,function(t){if("function"!=typeof t[1])throw new dp(ut);return[n(t[0]),t[1]]}):[],ai(function(n){for(var o=-1;++o<e;){var i=t[o];if(s(i[0],this,n))return s(i[1],this,n)}})}function Ih(t){return Xn(Bn(t,ct))}function Nh(t){return function(){return t}}function Oh(t,e){return null==t||t!==t?e:t}function kh(t){return t}function Rh(t){return Xo("function"==typeof t?t:Bn(t,ct))}function Dh(t){return zo(Bn(t,ct))}function Fh(t,e){return Ho(t,Bn(e,ct))}function jh(t,e,n){var o=Gu(e),i=ao(e,o);null!=n||uu(e)&&(i.length||!o.length)||(n=e,e=t,t=this,i=ao(e,Gu(e)));var r=!(uu(n)&&"chain"in n&&!n.chain),a=ru(t);return h(i,function(n){var o=e[n];t[n]=o,a&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__),i=n.__actions__=Xi(this.__actions__);return i.push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,v([this.value()],arguments))})}),t}function Kh(){return so._===this&&(so._=Cp),this}function Bh(){}function Xh(t){return t=Mu(t),ai(function(e){return $o(e,t)})}function Uh(t){return Br(t)?A(oa(t)):ti(t)}function Yh(t){return function(e){return null==t?it:uo(t,e)}}function Gh(){return[]}function Wh(){return!1}function zh(){return{}}function Hh(){return""}function qh(){return!0}function Vh(t,e){if(t=Mu(t),t<1||t>Rt)return[];var n=jt,o=$p(t,jt);e=Cr(e),t-=jt;for(var i=O(o,e);++n<t;)e(n);return i}function $h(t){return _c(t)?y(t,oa):_u(t)?[t]:Xi(Rl(Iu(t)))}function Zh(t){var e=++xp;return Iu(t)+e}function Jh(t){return t&&t.length?qn(t,kh,co):it}function Qh(t,e){return t&&t.length?qn(t,Cr(e,2),co):it}function tp(t){return T(t,kh)}function ep(t,e){return T(t,Cr(e,2))}function np(t){return t&&t.length?qn(t,kh,Go):it}function op(t,e){return t&&t.length?qn(t,Cr(e,2),Go):it}function ip(t){return t&&t.length?N(t,kh):0}function rp(t,e){return t&&t.length?N(t,Cr(e,2)):0}e=null==e?so:Co.defaults(so.Object(),e,Co.pick(so,Vn));var ap=e.Array,sp=e.Date,up=e.Error,hp=e.Function,pp=e.Math,lp=e.Object,cp=e.RegExp,fp=e.String,dp=e.TypeError,yp=ap.prototype,vp=hp.prototype,gp=lp.prototype,mp=e["__core-js_shared__"],bp=vp.toString,_p=gp.hasOwnProperty,xp=0,wp=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Pp=gp.toString,Sp=bp.call(lp),Cp=so._,Mp=cp("^"+bp.call(_p).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tp=po?e.Buffer:it,Ap=e.Symbol,Ep=e.Uint8Array,Lp=Tp?Tp.allocUnsafe:it,Ip=H(lp.getPrototypeOf,lp),Np=lp.create,Op=gp.propertyIsEnumerable,kp=yp.splice,Rp=Ap?Ap.isConcatSpreadable:it,Dp=Ap?Ap.iterator:it,Fp=Ap?Ap.toStringTag:it,jp=function(){try{var t=Ar(lp,"defineProperty");return t({},"",{}),t}catch(t){}}(),Kp=e.clearTimeout!==so.clearTimeout&&e.clearTimeout,Bp=sp&&sp.now!==so.Date.now&&sp.now,Xp=e.setTimeout!==so.setTimeout&&e.setTimeout,Up=pp.ceil,Yp=pp.floor,Gp=lp.getOwnPropertySymbols,Wp=Tp?Tp.isBuffer:it,zp=e.isFinite,Hp=yp.join,qp=H(lp.keys,lp),Vp=pp.max,$p=pp.min,Zp=sp.now,Jp=e.parseInt,Qp=pp.random,tl=yp.reverse,el=Ar(e,"DataView"),nl=Ar(e,"Map"),ol=Ar(e,"Promise"),il=Ar(e,"Set"),rl=Ar(e,"WeakMap"),al=Ar(lp,"create"),sl=rl&&new rl,ul={},hl=ia(el),pl=ia(nl),ll=ia(ol),cl=ia(il),fl=ia(rl),dl=Ap?Ap.prototype:it,yl=dl?dl.valueOf:it,vl=dl?dl.toString:it,gl=function(){function t(){}return function(e){if(!uu(e))return{};if(Np)return Np(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Ae,evaluate:Ee,interpolate:Le,variable:"",imports:{_:n}},n.prototype=o.prototype,n.prototype.constructor=n,i.prototype=gl(o.prototype),i.prototype.constructor=i,_.prototype=gl(o.prototype),_.prototype.constructor=_,nt.prototype.clear=Ye,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=on,nt.prototype.set=rn,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=hn,an.prototype.has=pn,an.prototype.set=ln,cn.prototype.clear=fn,cn.prototype.delete=dn,cn.prototype.get=yn,cn.prototype.has=vn,cn.prototype.set=gn,mn.prototype.add=mn.prototype.push=bn,mn.prototype.has=_n,xn.prototype.clear=wn,xn.prototype.delete=Pn,xn.prototype.get=Sn,xn.prototype.has=Cn,xn.prototype.set=Mn;var ml=Hi(no),bl=Hi(ro,!0),_l=qi(),xl=qi(!0),wl=sl?function(t,e){return sl.set(t,e),t}:kh,Pl=jp?function(t,e){return jp(t,"toString",{configurable:!0,enumerable:!1,value:Nh(e),writable:!0})}:kh,Sl=ai,Cl=Kp||function(t){return so.clearTimeout(t)},Ml=il&&1/V(new il([,-0]))[1]==kt?function(t){return new il(t)}:Bh,Tl=sl?function(t){return sl.get(t)}:Bh,Al=Gp?function(t){return null==t?[]:(t=lp(t),c(Gp(t),function(e){return Op.call(t,e)}))}:Gh,El=Gp?function(t){for(var e=[];t;)v(e,Al(t)),t=Ip(t);return e}:Gh,Ll=lo;(el&&Ll(new el(new ArrayBuffer(1)))!=le||nl&&Ll(new nl)!=Zt||ol&&Ll(ol.resolve())!=ee||il&&Ll(new il)!=ie||rl&&Ll(new rl)!=ue)&&(Ll=function(t){var e=lo(t),n=e==te?t.constructor:it,o=n?ia(n):"";if(o)switch(o){case hl:return le;case pl:return Zt;case ll:return ee;case cl:return ie;case fl:return ue}return e});var Il=mp?ru:Wh,Nl=ea(wl),Ol=Xp||function(t,e){return so.setTimeout(t,e)},kl=ea(Pl),Rl=Hr(function(t){var e=[];return Oe.test(t)&&e.push(""),t.replace(ke,function(t,n,o,i){e.push(o?i.replace(Ge,"$1"):n||t)}),e}),Dl=ai(function(t,e){return Zs(t)?zn(t,eo(e,1,Zs,!0)):[]}),Fl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),Cr(n,2)):[]}),jl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),it,n):[]}),Kl=ai(function(t){var e=y(t,Ci);return e.length&&e[0]===t[0]?To(e):[]}),Bl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e===Ca(n)?e=it:n.pop(),n.length&&n[0]===t[0]?To(n,Cr(e,2)):[]}),Xl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?To(n,it,e):[]}),Ul=ai(Aa),Yl=_r(function(t,e){var n=null==t?0:t.length,o=jn(t,e);return ni(t,y(e,function(t){return jr(t,n)?+t:t}).sort(Fi)),o}),Gl=ai(function(t){return mi(eo(t,1,Zs,!0))}),Wl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),mi(eo(t,1,Zs,!0),Cr(e,2))}),zl=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,mi(eo(t,1,Zs,!0),it,e)}),Hl=ai(function(t,e){return Zs(t)?zn(t,e):[]}),ql=ai(function(t){return Pi(c(t,Zs))}),Vl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),Pi(c(t,Zs),Cr(e,2))}),$l=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,Pi(c(t,Zs),it,e)}),Zl=ai($a),Jl=ai(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Za(t,n)}),Ql=_r(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,r=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof _&&jr(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:ns,args:[r],thisArg:it}),new i(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(r)}),tc=Wi(function(t,e,n){_p.call(t,n)?++t[n]:Fn(t,n,1)}),ec=tr(ya),nc=tr(va),oc=Wi(function(t,e,n){_p.call(t,n)?t[n].push(e):Fn(t,n,[e])}),ic=ai(function(t,e,n){var o=-1,i="function"==typeof e,r=$s(t)?ap(t.length):[];return ml(t,function(t){r[++o]=i?s(e,t,n):Eo(t,e,n)}),r}),rc=Wi(function(t,e,n){Fn(t,n,e)}),ac=Wi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sc=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Kr(t,e[0],e[1])?e=[]:n>2&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),Zo(t,eo(e,1),[])}),uc=Bp||function(){return so.Date.now()},hc=ai(function(t,e,n){var o=gt;if(n.length){var i=q(n,Sr(hc));o|=wt}return fr(t,o,e,n,i)}),pc=ai(function(t,e,n){var o=gt|mt;if(n.length){var i=q(n,Sr(pc));o|=wt}return fr(e,o,t,n,i)}),lc=ai(function(t,e){return Wn(t,1,e)}),cc=ai(function(t,e,n){return Wn(t,Au(e)||0,n)});Rs.Cache=cn;var fc=Sl(function(t,e){e=1==e.length&&_c(e[0])?y(e[0],R(Cr())):y(eo(e,1),R(Cr()));var n=e.length;return ai(function(o){for(var i=-1,r=$p(o.length,n);++i<r;)o[i]=e[i].call(this,o[i]);return s(t,this,o)})}),dc=ai(function(t,e){var n=q(e,Sr(dc));return fr(t,wt,it,e,n)}),yc=ai(function(t,e){var n=q(e,Sr(yc));return fr(t,Pt,it,e,n)}),vc=_r(function(t,e){return fr(t,Ct,it,it,it,e)}),gc=hr(co),mc=hr(function(t,e){return t>=e}),bc=Lo(function(){return arguments}())?Lo:function(t){return hu(t)&&_p.call(t,"callee")&&!Op.call(t,"callee")},_c=ap.isArray,xc=fo?R(fo):Io,wc=Wp||Wh,Pc=yo?R(yo):No,Sc=vo?R(vo):Ro,Cc=go?R(go):jo,Mc=mo?R(mo):Ko,Tc=bo?R(bo):Bo,Ac=hr(Go),Ec=hr(function(t,e){return t<=e}),Lc=zi(function(t,e){if(Gr(e)||$s(e))return void Ui(e,Gu(e),t);for(var n in e)_p.call(e,n)&&Nn(t,n,e[n])}),Ic=zi(function(t,e){Ui(e,Wu(e),t)}),Nc=zi(function(t,e,n,o){Ui(e,Wu(e),t,o)}),Oc=zi(function(t,e,n,o){Ui(e,Gu(e),t,o)}),kc=_r(jn),Rc=ai(function(t){return t.push(it,dr),s(Nc,it,t)}),Dc=ai(function(t){return t.push(it,yr),s(Xc,it,t)}),Fc=or(function(t,e,n){t[e]=n},Nh(kh)),jc=or(function(t,e,n){_p.call(t,e)?t[e].push(n):t[e]=[n]},Cr),Kc=ai(Eo),Bc=zi(function(t,e,n){qo(t,e,n)}),Xc=zi(function(t,e,n,o){qo(t,e,n,o)}),Uc=_r(function(t,e){var n={};if(null==t)return n;var o=!1;e=y(e,function(e){return e=Ti(e,t),o||(o=e.length>1),e}),Ui(t,wr(t),n),o&&(n=Bn(n,ct|ft|dt,vr));for(var i=e.length;i--;)bi(n,e[i]);return n}),Yc=_r(function(t,e){return null==t?{}:Jo(t,e)}),Gc=cr(Gu),Wc=cr(Wu),zc=Zi(function(t,e,n){return e=e.toLowerCase(),t+(n?uh(e):e)}),Hc=Zi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qc=Zi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vc=$i("toLowerCase"),$c=Zi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zc=Zi(function(t,e,n){return t+(n?" ":"")+Qc(e)}),Jc=Zi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qc=$i("toUpperCase"),tf=ai(function(t,e){try{return s(t,it,e)}catch(t){return ou(t)?t:new up(t)}
}),ef=_r(function(t,e){return h(e,function(e){e=oa(e),Fn(t,e,hc(t[e],t))}),t}),nf=er(),of=er(!0),rf=ai(function(t,e){return function(n){return Eo(n,t,e)}}),af=ai(function(t,e){return function(n){return Eo(t,n,e)}}),sf=rr(y),uf=rr(l),hf=rr(b),pf=ur(),lf=ur(!0),cf=ir(function(t,e){return t+e},0),ff=lr("ceil"),df=ir(function(t,e){return t/e},1),yf=lr("floor"),vf=ir(function(t,e){return t*e},1),gf=lr("round"),mf=ir(function(t,e){return t-e},0);return n.after=As,n.ary=Es,n.assign=Lc,n.assignIn=Ic,n.assignInWith=Nc,n.assignWith=Oc,n.at=kc,n.before=Ls,n.bind=hc,n.bindAll=ef,n.bindKey=pc,n.castArray=Ys,n.chain=ts,n.chunk=sa,n.compact=ua,n.concat=ha,n.cond=Lh,n.conforms=Ih,n.constant=Nh,n.countBy=tc,n.create=Nu,n.curry=Is,n.curryRight=Ns,n.debounce=Os,n.defaults=Rc,n.defaultsDeep=Dc,n.defer=lc,n.delay=cc,n.difference=Dl,n.differenceBy=Fl,n.differenceWith=jl,n.drop=pa,n.dropRight=la,n.dropRightWhile=ca,n.dropWhile=fa,n.fill=da,n.filter=ls,n.flatMap=cs,n.flatMapDeep=fs,n.flatMapDepth=ds,n.flatten=ga,n.flattenDeep=ma,n.flattenDepth=ba,n.flip=ks,n.flow=nf,n.flowRight=of,n.fromPairs=_a,n.functions=Ku,n.functionsIn=Bu,n.groupBy=oc,n.initial=Pa,n.intersection=Kl,n.intersectionBy=Bl,n.intersectionWith=Xl,n.invert=Fc,n.invertBy=jc,n.invokeMap=ic,n.iteratee=Rh,n.keyBy=rc,n.keys=Gu,n.keysIn=Wu,n.map=ms,n.mapKeys=zu,n.mapValues=Hu,n.matches=Dh,n.matchesProperty=Fh,n.memoize=Rs,n.merge=Bc,n.mergeWith=Xc,n.method=rf,n.methodOf=af,n.mixin=jh,n.negate=Ds,n.nthArg=Xh,n.omit=Uc,n.omitBy=qu,n.once=Fs,n.orderBy=bs,n.over=sf,n.overArgs=fc,n.overEvery=uf,n.overSome=hf,n.partial=dc,n.partialRight=yc,n.partition=ac,n.pick=Yc,n.pickBy=Vu,n.property=Uh,n.propertyOf=Yh,n.pull=Ul,n.pullAll=Aa,n.pullAllBy=Ea,n.pullAllWith=La,n.pullAt=Yl,n.range=pf,n.rangeRight=lf,n.rearg=vc,n.reject=ws,n.remove=Ia,n.rest=js,n.reverse=Na,n.sampleSize=Ss,n.set=Zu,n.setWith=Ju,n.shuffle=Cs,n.slice=Oa,n.sortBy=sc,n.sortedUniq=Ba,n.sortedUniqBy=Xa,n.split=bh,n.spread=Ks,n.tail=Ua,n.take=Ya,n.takeRight=Ga,n.takeRightWhile=Wa,n.takeWhile=za,n.tap=es,n.throttle=Bs,n.thru=ns,n.toArray=Su,n.toPairs=Gc,n.toPairsIn=Wc,n.toPath=$h,n.toPlainObject=Eu,n.transform=Qu,n.unary=Xs,n.union=Gl,n.unionBy=Wl,n.unionWith=zl,n.uniq=Ha,n.uniqBy=qa,n.uniqWith=Va,n.unset=th,n.unzip=$a,n.unzipWith=Za,n.update=eh,n.updateWith=nh,n.values=oh,n.valuesIn=ih,n.without=Hl,n.words=Eh,n.wrap=Us,n.xor=ql,n.xorBy=Vl,n.xorWith=$l,n.zip=Zl,n.zipObject=Ja,n.zipObjectDeep=Qa,n.zipWith=Jl,n.entries=Gc,n.entriesIn=Wc,n.extend=Ic,n.extendWith=Nc,jh(n,n),n.add=cf,n.attempt=tf,n.camelCase=zc,n.capitalize=uh,n.ceil=ff,n.clamp=rh,n.clone=Gs,n.cloneDeep=zs,n.cloneDeepWith=Hs,n.cloneWith=Ws,n.conformsTo=qs,n.deburr=hh,n.defaultTo=Oh,n.divide=df,n.endsWith=ph,n.eq=Vs,n.escape=lh,n.escapeRegExp=ch,n.every=ps,n.find=ec,n.findIndex=ya,n.findKey=Ou,n.findLast=nc,n.findLastIndex=va,n.findLastKey=ku,n.floor=yf,n.forEach=ys,n.forEachRight=vs,n.forIn=Ru,n.forInRight=Du,n.forOwn=Fu,n.forOwnRight=ju,n.get=Xu,n.gt=gc,n.gte=mc,n.has=Uu,n.hasIn=Yu,n.head=xa,n.identity=kh,n.includes=gs,n.indexOf=wa,n.inRange=ah,n.invoke=Kc,n.isArguments=bc,n.isArray=_c,n.isArrayBuffer=xc,n.isArrayLike=$s,n.isArrayLikeObject=Zs,n.isBoolean=Js,n.isBuffer=wc,n.isDate=Pc,n.isElement=Qs,n.isEmpty=tu,n.isEqual=eu,n.isEqualWith=nu,n.isError=ou,n.isFinite=iu,n.isFunction=ru,n.isInteger=au,n.isLength=su,n.isMap=Sc,n.isMatch=pu,n.isMatchWith=lu,n.isNaN=cu,n.isNative=fu,n.isNil=yu,n.isNull=du,n.isNumber=vu,n.isObject=uu,n.isObjectLike=hu,n.isPlainObject=gu,n.isRegExp=Cc,n.isSafeInteger=mu,n.isSet=Mc,n.isString=bu,n.isSymbol=_u,n.isTypedArray=Tc,n.isUndefined=xu,n.isWeakMap=wu,n.isWeakSet=Pu,n.join=Sa,n.kebabCase=Hc,n.last=Ca,n.lastIndexOf=Ma,n.lowerCase=qc,n.lowerFirst=Vc,n.lt=Ac,n.lte=Ec,n.max=Jh,n.maxBy=Qh,n.mean=tp,n.meanBy=ep,n.min=np,n.minBy=op,n.stubArray=Gh,n.stubFalse=Wh,n.stubObject=zh,n.stubString=Hh,n.stubTrue=qh,n.multiply=vf,n.nth=Ta,n.noConflict=Kh,n.noop=Bh,n.now=uc,n.pad=fh,n.padEnd=dh,n.padStart=yh,n.parseInt=vh,n.random=sh,n.reduce=_s,n.reduceRight=xs,n.repeat=gh,n.replace=mh,n.result=$u,n.round=gf,n.runInContext=t,n.sample=Ps,n.size=Ms,n.snakeCase=$c,n.some=Ts,n.sortedIndex=ka,n.sortedIndexBy=Ra,n.sortedIndexOf=Da,n.sortedLastIndex=Fa,n.sortedLastIndexBy=ja,n.sortedLastIndexOf=Ka,n.startCase=Zc,n.startsWith=_h,n.subtract=mf,n.sum=ip,n.sumBy=rp,n.template=xh,n.times=Vh,n.toFinite=Cu,n.toInteger=Mu,n.toLength=Tu,n.toLower=wh,n.toNumber=Au,n.toSafeInteger=Lu,n.toString=Iu,n.toUpper=Ph,n.trim=Sh,n.trimEnd=Ch,n.trimStart=Mh,n.truncate=Th,n.unescape=Ah,n.uniqueId=Zh,n.upperCase=Jc,n.upperFirst=Qc,n.each=ys,n.eachRight=vs,n.first=xa,jh(n,function(){var t={};return no(n,function(e,o){_p.call(n.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),n.VERSION=rt,h(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),h(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===it?1:Vp(Mu(n),0);var o=this.__filtered__&&!e?new _(this):this.clone();return o.__filtered__?o.__takeCount__=$p(n,o.__takeCount__):o.__views__.push({size:$p(n,jt),type:t+(o.__dir__<0?"Right":"")}),o},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),h(["filter","map","takeWhile"],function(t,e){var n=e+1,o=n==It||n==Ot;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Cr(t,3),type:n}),e.__filtered__=e.__filtered__||o,e}}),h(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),h(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(kh)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Eo(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Ds(Cr(t)))},_.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=Mu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(jt)},no(_.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=n[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,h=e instanceof _,p=u[0],l=h||_c(e),c=function(t){var e=a.apply(n,v([t],u));return r&&f?e[0]:e};l&&o&&"function"==typeof p&&1!=p.length&&(h=l=!1);var f=this.__chain__,d=!!this.__actions__.length,y=s&&!f,g=h&&!d;if(!s&&l){e=g?e:new _(this);var m=t.apply(e,u);return m.__actions__.push({func:ns,args:[c],thisArg:it}),new i(m,f)}return y&&g?t.apply(this,u):(m=this.thru(c),y?r?m.value()[0]:m.value():m)})}),h(["pop","push","shift","sort","splice","unshift"],function(t){var e=yp[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(_c(n)?n:[],t)}return this[o](function(n){return e.apply(_c(n)?n:[],t)})}}),no(_.prototype,function(t,e){var o=n[e];if(o){var i=o.name+"",r=ul[i]||(ul[i]=[]);r.push({name:e,func:o})}}),ul[nr(it,mt).name]=[{name:"wrapper",func:it}],_.prototype.clone=E,_.prototype.reverse=Z,_.prototype.value=et,n.prototype.at=Ql,n.prototype.chain=os,n.prototype.commit=is,n.prototype.next=rs,n.prototype.plant=ss,n.prototype.reverse=us,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=hs,n.prototype.first=n.prototype.head,Dp&&(n.prototype[Dp]=as),n},Co=So();so._=Co,o=function(){return Co}.call(e,n,e,i),!(o!==it&&(i.exports=o))}).call(this)}).call(e,function(){return this}(),n(225)(t))},function(t,e,n){var o=n(15),i=n(70),r=n(57),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){/**
	 * vuex v2.1.1
	 * (c) 2016 Evan You
	 * @license MIT
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){w&&(t._devtoolHook=w,w.emit("vuex:init",t),w.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){w.emit("vuex:mutation",t,e)}))}function e(t){function e(){var t=this.$options;t.store?this.$store=t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}var n=Number(t.version.split(".")[0]);if(n>=2){var o=t.config._lifecycleHooks.indexOf("init")>-1;t.mixin(o?{init:e}:{beforeCreate:e})}else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,i.call(this,t)}}}function n(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function o(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function i(t,e){console.error("[vuex] module namespace not found in "+t+"(): "+e)}function r(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function a(t){return null!==t&&"object"==typeof t}function s(t){return t&&"function"==typeof t.then}function u(t,e){if(!t)throw new Error("[vuex] "+e)}function h(t,e){if(t.update(e),e.modules)for(var n in e.modules){if(!t.getChild(n))return void console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");h(t.getChild(n),e.modules[n])}}function p(t){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var e=t.state;c(t,e,[],t._modules.root,!0),l(t,e)}function l(t,e){var n=t._vm;t.getters={};var o=t._wrappedGetters,i={};r(o,function(e,n){i[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=L.config.silent;L.config.silent=!0,t._vm=new L({data:{state:e},computed:i}),L.config.silent=a,t.strict&&m(t),n&&(t._withCommit(function(){n.state=null}),L.nextTick(function(){return n.$destroy()}))}function c(t,e,n,o,i){var r=!n.length,a=t._modules.getNamespace(n);if(a&&(t._modulesNamespaceMap[a]=o),!r&&!i){var s=b(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){L.set(s,u,o.state)})}var h=o.context=f(t,a);o.forEachMutation(function(e,o){var i=a+o;y(t,i,e,n)}),o.forEachAction(function(e,o){var i=a+o;v(t,i,e,h,n)}),o.forEachGetter(function(e,o){var i=a+o;g(t,i,e,h,n)}),o.forEachChild(function(o,r){c(t,e,n.concat(r),o,i)})}function f(t,e){var n=""===e,o={dispatch:n?t.dispatch:function(n,o,i){var r=_(n,o,i),a=r.payload,s=r.options,u=r.type;return s&&s.root||(u=e+u,t._actions[u])?t.dispatch(u,a):void console.error("[vuex] unknown local action type: "+r.type+", global type: "+u)},commit:n?t.commit:function(n,o,i){var r=_(n,o,i),a=r.payload,s=r.options,u=r.type;return s&&s.root||(u=e+u,t._mutations[u])?void t.commit(u,a,s):void console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+u)}};return Object.defineProperty(o,"getters",{get:n?function(){return t.getters}:function(){return d(t,e)}}),o}function d(t,e){var n={},o=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,o)===e){var r=i.slice(o);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function y(t,e,n,o){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(e){n(b(t.state,o),e)})}function v(t,e,n,o,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var a=n({dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:b(t.state,i),rootGetters:t.getters,rootState:t.state},e,r);return s(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}function g(t,e,n,o,i){return t._wrappedGetters[e]?void console.error("[vuex] duplicate getter key: "+e):void(t._wrappedGetters[e]=function(t){return n(b(t.state,i),o.getters,t.state,t.getters)})}function m(t){t._vm.$watch("state",function(){u(t._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function b(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function _(t,e,n){return a(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function x(t){return L?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(L=t,void e(L))}var w="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,P=o(function(t,e){var o={};return n(e).forEach(function(e){var n=e.key,r=e.val;o[n]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var o=this.$store._modulesNamespaceMap[t];if(!o)return void i("mapState",t);e=o.state,n=o.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]}}),o}),S=o(function(t,e){var o={};return n(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,o[n]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.$store.commit.apply(this.$store,[i].concat(t))}}),o}),C=o(function(t,e){var o={};return n(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,o[n]=function(){return i in this.$store.getters||console.error("[vuex] unknown getter: "+i),this.$store.getters[i]}}),o}),M=o(function(t,e){var o={};return n(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,o[n]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.$store.dispatch.apply(this.$store,[i].concat(t))}}),o}),T=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t},A={state:{},namespaced:{}};A.state.get=function(){return this._rawModule.state||{}},A.namespaced.get=function(){return!!this._rawModule.namespaced},T.prototype.addChild=function(t,e){this._children[t]=e},T.prototype.removeChild=function(t){delete this._children[t]},T.prototype.getChild=function(t){return this._children[t]},T.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},T.prototype.forEachChild=function(t){r(this._children,t)},T.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},T.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},T.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(T.prototype,A);var E=function(t){var e=this;this.root=new T(t,!1),t.modules&&r(t.modules,function(t,n){e.register([n],t,!1)})};E.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},E.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},E.prototype.update=function(t){h(this.root,t)},E.prototype.register=function(t,e,n){var o=this;void 0===n&&(n=!0);var i=this.get(t.slice(0,-1)),a=new T(e,n);i.addChild(t[t.length-1],a),e.modules&&r(e.modules,function(e,i){o.register(t.concat(i),e,n)})},E.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var L,I=function(e){var n=this;void 0===e&&(e={}),u(L,"must call Vue.use(Vuex) before creating a store instance."),u("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var o=e.state;void 0===o&&(o={});var i=e.plugins;void 0===i&&(i=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new E(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new L;var a=this,s=this,h=s.dispatch,p=s.commit;this.dispatch=function(t,e){return h.call(a,t,e)},this.commit=function(t,e,n){return p.call(a,t,e,n)},this.strict=r,c(this,o,[],this._modules.root),l(this,o),i.concat(t).forEach(function(t){return t(n)})},N={state:{}};N.state.get=function(){return this._vm.$data.state},N.state.set=function(t){u(!1,"Use store.replaceState() to explicit replace store state.")},I.prototype.commit=function(t,e,n){var o=this,i=_(t,e,n),r=i.type,a=i.payload,s=i.options,u={type:r,payload:a},h=this._mutations[r];return h?(this._withCommit(function(){h.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(u,o.state)}),void(s&&s.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools"))):void console.error("[vuex] unknown mutation type: "+r)},I.prototype.dispatch=function(t,e){var n=_(t,e),o=n.type,i=n.payload,r=this._actions[o];return r?r.length>1?Promise.all(r.map(function(t){return t(i)})):r[0](i):void console.error("[vuex] unknown action type: "+o)},I.prototype.subscribe=function(t){var e=this._subscribers;return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},I.prototype.watch=function(t,e,n){var o=this;return u("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return t(o.state,o.getters)},e,n)},I.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm.state=t})},I.prototype.registerModule=function(t,e){"string"==typeof t&&(t=[t]),u(Array.isArray(t),"module path must be a string or an Array."),this._modules.register(t,e),c(this,this.state,t,this._modules.get(t)),l(this,this.state)},I.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),u(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var n=b(e.state,t.slice(0,-1));L.delete(n,t[t.length-1])}),p(this)},I.prototype.hotUpdate=function(t){this._modules.update(t),p(this)},I.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(I.prototype,N),"undefined"!=typeof window&&window.Vue&&x(window.Vue);var O={Store:I,install:x,version:"2.1.1",mapState:P,mapMutations:S,mapGetters:C,mapActions:M};return O})},function(t,e,n){t.exports={default:n(132),__esModule:!0}},,,function(t,e,n){var o=n(7),i=n(2),r=n(24),a=n(13),s="prototype",u=function(t,e,n){var h,p,l,c=t&u.F,f=t&u.G,d=t&u.S,y=t&u.P,v=t&u.B,g=t&u.W,m=f?i:i[e]||(i[e]={}),b=m[s],_=f?o:d?o[e]:(o[e]||{})[s];f&&(n=e);for(h in n)p=!c&&_&&void 0!==_[h],p&&h in m||(l=p?_[h]:n[h],m[h]=f&&"function"!=typeof _[h]?n[h]:v&&p?r(l,o):g&&_[h]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):y&&"function"==typeof l?r(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[h]=l,t&u.R&&b&&!b[h]&&a(b,h,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var o=n(5),i=n(25);t.exports=n(6)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports={default:n(135),__esModule:!0}},function(t,e,n){var o=n(20);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(48),i=n(33);t.exports=function(t){return o(i(t))}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(122),r=o(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports={}},function(t,e,n){var o=n(76),i=n(46);t.exports=Object.keys||function(t){return o(t,i)}},,function(t,e,n){var o=n(139);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(33);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(162)(!0);n(49)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return Ph(t(e),n)}}function n(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=Kh?i*=10:r>=Bh?i*=5:r>=Xh&&(i*=2),e<t?-i:i}function o(t){return t.length}function i(){}function r(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var o,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(o=t[r],r,t),o)}else if(t)for(var s in t)n.set(s,t[s]);return n}function a(){return{}}function s(t,e,n){t[e]=n}function u(){return r()}function h(t,e,n){t.set(e,n)}function p(){}function l(t,e){var n=new p;if(t instanceof p)t.each(function(t){n.add(t)});else if(t){var o=-1,i=t.length;if(null==e)for(;++o<i;)n.add(t[o]);else for(;++o<i;)n.add(e(t[o],o,t))}return n}function c(t){return+t}function f(t){return t*t}function d(t){return t*(2-t)}function y(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function v(t){return t*t*t}function g(t){return--t*t*t+1}function m(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function b(t){return 1-Math.cos(t*Pp)}function _(t){return Math.sin(t*Pp)}function x(t){return(1-Math.cos(wp*t))/2}function w(t){return Math.pow(2,10*t-10)}function P(t){return 1-Math.pow(2,-10*t)}function S(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function C(t){return 1-Math.sqrt(1-t*t)}function M(t){return Math.sqrt(1- --t*t)}function T(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function A(t){return 1-E(1-t)}function E(t){return(t=+t)<Sp?Op*t*t:t<Mp?Op*(t-=Cp)*t+Tp:t<Ep?Op*(t-=Ap)*t+Lp:Op*(t-=Ip)*t+Np}function L(t){return((t*=2)<=1?1-E(1-t):E(t-1)+1)/2}function I(t,e){return t[0]-e[0]||t[1]-e[1]}function N(t){for(var e=t.length,n=[0,1],o=2,i=2;i<e;++i){for(;o>1&&zp(t[n[o-2]],t[n[o-1]],t[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}function O(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function k(){return new O}function R(t,e,n,o){if(isNaN(e)||isNaN(n))return t;var i,r,a,s,u,h,p,l,c,f=t._root,d={data:o},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!f)return t._root=d,t;for(;f.length;)if((h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a,i=f,!(f=f[l=p<<1|h]))return i[l]=d,t;if(s=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===s&&n===u)return d.next=f,i?i[l]=d:t._root=d,t;do i=i?i[l]=new Array(4):t._root=new Array(4),(h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a;while((l=p<<1|h)===(c=(u>=a)<<1|s>=r));return i[c]=f,i[l]=d,t}function D(t){var e,n,o,i,r=t.length,a=new Array(r),s=new Array(r),u=1/0,h=1/0,p=-(1/0),l=-(1/0);for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,s[n]=i,o<u&&(u=o),o>p&&(p=o),i<h&&(h=i),i>l&&(l=i));for(p<u&&(u=this._x0,p=this._x1),l<h&&(h=this._y0,l=this._y1),this.cover(u,h).cover(p,l),n=0;n<r;++n)R(this,a[n],s[n],t[n]);return this}function F(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function j(t){return t[0]}function K(t){return t[1]}function B(t,e,n){var o=new X(null==e?j:e,null==n?K:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function X(t,e,n,o,i,r){this._x=t,this._y=e,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function U(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Y(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function G(t){if(!t._start)try{W(t)}catch(e){if(t._tasks[t._ended+t._active-1])H(t,e);else if(!t._data)throw e}}function W(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],o=n.length-1,i=n[o];n[o]=z(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||yl)}}function z(t,e){return function(n,o){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?H(t,n):(t._data[e]=o,t._waiting?G(t):q(t))))}}function H(t,e){var n,o=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--o>=0;)if((n=t._tasks[o])&&(t._tasks[o]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,q(t)}function q(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function V(t){return new Y(arguments.length?+t:1/0)}function $(t){return t.innerRadius}function Z(t){return t.outerRadius}function J(t){return t.startAngle}function Q(t){return t.endAngle}function tt(t){return t&&t.padAngle}function et(t){return t>=1?bl:t<=-1?-bl:Math.asin(t)}function nt(t,e,n,o,i,r,a,s){var u=n-t,h=o-e,p=a-i,l=s-r,c=(p*(e-r)-l*(t-i))/(l*u-p*h);return[t+c*u,e+c*h]}function ot(t,e,n,o,i,r,a){var s=t-n,u=e-o,h=(a?r:-r)/Math.sqrt(s*s+u*u),p=h*u,l=-h*s,c=t+p,f=e+l,d=n+p,y=o+l,v=(c+d)/2,g=(f+y)/2,m=d-c,b=y-f,_=m*m+b*b,x=i-r,w=c*y-d*f,P=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*_-w*w)),S=(w*b-m*P)/_,C=(-w*m-b*P)/_,M=(w*b+m*P)/_,T=(-w*m+b*P)/_,A=S-v,E=C-g,L=M-v,I=T-g;return A*A+E*E>L*L+I*I&&(S=M,C=T),{cx:S,cy:C,x01:-p,y01:-l,x11:S*(i/x-1),y11:C*(i/x-1)}}function it(t){this._context=t}function rt(t){return t[0]}function at(t){return t[1]}function st(t){this._curve=t}function ut(t){function e(e){return new st(t(e))}return e._curve=t,e}function ht(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ut(t)):e()._curve},t}function pt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lt(t){this._context=t}function ct(t){this._context=t}function ft(t){this._context=t}function dt(t,e){this._basis=new lt(t),this._beta=e}function yt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}function gt(t,e){this._context=t,this._k=(1-e)/6}function mt(t,e){this._context=t,this._k=(1-e)/6}function bt(t,e,n){var o=t._x1,i=t._y1,r=t._x2,a=t._y2;if(t._l01_a>gl){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>gl){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*h+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(o,i,r,a,t._x2,t._y2)}function _t(t,e){this._context=t,this._alpha=e}function xt(t,e){this._context=t,this._alpha=e}function wt(t,e){this._context=t,this._alpha=e}function Pt(t){this._context=t}function St(t){return t<0?-1:1}function Ct(t,e,n){var o=t._x1-t._x0,i=e-t._x1,r=(t._y1-t._y0)/(o||i<0&&-0),a=(n-t._y1)/(i||o<0&&-0),s=(r*i+a*o)/(o+i);return(St(r)+St(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function Mt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tt(t,e,n){var o=t._x0,i=t._y0,r=t._x1,a=t._y1,s=(r-o)/3;t._context.bezierCurveTo(o+s,i+s*e,r-s,a-s*n,r,a)}function At(t){this._context=t}function Et(t){this._context=new Lt(t)}function Lt(t){this._context=t}function It(t){return new At(t)}function Nt(t){return new Et(t)}function Ot(t){this._context=t}function kt(t){var e,n,o=t.length-1,i=new Array(o),r=new Array(o),a=new Array(o);for(i[0]=0,r[0]=2,a[0]=t[0]+2*t[1],e=1;e<o-1;++e)i[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[o-1]=2,r[o-1]=7,a[o-1]=8*t[o-1]+t[o],e=1;e<o;++e)n=i[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(i[o-1]=a[o-1]/r[o-1],e=o-2;e>=0;--e)i[e]=(a[e]-i[e+1])/r[e];for(r[o-1]=(t[o]+i[o-1])/2,e=0;e<o-1;++e)r[e]=2*t[e+1]-i[e+1];return[i,r]}function Rt(t,e){this._context=t,this._t=e}function Dt(t){return new Rt(t,0)}function Ft(t){return new Rt(t,1)}function jt(t,e){return t[e]}function Kt(t){for(var e,n=0,o=-1,i=t.length;++o<i;)(e=+t[o][1])&&(n+=e);return n}function Bt(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Xt(){}function Ut(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ac.exec(t))?(e=parseInt(e[1],16),new Ht(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Ec.exec(t))?Yt(parseInt(e[1],16)):(e=Lc.exec(t))?new Ht(e[1],e[2],e[3],1):(e=Ic.exec(t))?new Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Nc.exec(t))?Gt(e[1],e[2],e[3],e[4]):(e=Oc.exec(t))?Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=kc.exec(t))?qt(e[1],e[2]/100,e[3]/100,1):(e=Rc.exec(t))?qt(e[1],e[2]/100,e[3]/100,e[4]):Dc.hasOwnProperty(t)?Yt(Dc[t]):"transparent"===t?new Ht(NaN,NaN,NaN,0):null}function Yt(t){return new Ht(t>>16&255,t>>8&255,255&t,1)}function Gt(t,e,n,o){return o<=0&&(t=e=n=NaN),new Ht(t,e,n,o)}function Wt(t){return t instanceof Xt||(t=Ut(t)),t?(t=t.rgb(),new Ht(t.r,t.g,t.b,t.opacity)):new Ht}function zt(t,e,n,o){return 1===arguments.length?Wt(t):new Ht(t,e,n,null==o?1:o)}function Ht(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function qt(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zt(t,e,n,o)}function Vt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof Xt||(t=Ut(t)),!t)return new Zt;if(t instanceof Zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),a=NaN,s=r-i,u=(r+i)/2;return s?(a=e===r?(n-o)/s+6*(n<o):n===r?(o-e)/s+2:(e-n)/s+4,s/=u<.5?r+i:2-r-i,a*=60):s=u>0&&u<1?0:a,new Zt(a,s,u,t.opacity)}function $t(t,e,n,o){return 1===arguments.length?Vt(t):new Zt(t,e,n,null==o?1:o)}function Zt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Qt(t){if(t instanceof ee)return new ee(t.l,t.a,t.b,t.opacity);if(t instanceof ue){var e=t.h*Fc;return new ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Ht||(t=Wt(t));var n=re(t.r),o=re(t.g),i=re(t.b),r=ne((.4124564*n+.3575761*o+.1804375*i)/Bc),a=ne((.2126729*n+.7151522*o+.072175*i)/Xc),s=ne((.0193339*n+.119192*o+.9503041*i)/Uc);return new ee(116*a-16,500*(r-a),200*(a-s),t.opacity)}function te(t,e,n,o){return 1===arguments.length?Qt(t):new ee(t,e,n,null==o?1:o)}function ee(t,e,n,o){this.l=+t,this.a=+e,this.b=+n,this.opacity=+o}function ne(t){return t>zc?Math.pow(t,1/3):t/Wc+Yc}function oe(t){return t>Gc?t*t*t:Wc*(t-Yc)}function ie(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function re(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ae(t){if(t instanceof ue)return new ue(t.h,t.c,t.l,t.opacity);t instanceof ee||(t=Qt(t));var e=Math.atan2(t.b,t.a)*jc;return new ue(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function se(t,e,n,o){return 1===arguments.length?ae(t):new ue(t,e,n,null==o?1:o)}function ue(t,e,n,o){this.h=+t,this.c=+e,this.l=+n,this.opacity=+o}function he(t){if(t instanceof le)return new le(t.h,t.s,t.l,t.opacity);t instanceof Ht||(t=Wt(t));var e=t.r/255,n=t.g/255,o=t.b/255,i=(tf*o+Jc*e-Qc*n)/(tf+Jc-Qc),r=o-i,a=(Zc*(n-i)-Vc*r)/$c,s=Math.sqrt(a*a+r*r)/(Zc*i*(1-i)),u=s?Math.atan2(a,r)*jc-120:NaN;return new le(u<0?u+360:u,s,i,t.opacity)}function pe(t,e,n,o){return 1===arguments.length?he(t):new le(t,e,n,null==o?1:o)}function le(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function ce(t,e,n,o,i){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*o+a*i)/6}function fe(t,e){return function(n){return t+n*e}}function de(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function ye(t,e){var n=e-t;return n?fe(t,n>180||n<-180?n-360*Math.round(n/360):n):uf(isNaN(t)?e:t)}function ve(t){return 1===(t=+t)?ge:function(e,n){return n-e?de(e,n,t):uf(isNaN(e)?n:e)}}function ge(t,e){var n=e-t;return n?fe(t,n):uf(isNaN(t)?e:t)}function me(t){return function(e){var n,o,i=e.length,r=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)o=zt(e[n]),r[n]=o.r||0,a[n]=o.g||0,s[n]=o.b||0;return r=t(r),a=t(a),s=t(s),o.opacity=1,function(t){return o.r=r(t),o.g=a(t),o.b=s(t),o+""}}}function be(t){return function(){return t}}function _e(t){return function(e){return t(e)+""}}function xe(t){return"none"===t?wf:(ef||(ef=document.createElement("DIV"),nf=document.documentElement,of=document.defaultView),ef.style.transform=t,t=of.getComputedStyle(nf.appendChild(ef),null).getPropertyValue("transform"),nf.removeChild(ef),t=t.slice(7,-1).split(","),Pf(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function we(t){return null==t?wf:(rf||(rf=document.createElementNS("http://www.w3.org/2000/svg","g")),rf.setAttribute("transform",t),(t=rf.transform.baseVal.consolidate())?(t=t.matrix,Pf(t.a,t.b,t.c,t.d,t.e,t.f)):wf)}function Pe(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}function r(t,o,i,r,a,s){if(t!==i||o!==r){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:df(t,i)},{i:u-2,x:df(o,r)})}else(i||r)&&a.push("translate("+i+e+r+n)}function a(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:df(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}function s(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:df(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}function u(t,e,n,o,r,a){if(t!==n||e!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:df(t,n)},{i:s-2,x:df(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(e,n){var o=[],i=[];return e=t(e),n=t(n),r(e.translateX,e.translateY,n.translateX,n.translateY,o,i),a(e.rotate,n.rotate,o,i),s(e.skewX,n.skewX,o,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,o,i),e=n=null,function(t){for(var e,n=-1,r=i.length;++n<r;)o[(e=i[n]).i]=e.x(t);return o.join("")}}}function Se(t){return((t=Math.exp(t))+1/t)/2}function Ce(t){return((t=Math.exp(t))-1/t)/2}function Me(t){return((t=Math.exp(2*t))-1)/(t+1)}function Te(t){return function(e,n){var o=t((e=$t(e)).h,(n=$t(n)).h),i=ge(e.s,n.s),r=ge(e.l,n.l),a=ge(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function Ae(t,e){var n=ge((t=te(t)).l,(e=te(e)).l),o=ge(t.a,e.a),i=ge(t.b,e.b),r=ge(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=i(e),t.opacity=r(e),t+""}}function Ee(t){return function(e,n){var o=t((e=se(e)).h,(n=se(n)).h),i=ge(e.c,n.c),r=ge(e.l,n.l),a=ge(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function Le(t){return function e(n){function o(e,o){var i=t((e=pe(e)).h,(o=pe(o)).h),r=ge(e.s,o.s),a=ge(e.l,o.l),s=ge(e.opacity,o.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,o.gamma=e,o}(1)}function Ie(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new Ne(o)}function Ne(t){this._=t}function Oe(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function ke(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function Re(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=jf,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}function De(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Fe(t,e){var n=De(t);return function(o,i){return e(n(o),i,t)}}function je(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var o in t)o in e||n.push(e[o]=o)}),n}function Ke(t){return function(e,n){t(null==e?n:null)}}function Be(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Xe(t,e){return function(n){return t(n.responseText,e)}}function Ue(){return cd||(yd(Ye),cd=dd.now()+fd)}function Ye(){cd=0}function Ge(){this._call=this._time=this._next=null}function We(t,e,n){var o=new Ge;return o.restart(t,e,n),o}function ze(){Ue(),++sd;for(var t,e=Kf;e;)(t=cd-e._time)>=0&&e._call.call(null,t),e=e._next;--sd}function He(){cd=(ld=dd.now())+fd,sd=ud=0;try{ze()}finally{sd=0,Ve(),cd=0}}function qe(){var t=dd.now(),e=t-ld;e>pd&&(fd-=e,ld=t)}function Ve(){for(var t,e,n=Kf,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Kf=e);Bf=t,$e(o)}function $e(t){if(!sd){ud&&(ud=clearTimeout(ud));var e=t-cd;e>24?(t<1/0&&(ud=setTimeout(He,e)),hd&&(hd=clearInterval(hd))):(hd||(hd=setInterval(qe,pd)),sd=1,yd(He))}}function Ze(t,e,n,o){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,o,r){var a=[];if(n=i.ceil(n),r=null==r?1:Math.floor(r),!(n<o&&r>0))return a;do a.push(new Date(+n));while(e(n,r),t(n),n<o);return a},i.filter=function(n){return Ze(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,o){if(t>=t)for(;--o>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,o){return md.setTime(+e),bd.setTime(+o),t(md),t(bd),Math.floor(n(md,bd))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(o?function(e){return o(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function Je(t){return Ze(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pd)/Md})}function Qe(t){return Ze(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Md})}function tn(t){if(!(e=Iy.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",i=e[3]||"-",r=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],h=e[8]&&+e[8].slice(1),p=e[9]||"";"n"===p?(u=!0,p="g"):Ly[p]||(p=""),(a||"0"===n&&"="===o)&&(a=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=i,this.symbol=r,this.zero=a,this.width=s,this.comma=u,this.precision=h,this.type=p}function en(t){return t}function nn(e){return Oy=Ry(e),t.format=Oy.format,t.formatPrefix=Oy.formatPrefix,Oy}function on(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function an(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function sn(t){function e(t,e){return function(n){var o,i,r,a=[],s=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++s<h;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=By[o=t.charAt(++s)])?o=t.charAt(++s):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),a.push(o),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i=an(1900),r=o(i,t,n+="",0);if(r!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?rn(an(i.y)).getUTCDay():e(an(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,rn(i)):e(i)}}function o(t,e,n,o){for(var i,r,a=0,s=e.length,u=n.length;a<s;){if(o>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),r=U[i in By?e.charAt(a++):i],!r||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function i(t,e,n){var o=L.exec(e.slice(n));return o?(t.p=I[o[0].toLowerCase()],n+o[0].length):-1}function r(t,e,n){var o=k.exec(e.slice(n));return o?(t.w=R[o[0].toLowerCase()],n+o[0].length):-1}function a(t,e,n){var o=N.exec(e.slice(n));return o?(t.w=O[o[0].toLowerCase()],
n+o[0].length):-1}function s(t,e,n){var o=j.exec(e.slice(n));return o?(t.m=K[o[0].toLowerCase()],n+o[0].length):-1}function u(t,e,n){var o=D.exec(e.slice(n));return o?(t.m=F[o[0].toLowerCase()],n+o[0].length):-1}function h(t,e,n){return o(t,w,e,n)}function p(t,e,n){return o(t,P,e,n)}function l(t,e,n){return o(t,S,e,n)}function c(t){return T[t.getDay()]}function f(t){return M[t.getDay()]}function d(t){return E[t.getMonth()]}function y(t){return A[t.getMonth()]}function v(t){return C[+(t.getHours()>=12)]}function g(t){return T[t.getUTCDay()]}function m(t){return M[t.getUTCDay()]}function b(t){return E[t.getUTCMonth()]}function _(t){return A[t.getUTCMonth()]}function x(t){return C[+(t.getUTCHours()>=12)]}var w=t.dateTime,P=t.date,S=t.time,C=t.periods,M=t.days,T=t.shortDays,A=t.months,E=t.shortMonths,L=pn(C),I=ln(C),N=pn(M),O=ln(M),k=pn(T),R=ln(T),D=pn(A),F=ln(A),j=pn(E),K=ln(E),B={a:c,A:f,b:d,B:y,c:null,d:Mn,e:Mn,H:Tn,I:An,j:En,L:Ln,m:In,M:Nn,p:v,S:On,U:kn,w:Rn,W:Dn,x:null,X:null,y:Fn,Y:jn,Z:Kn,"%":to},X={a:g,A:m,b:b,B:_,c:null,d:Bn,e:Bn,H:Xn,I:Un,j:Yn,L:Gn,m:Wn,M:zn,p:x,S:Hn,U:qn,w:Vn,W:$n,x:null,X:null,y:Zn,Y:Jn,Z:Qn,"%":to},U={a:r,A:a,b:s,B:u,c:h,d:bn,e:bn,H:xn,I:xn,j:_n,L:Sn,m:mn,M:wn,p:i,S:Pn,U:fn,w:cn,W:dn,x:p,X:l,y:vn,Y:yn,Z:gn,"%":Cn};return B.x=e(P,B),B.X=e(S,B),B.c=e(w,B),X.x=e(P,X),X.X=e(S,X),X.c=e(w,X),{format:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",on);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",X);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,rn);return e.toString=function(){return t},e}}}function un(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function hn(t){return t.replace(Yy,"\\$&")}function pn(t){return new RegExp("^(?:"+t.map(hn).join("|")+")","i")}function ln(t){for(var e={},n=-1,o=t.length;++n<o;)e[t[n].toLowerCase()]=n;return e}function cn(t,e,n){var o=Xy.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function fn(t,e,n){var o=Xy.exec(e.slice(n));return o?(t.U=+o[0],n+o[0].length):-1}function dn(t,e,n){var o=Xy.exec(e.slice(n));return o?(t.W=+o[0],n+o[0].length):-1}function yn(t,e,n){var o=Xy.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function vn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function gn(t,e,n){var o=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function mn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function bn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function _n(t,e,n){var o=Xy.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function xn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function wn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function Pn(t,e,n){var o=Xy.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function Sn(t,e,n){var o=Xy.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function Cn(t,e,n){var o=Uy.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function Mn(t,e){return un(t.getDate(),e,2)}function Tn(t,e){return un(t.getHours(),e,2)}function An(t,e){return un(t.getHours()%12||12,e,2)}function En(t,e){return un(1+Od.count(Zd(t),t),e,3)}function Ln(t,e){return un(t.getMilliseconds(),e,3)}function In(t,e){return un(t.getMonth()+1,e,2)}function Nn(t,e){return un(t.getMinutes(),e,2)}function On(t,e){return un(t.getSeconds(),e,2)}function kn(t,e){return un(Rd.count(Zd(t),t),e,2)}function Rn(t){return t.getDay()}function Dn(t,e){return un(Dd.count(Zd(t),t),e,2)}function Fn(t,e){return un(t.getFullYear()%100,e,2)}function jn(t,e){return un(t.getFullYear()%1e4,e,4)}function Kn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+un(e/60|0,"0",2)+un(e%60,"0",2)}function Bn(t,e){return un(t.getUTCDate(),e,2)}function Xn(t,e){return un(t.getUTCHours(),e,2)}function Un(t,e){return un(t.getUTCHours()%12||12,e,2)}function Yn(t,e){return un(1+oy.count(xy(t),t),e,3)}function Gn(t,e){return un(t.getUTCMilliseconds(),e,3)}function Wn(t,e){return un(t.getUTCMonth()+1,e,2)}function zn(t,e){return un(t.getUTCMinutes(),e,2)}function Hn(t,e){return un(t.getUTCSeconds(),e,2)}function qn(t,e){return un(ry.count(xy(t),t),e,2)}function Vn(t){return t.getUTCDay()}function $n(t,e){return un(ay.count(xy(t),t),e,2)}function Zn(t,e){return un(t.getUTCFullYear()%100,e,2)}function Jn(t,e){return un(t.getUTCFullYear()%1e4,e,4)}function Qn(){return"+0000"}function to(){return"%"}function eo(e){return Dy=sn(e),t.timeFormat=Dy.format,t.timeParse=Dy.parse,t.utcFormat=Dy.utcFormat,t.utcParse=Dy.utcParse,Dy}function no(t){return t.toISOString()}function oo(t){var e=new Date(t);return isNaN(e)?null:e}function io(t){function e(e){var r=e+"",a=n.get(r);if(!a){if(i!==$y)return i;n.set(r,a=o.push(e))}return t[(a-1)%t.length]}var n=r(),o=[],i=$y;return t=null==t?[]:Vy.call(t),e.domain=function(t){if(!arguments.length)return o.slice();o=[],n=r();for(var i,a,s=-1,u=t.length;++s<u;)n.has(a=(i=t[s])+"")||n.set(a,o.push(i));return e},e.range=function(n){return arguments.length?(t=Vy.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return io().domain(o).range(t).unknown(i)},e}function ro(){function t(){var t=i().length,o=a[1]<a[0],l=a[o-0],c=a[1-o];e=(c-l)/Math.max(1,t-u+2*h),s&&(e=Math.floor(e)),l+=(c-l-e*(t-u))*p,n=e*(1-u),s&&(l=Math.round(l),n=Math.round(n));var f=jh(t).map(function(t){return l+e*t});return r(o?f.reverse():f)}var e,n,o=io().unknown(void 0),i=o.domain,r=o.range,a=[0,1],s=!1,u=0,h=0,p=.5;return delete o.unknown,o.domain=function(e){return arguments.length?(i(e),t()):i()},o.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},o.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},o.bandwidth=function(){return n},o.step=function(){return e},o.round=function(e){return arguments.length?(s=!!e,t()):s},o.padding=function(e){return arguments.length?(u=h=Math.max(0,Math.min(1,e)),t()):u},o.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},o.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},o.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},o.copy=function(){return ro().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(h).align(p)},t()}function ao(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ao(e())},t}function so(){return ao(ro().paddingInner(1))}function uo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zy(e)}function ho(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:o(t)}}}function po(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:o(t)}}}function lo(t,e,n,o){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=n(r,i),a=o(s,a)):(i=n(i,r),a=o(a,s)),function(t){return a(i(t))}}function co(t,e,n,o){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=n(t[s],t[s+1]),a[s]=o(e[s],e[s+1]);return function(e){var n=Mh(t,e,1,i)-1;return a[n](r[n](e))}}function fo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function yo(t,e){function n(){return i=Math.min(s.length,u.length)>2?co:lo,r=a=null,o}function o(e){return(r||(r=i(s,u,p?ho(t):t,h)))(+e)}var i,r,a,s=Qy,u=Qy,h=bf,p=!1;return o.invert=function(t){return(a||(a=i(u,s,uo,p?po(e):e)))(+t)},o.domain=function(t){return arguments.length?(s=qy.call(t,Jy),n()):s.slice()},o.range=function(t){return arguments.length?(u=Vy.call(t),n()):u.slice()},o.rangeRound=function(t){return u=Vy.call(t),h=_f,n()},o.clamp=function(t){return arguments.length?(p=!!t,n()):p},o.interpolate=function(t){return arguments.length?(h=t,n()):h},n()}function vo(t){var e=t.domain;return t.ticks=function(t){var n=e();return Uh(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return tv(e(),t,n)},t.nice=function(o){var i=e(),r=i.length-1,a=null==o?10:o,s=i[0],u=i[r],h=n(s,u,a);return h&&(h=n(Math.floor(s/h)*h,Math.ceil(u/h)*h,a),i[0]=Math.floor(s/h)*h,i[r]=Math.ceil(u/h)*h,e(i)),t},t}function go(){var t=yo(uo,df);return t.copy=function(){return fo(t,go())},vo(t)}function mo(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=qy.call(n,Jy),t):e.slice()},t.copy=function(){return mo().domain(e)},vo(t)}function bo(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Zy(e)}function _o(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function xo(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wo(t){return 10===t?xo:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Po(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function So(t){return function(e){return-t(-e)}}function Co(){function e(){return r=Po(i),a=wo(i),o()[0]<0&&(r=So(r),a=So(a)),n}var n=yo(bo,_o).domain([1,10]),o=n.domain,i=10,r=Po(10),a=wo(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(o(t),e()):o()},n.ticks=function(t){var e,n=o(),s=n[0],u=n[n.length-1];(e=u<s)&&(c=s,s=u,u=c);var h,p,l,c=r(s),f=r(u),d=null==t?10:+t,y=[];if(!(i%1)&&f-c<d){if(c=Math.round(c)-1,f=Math.round(f)+1,s>0){for(;c<f;++c)for(p=1,h=a(c);p<i;++p)if(l=h*p,!(l<s)){if(l>u)break;y.push(l)}}else for(;c<f;++c)for(p=i-1,h=a(c);p>=1;--p)if(l=h*p,!(l<s)){if(l>u)break;y.push(l)}}else y=Uh(c,f,Math.min(f-c,d)).map(a);return e?y.reverse():y},n.tickFormat=function(e,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=t.format(o)),e===1/0)return o;null==e&&(e=10);var s=Math.max(1,i*e/n.ticks().length);return function(t){var e=t/a(Math.round(r(t)));return e*i<i-.5&&(e*=i),e<=s?o(t):""}},n.nice=function(){return o(ev(o(),{floor:function(t){return a(Math.floor(r(t)))},ceil:function(t){return a(Math.ceil(r(t)))}}))},n.copy=function(){return fo(n,Co().base(i))},n}function Mo(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function To(){function t(t,e){return(e=Mo(e,n)-(t=Mo(t,n)))?function(o){return(Mo(o,n)-t)/e}:Zy(e)}function e(t,e){return e=Mo(e,n)-(t=Mo(t,n)),function(o){return Mo(t+e*o,1/n)}}var n=1,o=yo(t,e),i=o.domain;return o.exponent=function(t){return arguments.length?(n=+t,i(i())):n},o.copy=function(){return fo(o,To().exponent(n))},vo(o)}function Ao(){return To().exponent(.5)}function Eo(){function t(){var t=0,r=Math.max(1,o.length);for(i=new Array(r-1);++t<r;)i[t-1]=Wh(n,t/r);return e}function e(t){if(!isNaN(t=+t))return o[Mh(i,t)]}var n=[],o=[],i=[];return e.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var o,i=0,r=e.length;i<r;++i)o=e[i],null==o||isNaN(o=+o)||n.push(o);return n.sort(Ph),t()},e.range=function(e){return arguments.length?(o=Vy.call(e),t()):o.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return Eo().domain(n).range(o)},e}function Lo(){function t(t){if(t<=t)return a[Mh(r,t,0,i)]}function e(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*o-(e-i)*n)/(i+1);return t}var n=0,o=1,i=1,r=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e()):[n,o]},t.range=function(t){return arguments.length?(i=(a=Vy.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,r[0]]:e>=i?[r[i-1],o]:[r[e-1],r[e]]},t.copy=function(){return Lo().domain([n,o]).range(a)},vo(t)}function Io(){function t(t){if(t<=t)return n[Mh(e,t,0,o)]}var e=[.5],n=[0,1],o=1;return t.domain=function(i){return arguments.length?(e=Vy.call(i),o=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Vy.call(i),o=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var o=n.indexOf(t);return[e[o-1],e[o]]},t.copy=function(){return Io().domain(e).range(n)},t}function No(t){return new Date(t)}function Oo(t){return t instanceof Date?+t:+new Date(+t)}function ko(t,e,o,i,r,a,s,u,h){function p(n){return(s(n)<n?y:a(n)<n?v:r(n)<n?g:i(n)<n?m:e(n)<n?o(n)<n?b:_:t(n)<n?x:w)(n)}function l(e,o,i,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-o)/e,s=Sh(function(t){return t[2]}).right(P,a);s===P.length?(r=n(o/uv,i/uv,e),e=t):s?(s=P[a/P[s-1][2]<P[s][2]/a?s-1:s],r=s[1],e=s[0]):(r=n(o,i,e),e=u)}return null==r?e:e.every(r)}var c=yo(uo,df),f=c.invert,d=c.domain,y=h(".%L"),v=h(":%S"),g=h("%I:%M"),m=h("%I %p"),b=h("%a %d"),_=h("%b %d"),x=h("%B"),w=h("%Y"),P=[[s,1,nv],[s,5,5*nv],[s,15,15*nv],[s,30,30*nv],[a,1,ov],[a,5,5*ov],[a,15,15*ov],[a,30,30*ov],[r,1,iv],[r,3,3*iv],[r,6,6*iv],[r,12,12*iv],[i,1,rv],[i,2,2*rv],[o,1,av],[e,1,sv],[e,3,3*sv],[t,1,uv]];return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?d(qy.call(t,Oo)):d().map(No)},c.ticks=function(t,e){var n,o=d(),i=o[0],r=o[o.length-1],a=r<i;return a&&(n=i,i=r,r=n),n=l(t,i,r,e),n=n?n.range(i,r+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?p:h(e)},c.nice=function(t,e){var n=d();return(t=l(t,n[0],n[n.length-1],e))?d(ev(n,t)):c},c.copy=function(){return fo(c,ko(t,e,o,i,r,a,s,u,h))},c}function Ro(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Do(t){function e(e){var r=(e-n)/(o-n);return t(i?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e):[n,o]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Do(t).domain([n,o]).clamp(i)},vo(e)}function Fo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Cv&&e.documentElement.namespaceURI===Cv?e.createElement(t):e.createElementNS(n,t)}}function jo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ko(){return new Bo}function Bo(){this._="@"+(++Ev).toString(36)}function Xo(t,e,n){return t=Uo(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Uo(e,n,o){return function(i){var r=t.event;t.event=i;try{e.call(this,this.__data__,n,o)}finally{t.event=r}}}function Yo(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Go(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Wo(t,e,n){var o=kv.hasOwnProperty(t.type)?Xo:Uo;return function(i,r,a){var s,u=this.__on,h=o(e,r,a);if(u)for(var p=0,l=u.length;p<l;++p)if((s=u[p]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=h,s.capture=n),void(s.value=e);this.addEventListener(t.type,h,n),s={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(s):this.__on=[s]}}function zo(e,n,o,i){var r=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(o,i)}finally{t.event=r}}function Ho(){}function qo(){return[]}function Vo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function $o(t,e,n,o,i,r){for(var a,s=0,u=e.length,h=r.length;s<h;++s)(a=e[s])?(a.__data__=r[s],o[s]=a):n[s]=new Vo(t,r[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Zo(t,e,n,o,i,r,a){var s,u,h,p={},l=e.length,c=r.length,f=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(f[s]=h=qv+a.call(u,u.__data__,s,e),h in p?i[s]=u:p[h]=u);for(s=0;s<c;++s)h=qv+a.call(t,r[s],s,r),(u=p[h])?(o[s]=u,u.__data__=r[s],p[h]=null):n[s]=new Vo(t,r[s]);for(s=0;s<l;++s)(u=e[s])&&p[f[s]]===u&&(i[s]=u)}function Jo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qo(t){return function(){this.removeAttribute(t)}}function ti(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ei(t,e){return function(){this.setAttribute(t,e)}}function ni(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function oi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ii(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ri(t){return function(){this.style.removeProperty(t)}}function ai(t,e,n){return function(){this.style.setProperty(t,e,n)}}function si(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function ui(t){return function(){delete this[t]}}function hi(t,e){return function(){this[t]=e}}function pi(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function li(t){return t.trim().split(/^|\s+/)}function ci(t){return t.classList||new fi(t)}function fi(t){this._node=t,this._names=li(t.getAttribute("class")||"")}function di(t,e){for(var n=ci(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function yi(t,e){for(var n=ci(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function vi(t){return function(){di(this,t)}}function gi(t){return function(){yi(this,t)}}function mi(t,e){return function(){(e.apply(this,arguments)?di:yi)(this,t)}}function bi(){this.textContent=""}function _i(t){return function(){this.textContent=t}}function xi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function wi(){this.innerHTML=""}function Pi(t){return function(){this.innerHTML=t}}function Si(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ci(){this.nextSibling&&this.parentNode.appendChild(this)}function Mi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ti(){return null}function Ai(){var t=this.parentNode;t&&t.removeChild(this)}function Ei(t,e,n){var o=sg(t),i=o.CustomEvent;i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Li(t,e){return function(){return Ei(this,t,e)}}function Ii(t,e){return function(){return Ei(this,t,e.apply(this,arguments))}}function Ni(t,e){this._groups=t,this._parents=e}function Oi(){return new Ni([[document.documentElement]],_g)}function ki(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Tg)throw new Error("too late");return n}function Ri(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Eg)throw new Error("too late");return n}function Di(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Fi(t,e,n){function o(t){n.state=Ag,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(o){var h,p,l,c;if(n.state!==Ag)return a();for(h in u)if(c=u[h],c.name===n.name){if(c.state===Lg)return vd(i);c.state===Ig?(c.state=Og,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete u[h]):+h<e&&(c.state=Og,c.timer.stop(),delete u[h])}if(vd(function(){n.state===Lg&&(n.state=Ig,n.timer.restart(r,n.delay,n.time),r(o))}),n.state=Eg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Eg){for(n.state=Lg,s=new Array(l=n.tween.length),h=0,p=-1;h<l;++h)(c=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(s[++p]=c);s.length=p+1}}function r(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Ng,1),i=-1,r=s.length;++i<r;)s[i].call(null,o);n.state===Ng&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Og,n.timer.stop(),delete u[e];for(var o in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=We(o,0,n.time)}function ji(t,e){var n,o;return function(){var i=Ri(this,t),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===e){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Ki(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=Ri(this,t),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:e,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=s;break}u===h&&i.push(s)}r.tween=i}}function Bi(t,e,n){var o=t._id;return t.each(function(){var t=Ri(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Di(t,o).value[e]}}function Xi(t){return function(){this.removeAttribute(t)}}function Ui(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yi(t,e,n){var o,i;return function(){var r=this.getAttribute(t);return r===n?null:r===o?i:i=e(o=r,n)}}function Gi(t,e,n){var o,i;return function(){var r=this.getAttributeNS(t.space,t.local);return r===n?null:r===o?i:i=e(o=r,n)}}function Wi(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function zi(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function Hi(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttributeNS(t.space,t.local,o(e))}}return n._value=e,n}function qi(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttribute(t,o(e))}}return n._value=e,n}function Vi(t,e){return function(){ki(this,t).delay=+e.apply(this,arguments)}}function $i(t,e){return e=+e,function(){ki(this,t).delay=e}}function Zi(t,e){return function(){Ri(this,t).duration=+e.apply(this,arguments)}}function Ji(t,e){return e=+e,function(){Ri(this,t).duration=e}}function Qi(t,e){if("function"!=typeof e)throw new Error;return function(){Ri(this,t).ease=e}}function tr(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function er(t,e,n){var o,i,r=tr(e)?ki:Ri;return function(){var a=r(this,t),s=a.on;s!==o&&(i=(o=s).copy()).on(e,n),a.on=i}}function nr(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function or(t,e){var n,o,i;return function(){var r=sg(this).getComputedStyle(this,null),a=r.getPropertyValue(t),s=(this.style.removeProperty(t),r.getPropertyValue(t));return a===s?null:a===n&&s===o?i:i=e(n=a,o=s)}}function ir(t){return function(){this.style.removeProperty(t)}}function rr(t,e,n){var o,i;return function(){var r=sg(this).getComputedStyle(this,null).getPropertyValue(t);return r===n?null:r===o?i:i=e(o=r,n)}}function ar(t,e,n){var o,i,r;return function(){var a=sg(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===o&&u===i?r:r=e(o=s,i=u)}}function sr(t,e,n){function o(){var o=this,i=e.apply(o,arguments);return i&&function(e){o.style.setProperty(t,i(e),n)}}return o._value=e,o}function ur(t){return function(){this.textContent=t}}function hr(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function pr(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function lr(t){return Oi().transition(t)}function cr(){return++nm}function fr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return im.time=Ue(),im;return n}function dr(t,e,n){var o=t(n);return"translate("+(isFinite(o)?o:e(n))+",0)"}function yr(t,e,n){var o=t(n);return"translate(0,"+(isFinite(o)?o:e(n))+")"}function vr(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function gr(){return!this.__axis}function mr(t,e){function n(n){var h,p=null==i?e.ticks?e.ticks.apply(e,o):e.domain():i,l=null==r?e.tickFormat?e.tickFormat.apply(e,o):hm:r,c=Math.max(a,0)+u,f=t===pm||t===cm?dr:yr,d=e.range(),y=d[0]+.5,v=d[d.length-1]+.5,g=(e.bandwidth?vr:hm)(e.copy()),m=n.selection?n.selection():n,b=m.selectAll(".domain").data([null]),_=m.selectAll(".tick").data(p,e).order(),x=_.exit(),w=_.enter().append("g").attr("class","tick"),P=_.select("line"),S=_.select("text"),C=t===pm||t===fm?-1:1,M=t===fm||t===lm?(h="x","y"):(h="y","x");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(w),P=P.merge(w.append("line").attr("stroke","#000").attr(h+"2",C*a).attr(M+"1",.5).attr(M+"2",.5)),S=S.merge(w.append("text").attr("fill","#000").attr(h,C*c).attr(M,.5).attr("dy",t===pm?"0em":t===cm?"0.71em":"0.32em")),n!==m&&(b=b.transition(n),_=_.transition(n),P=P.transition(n),S=S.transition(n),x=x.transition(n).attr("opacity",dm).attr("transform",function(t){return f(g,this.parentNode.__axis||g,t)}),w.attr("opacity",dm).attr("transform",function(t){return f(this.parentNode.__axis||g,g,t)})),x.remove(),b.attr("d",t===fm||t==lm?"M"+C*s+","+y+"H0.5V"+v+"H"+C*s:"M"+y+","+C*s+"V0.5H"+v+"V"+C*s),_.attr("opacity",1).attr("transform",function(t){return f(g,g,t)}),P.attr(h+"2",C*a),S.attr(h,C*c).text(l),m.filter(gr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===lm?"start":t===fm?"end":"middle"),m.each(function(){this.__axis=g})}var o=[],i=null,r=null,a=6,s=6,u=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return o=um.call(arguments),n},n.tickArguments=function(t){return arguments.length?(o=null==t?[]:um.call(t),n):o.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:um.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(r=t,n):r},n.tickSize=function(t){return arguments.length?(a=s=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(s=+t,n):s},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function br(t){return mr(pm,t)}function _r(t){return mr(lm,t)}function xr(t){return mr(cm,t)}function wr(t){return mr(fm,t)}function Pr(t,e){return t.parent===e.parent?1:2}function Sr(t){return t.reduce(Cr,0)/t.length}function Cr(t,e){return t+e.x}function Mr(t){return 1+t.reduce(Tr,0)}function Tr(t,e){return Math.max(t,e.y)}function Ar(t){for(var e;e=t.children;)t=e[0];return t}function Er(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Lr(t,e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),i=null;for(t=n.pop(),e=o.pop();t===e;)i=t,t=n.pop(),e=o.pop();return i}function Ir(t,e){var n,o,i,r,a,s=new Dr(t),u=+t.value&&(s.value=t.value),h=[s];for(null==e&&(e=Or);n=h.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),r=a-1;r>=0;--r)h.push(o=n.children[r]=new Dr(i[r])),o.parent=n,o.depth=n.depth+1;return s.eachBefore(Rr)}function Nr(){return Ir(this).eachBefore(kr)}function Or(t){return t.children}function kr(t){t.data=t.data.data}function Rr(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Dr(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fr(t){this._=t,this.next=null}function jr(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+o*o}function Kr(t,e){var n,o,i,r=null,a=t.head;switch(e.length){case 1:n=Br(e[0]);break;case 2:n=Xr(e[0],e[1]);break;case 3:n=Ur(e[0],e[1],e[2])}for(;a;)i=a._,o=a.next,n&&jr(n,i)?r=a:(r?(t.tail=r,r.next=null):t.head=t.tail=null,e.push(i),n=Kr(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),r=t.tail,r.next=o),a=o;return t.tail=r,n}function Br(t){return{x:t.x,y:t.y,r:t.r}}function Xr(t,e){var n=t.x,o=t.y,i=t.r,r=e.x,a=e.y,s=e.r,u=r-n,h=a-o,p=s-i,l=Math.sqrt(u*u+h*h);return{x:(n+r+u/l*p)/2,y:(o+a+h/l*p)/2,r:(l+i+s)/2}}function Ur(t,e,n){var o=t.x,i=t.y,r=t.r,a=e.x,s=e.y,u=e.r,h=n.x,p=n.y,l=n.r,c=2*(o-a),f=2*(i-s),d=2*(u-r),y=o*o+i*i-r*r-a*a-s*s+u*u,v=2*(o-h),g=2*(i-p),m=2*(l-r),b=o*o+i*i-r*r-h*h-p*p+l*l,_=v*f-c*g,x=(f*b-g*y)/_-o,w=(g*d-f*m)/_,P=(v*y-c*b)/_-i,S=(c*m-v*d)/_,C=w*w+S*S-1,M=2*(x*w+P*S+r),T=x*x+P*P-r*r,A=(-M-Math.sqrt(M*M-4*C*T))/(2*C);return{x:x+w*A+o,y:P+S*A+i,r:A}}function Yr(t,e,n){var o=t.x,i=t.y,r=e.r+n.r,a=t.r+n.r,s=e.x-o,u=e.y-i,h=s*s+u*u;if(h){var p=.5+((a*=a)-(r*=r))/(2*h),l=Math.sqrt(Math.max(0,2*r*(a+h)-(a-=h)*a-r*r))/(2*h);n.x=o+p*s+l*u,n.y=i+p*u-l*s}else n.x=o+a,n.y=i}function Gr(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r+e.r;return i*i>n*n+o*o}function Wr(t,e,n){var o=t.x-e,i=t.y-n;return o*o+i*i}function zr(t){this._=t,this.next=null,this.previous=null}function Hr(t){if(!(i=t.length))return 0;var e,n,o,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Yr(n,e,o=t[2]);var r,a,s,u,h,p,l,c=e.r*e.r,f=n.r*n.r,d=o.r*o.r,y=c+f+d,v=c*e.x+f*n.x+d*o.x,g=c*e.y+f*n.y+d*o.y;e=new zr(e),n=new zr(n),o=new zr(o),e.next=o.previous=n,n.next=e.previous=o,o.next=n.previous=e;t:for(s=3;s<i;++s){if(Yr(e._,n._,o=t[s]),o=new zr(o),(h=e.previous)===(u=n.next)){if(Gr(u._,o._)){e=n,n=u,--s;continue t}}else{p=u._.r,l=h._.r;do if(p<=l){if(Gr(u._,o._)){n=u,e.next=n,n.previous=e,--s;continue t}u=u.next,p+=u._.r}else{if(Gr(h._,o._)){e=h,e.next=n,n.previous=e,--s;continue t}h=h.previous,l+=h._.r}while(u!==h.next)}for(o.previous=e,o.next=n,e.next=n.previous=n=o,y+=d=o._.r*o._.r,v+=d*o._.x,g+=d*o._.y,c=Wr(e._,r=v/y,a=g/y);(o=o.next)!==n;)(d=Wr(o._,r,a))<c&&(e=o,c=d);n=e.next}for(e=[n._],o=n;(o=o.next)!==n;)e.push(o._);for(o=Tm(e),s=0;s<i;++s)e=t[s],e.x-=o.x,e.y-=o.y;return o.r}function qr(t){return null==t?null:Vr(t)}function Vr(t){if("function"!=typeof t)throw new Error;return t}function $r(){return 0}function Zr(t){return Math.sqrt(t.value)}function Jr(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Qr(t,e){return function(n){if(o=n.children){var o,i,r,a=o.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)o[i].r+=s;if(r=Hr(o),s)for(i=0;i<a;++i)o[i].r-=s;n.r=r+s}}}function ta(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ea(t){return t.id}function na(t){return t.parentId}function oa(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function ra(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var o=n/(e.i-t.i);e.c-=o,e.s+=n,t.c+=o,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,o=0,i=t.children,r=i.length;--r>=0;)e=i[r],e.z+=n,e.m+=n,n+=e.s+(o+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function ha(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function pa(t){for(var e,n,o,i,r,a=new ha(t,0),s=[a];e=s.pop();)if(o=e._.children)for(e.children=new Array(r=o.length),i=r-1;i>=0;--i)s.push(n=e.children[i]=new ha(o[i],i)),n.parent=e;return(a.parent=new ha(null,0)).children=[a],a}function la(t,e,n,o,i,r){for(var a,s,u,h,p,l,c,f,d,y,v,g=[],m=e.children,b=0,_=0,x=m.length,w=e.value;b<x;){u=i-n,h=r-o;do p=m[_++].value;while(!p&&_<x);for(l=c=p,y=Math.max(h/u,u/h)/(w*t),v=p*p*y,d=Math.max(c/v,v/l);_<x;++_){if(p+=s=m[_].value,s<l&&(l=s),s>c&&(c=s),v=p*p*y,f=Math.max(c/v,v/l),f>d){p-=s;break}d=f}g.push(a={value:p,dice:u<h,children:m.slice(b,_)}),a.dice?Nm(a,n,o,i,w?o+=h*p/w:r):Km(a,n,o,w?n+=u*p/w:i,r),w-=p,b=_}return g}function ca(t){return t.x+t.vx}function fa(t){return t.y+t.vy}function da(t){return t.index}function ya(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function va(t){return t.x}function ga(t){return t.y}function ma(){t.event.stopImmediatePropagation()}function ba(t,e){var n=t.document.documentElement,o=xg(t).on("dragstart.drag",null);e&&(o.on("click.drag",ob,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function _a(t,e,n,o,i,r,a,s,u,h){this.target=t,this.type=e,this.subject=n,this.identifier=o,this.active=i,this.x=r,
this.y=a,this.dx=s,this.dy=u,this._=h}function xa(){return!t.event.button}function wa(){return this.parentNode}function Pa(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Sa(t){return t[0]}function Ca(t){return t[1]}function Ma(){this._=null}function Ta(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Aa(t,e){var n=e,o=e.R,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function Ea(t,e){var n=e,o=e.L,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function La(t){for(;t.L;)t=t.L;return t}function Ia(t,e,n,o){var i=[null,null],r=cb.push(i)-1;return i.left=t,i.right=e,n&&Oa(i,t,e,n),o&&Oa(i,e,t,o),pb[t.index].halfedges.push(r),pb[e.index].halfedges.push(r),i}function Na(t,e,n){var o=[e,n];return o.left=t,o}function Oa(t,e,n,o){t[0]||t[1]?t.left===n?t[1]=o:t[0]=o:(t[0]=o,t.left=e,t.right=n)}function ka(t,e,n,o,i){var r,a=t[0],s=t[1],u=a[0],h=a[1],p=s[0],l=s[1],c=0,f=1,d=p-u,y=l-h;if(r=e-u,d||!(r>0)){if(r/=d,d<0){if(r<c)return;r<f&&(f=r)}else if(d>0){if(r>f)return;r>c&&(c=r)}if(r=o-u,d||!(r<0)){if(r/=d,d<0){if(r>f)return;r>c&&(c=r)}else if(d>0){if(r<c)return;r<f&&(f=r)}if(r=n-h,y||!(r>0)){if(r/=y,y<0){if(r<c)return;r<f&&(f=r)}else if(y>0){if(r>f)return;r>c&&(c=r)}if(r=i-h,y||!(r<0)){if(r/=y,y<0){if(r>f)return;r>c&&(c=r)}else if(y>0){if(r<c)return;r<f&&(f=r)}return!(c>0||f<1)||(c>0&&(t[0]=[u+c*d,h+c*y]),f<1&&(t[1]=[u+f*d,h+f*y]),!0)}}}}}function Ra(t,e,n,o,i){var r=t[1];if(r)return!0;var a,s,u=t[0],h=t.left,p=t.right,l=h[0],c=h[1],f=p[0],d=p[1],y=(l+f)/2,v=(c+d)/2;if(d===c){if(y<e||y>=o)return;if(l>f){if(u){if(u[1]>=i)return}else u=[y,n];r=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];r=[y,n]}}else if(a=(l-f)/(d-c),s=v-a*y,a<-1||a>1)if(l>f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];r=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];r=[(n-s)/a,n]}else if(c<d){if(u){if(u[0]>=o)return}else u=[e,a*e+s];r=[o,a*o+s]}else{if(u){if(u[0]<e)return}else u=[o,a*o+s];r=[e,a*e+s]}return t[0]=u,t[1]=r,!0}function Da(t,e,n,o){for(var i,r=cb.length;r--;)Ra(i=cb[r],t,e,n,o)&&ka(i,t,e,n,o)&&(Math.abs(i[0][0]-i[1][0])>yb||Math.abs(i[0][1]-i[1][1])>yb)||delete cb[r]}function Fa(t){return pb[t.index]={site:t,halfedges:[]}}function ja(t,e){var n=t.site,o=e.left,i=e.right;return n===i&&(i=o,o=n),i?Math.atan2(i[1]-o[1],i[0]-o[0]):(n===o?(o=e[1],i=e[0]):(o=e[0],i=e[1]),Math.atan2(o[0]-i[0],i[1]-o[1]))}function Ka(t,e){return e[+(e.left!==t.site)]}function Ba(t,e){return e[+(e.left===t.site)]}function Xa(){for(var t,e,n,o,i=0,r=pb.length;i<r;++i)if((t=pb[i])&&(o=(e=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(n=0;n<o;++n)a[n]=n,s[n]=ja(t,cb[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<o;++n)s[n]=e[a[n]];for(n=0;n<o;++n)e[n]=s[n]}}function Ua(t,e,n,o){var i,r,a,s,u,h,p,l,c,f,d,y,v=pb.length,g=!0;for(i=0;i<v;++i)if(r=pb[i]){for(a=r.site,u=r.halfedges,s=u.length;s--;)cb[u[s]]||u.splice(s,1);for(s=0,h=u.length;s<h;)f=Ba(r,cb[u[s]]),d=f[0],y=f[1],p=Ka(r,cb[u[++s%h]]),l=p[0],c=p[1],(Math.abs(d-l)>yb||Math.abs(y-c)>yb)&&(u.splice(s,0,cb.push(Na(a,f,Math.abs(d-t)<yb&&o-y>yb?[t,Math.abs(l-t)<yb?c:o]:Math.abs(y-o)<yb&&n-d>yb?[Math.abs(c-o)<yb?l:n,o]:Math.abs(d-n)<yb&&y-e>yb?[n,Math.abs(l-n)<yb?c:e]:Math.abs(y-e)<yb&&d-t>yb?[Math.abs(c-e)<yb?l:t,e]:null))-1),++h);h&&(g=!1)}if(g){var m,b,_,x=1/0;for(i=0,g=null;i<v;++i)(r=pb[i])&&(a=r.site,m=a[0]-t,b=a[1]-e,_=m*m+b*b,_<x&&(x=_,g=r));if(g){var w=[t,e],P=[t,o],S=[n,o],C=[n,e];g.halfedges.push(cb.push(Na(a=g.site,w,P))-1,cb.push(Na(a,P,S))-1,cb.push(Na(a,S,C))-1,cb.push(Na(a,C,w))-1)}}for(i=0;i<v;++i)(r=pb[i])&&(r.halfedges.length||delete pb[i])}function Ya(){Ta(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ga(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,i=t.site,r=n.site;if(o!==r){var a=i[0],s=i[1],u=o[0]-a,h=o[1]-s,p=r[0]-a,l=r[1]-s,c=2*(u*l-h*p);if(!(c>=-vb)){var f=u*u+h*h,d=p*p+l*l,y=(l*f-h*d)/c,v=(u*d-p*f)/c,g=fb.pop()||new Ya;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=lb._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}lb.insert(m,g),m||(ub=g)}}}}function Wa(t){var e=t.circle;e&&(e.P||(ub=e.N),lb.remove(e),fb.push(e),Ta(e),t.circle=null)}function za(){Ta(this),this.edge=this.site=this.circle=null}function Ha(t){var e=db.pop()||new za;return e.site=t,e}function qa(t){Wa(t),hb.remove(t),db.push(t),Ta(t)}function Va(t){var e=t.circle,n=e.x,o=e.cy,i=[n,o],r=t.P,a=t.N,s=[t];qa(t);for(var u=r;u.circle&&Math.abs(n-u.circle.x)<yb&&Math.abs(o-u.circle.cy)<yb;)r=u.P,s.unshift(u),qa(u),u=r;s.unshift(u),Wa(u);for(var h=a;h.circle&&Math.abs(n-h.circle.x)<yb&&Math.abs(o-h.circle.cy)<yb;)a=h.N,s.push(h),qa(h),h=a;s.push(h),Wa(h);var p,l=s.length;for(p=1;p<l;++p)h=s[p],u=s[p-1],Oa(h.edge,u.site,h.site,i);u=s[0],h=s[l-1],h.edge=Ia(u.site,h.site,null,i),Ga(u),Ga(h)}function $a(t){for(var e,n,o,i,r=t[0],a=t[1],s=hb._;s;)if(o=Za(s,a)-r,o>yb)s=s.L;else{if(i=r-Ja(s,a),!(i>yb)){o>-yb?(e=s.P,n=s):i>-yb?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}Fa(t);var u=Ha(t);if(hb.insert(e,u),e||n){if(e===n)return Wa(e),n=Ha(e.site),hb.insert(u,n),u.edge=n.edge=Ia(e.site,u.site),Ga(e),void Ga(n);if(!n)return void(u.edge=Ia(e.site,u.site));Wa(e),Wa(n);var h=e.site,p=h[0],l=h[1],c=t[0]-p,f=t[1]-l,d=n.site,y=d[0]-p,v=d[1]-l,g=2*(c*v-f*y),m=c*c+f*f,b=y*y+v*v,_=[(v*m-f*b)/g+p,(c*b-y*m)/g+l];Oa(n.edge,h,d,_),u.edge=Ia(h,t,null,_),n.edge=Ia(t,d,null,_),Ga(e),Ga(n)}}function Za(t,e){var n=t.site,o=n[0],i=n[1],r=i-e;if(!r)return o;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],u=n[1],h=u-e;if(!h)return s;var p=s-o,l=1/r-1/h,c=p/h;return l?(-c+Math.sqrt(c*c-2*l*(p*p/(-2*h)-u+h/2+i-r/2)))/l+o:(o+s)/2}function Ja(t,e){var n=t.N;if(n)return Za(n,e);var o=t.site;return o[1]===e?o[0]:1/0}function Qa(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ts(t,e){return e[1]-t[1]||e[0]-t[0]}function es(t,e){var n,o,i,r=t.sort(ts).pop();for(cb=[],pb=new Array(t.length),hb=new Ma,lb=new Ma;;)if(i=ub,r&&(!i||r[1]<i.y||r[1]===i.y&&r[0]<i.x))r[0]===n&&r[1]===o||($a(r),n=r[0],o=r[1]),r=t.pop();else{if(!i)break;Va(i.arc)}if(Xa(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],h=+e[1][1];Da(a,s,u,h),Ua(a,s,u,h)}this.edges=cb,this.cells=pb,hb=lb=cb=pb=null}function ns(t,e,n){this.target=t,this.type=e,this.transform=n}function os(t,e,n){this.k=t,this.x=e,this.y=n}function is(t){return t.__zoom||bb}function rs(){t.event.stopImmediatePropagation()}function as(){return!t.event.button}function ss(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function us(){return this.__zoom||bb}function hs(){t.event.stopImmediatePropagation()}function ps(t){return{type:t}}function ls(){return!t.event.button}function cs(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function fs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ds(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ys(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function vs(){return ms(Eb)}function gs(){return ms(Lb)}function ms(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([ps("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Nb.overlay).merge(n).each(function(){var t=fs(this).extent;xg(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([ps("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Nb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Nb[t.type]}),t.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function o(){var t=xg(this),e=fs(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=Kv(S);!D||w||P||(Math.abs(t[0]-j[0])>Math.abs(t[1]-j[1])?P=!0:w=!0),j=t,x=!0,Sb(),r()}function r(){var t;switch(b=j[0]-F[0],_=j[1]-F[1],M){case Mb:case Cb:T&&(b=Math.max(N-l,Math.min(k-y,b)),c=l+b,v=y+b),A&&(_=Math.max(O-f,Math.min(R-g,_)),d=f+_,m=g+_);break;case Tb:T<0?(b=Math.max(N-l,Math.min(k-l,b)),c=l+b,v=y):T>0&&(b=Math.max(N-y,Math.min(k-y,b)),c=l,v=y+b),A<0?(_=Math.max(O-f,Math.min(R-f,_)),d=f+_,m=g):A>0&&(_=Math.max(O-g,Math.min(R-g,_)),d=f,m=g+_);break;case Ab:T&&(c=Math.max(N,Math.min(k,l-b*T)),v=Math.max(N,Math.min(k,y+b*T))),A&&(d=Math.max(O,Math.min(R,f-_*A)),m=Math.max(O,Math.min(R,g+_*A)))}v<c&&(T*=-1,t=l,l=y,y=t,t=c,c=v,v=t,C in Ob&&X.attr("cursor",Nb[C=Ob[C]])),m<d&&(A*=-1,t=f,f=g,g=t,t=d,d=m,m=t,C in kb&&X.attr("cursor",Nb[C=kb[C]])),E.selection&&(I=E.selection),w&&(c=I[0][0],v=I[1][0]),P&&(d=I[0][1],m=I[1][1]),I[0][0]===c&&I[0][1]===d&&I[1][0]===v&&I[1][1]===m||(E.selection=[[c,d],[v,m]],o.call(S),K.brush())}function a(){if(hs(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ba(t.event.view,x),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),X.attr("cursor",Nb.overlay),E.selection&&(I=E.selection),ds(I)&&(E.selection=null,o.call(S)),K.end()}function s(){switch(t.event.keyCode){case 16:D=T&&A;break;case 18:M===Tb&&(T&&(y=v-b*T,l=c+b*T),A&&(g=m-_*A,f=d+_*A),M=Ab,r());break;case 32:M!==Tb&&M!==Ab||(T<0?y=v-b:T>0&&(l=c-b),A<0?g=m-_:A>0&&(f=d-_),M=Mb,X.attr("cursor",Nb.selection),r());break;default:return}Sb()}function h(){switch(t.event.keyCode){case 16:D&&(w=P=D=!1,r());break;case 18:M===Ab&&(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Tb,r());break;case 32:M===Mb&&(t.event.altKey?(T&&(y=v-b*T,l=c+b*T),A&&(g=m-_*A,f=d+_*A),M=Ab):(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Tb),X.attr("cursor",Nb[C]),r());break;default:return}Sb()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Sb()}else if(u)return;if(p.apply(this,arguments)){var l,c,f,d,y,v,g,m,b,_,x,w,P,S=this,C=t.event.target.__data__.type,M="selection"===(t.event.metaKey?C="overlay":C)?Cb:t.event.altKey?Ab:Tb,T=e===Lb?null:Rb[C],A=e===Eb?null:Db[C],E=fs(S),L=E.extent,I=E.selection,N=L[0][0],O=L[0][1],k=L[1][0],R=L[1][1],D=T&&A&&t.event.shiftKey,F=Kv(S),j=F,K=i(S,arguments).beforestart();"overlay"===C?E.selection=I=[[l=e===Lb?N:F[0],f=e===Eb?O:F[1]],[y=e===Lb?k:l,g=e===Eb?R:f]]:(l=I[0][0],f=I[0][1],y=I[1][0],g=I[1][1]),c=l,d=f,v=y,m=g;var B=xg(S).attr("pointer-events","none"),X=B.selectAll(".overlay").attr("cursor",Nb[C]);if(t.event.touches)B.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var U=xg(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",h,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);ib(t.event.view)}hs(),Rg(S),o.call(S),K.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=h.apply(this,arguments),t.dim=e,t}var u,h=cs,p=ls,l=Ie(n,"start","brush","end"),c=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&ds(h)?null:p(t),o.call(r),s.brush()}var r=this,a=r.__brush,s=i(r,arguments),u=a.selection,h=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),p=bf(u,h);return u&&h?t:t(1)}):t.each(function(){var t=this,r=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,r):n,a.extent),u=i(t,r).beforestart();Rg(t),a.selection=null==s||ds(s)?null:s,o.call(t),u.start().brush().end()})},r.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){zo(new Pb(n,t,e.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(h="function"==typeof t?t:wb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):h},n.filter=function(t){return arguments.length?(p="function"==typeof t?t:wb(!!t),n):p},n.handleSize=function(t){return arguments.length?(c=+t,n):c},n.on=function(){var t=l.on.apply(l,arguments);return t===l?n:t},n}function bs(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function _s(t){return t.source}function xs(t){return t.target}function ws(t){return t.radius}function Ps(t){return t.startAngle}function Ss(t){return t.endAngle}function Cs(){this.reset()}function Ms(t,e,n){var o=t.s=e+n,i=o-e,r=o-i;t.t=e-r+(n-i)}function Ts(t){return t>1?0:t<-1?E_:Math.acos(t)}function As(t){return t>1?L_:t<-1?-L_:Math.asin(t)}function Es(t){return(t=Y_(t/2))*t}function Ls(){}function Is(t,e){t&&q_.hasOwnProperty(t.type)&&q_[t.type](t,e)}function Ns(t,e,n){var o,i=-1,r=t.length-n;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function Os(t,e){var n=-1,o=t.length;for(e.polygonStart();++n<o;)Ns(t[n],e,1);e.polygonEnd()}function ks(){J_.point=Ds}function Rs(){Fs(Vb,$b)}function Ds(t,e){J_.point=Fs,Vb=t,$b=e,t*=k_,e*=k_,Zb=t,Jb=j_(e=e/2+I_),Qb=Y_(e)}function Fs(t,e){t*=k_,e*=k_,e=e/2+I_;var n=t-Zb,o=n>=0?1:-1,i=o*n,r=j_(e),a=Y_(e),s=Qb*a,u=Jb*r+s*j_(i),h=s*o*Y_(i);$_.add(F_(h,u)),Zb=t,Jb=r,Qb=a}function js(t){return[F_(t[1],t[0]),As(t[2])]}function Ks(t){var e=t[0],n=t[1],o=j_(n);return[o*j_(e),o*Y_(e),Y_(n)]}function Bs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Us(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ys(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gs(t){var e=W_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ws(t,e){u_.push(h_=[t_=t,n_=t]),e<e_&&(e_=e),e>o_&&(o_=e)}function zs(t,e){var n=Ks([t*k_,e*k_]);if(s_){var o=Xs(s_,n),i=[o[1],-o[0],0],r=Xs(i,o);Gs(r),r=js(r);var a,s=t-i_,u=s>0?1:-1,h=r[0]*O_*u,p=R_(s)>180;p^(u*i_<h&&h<u*t)?(a=r[1]*O_,a>o_&&(o_=a)):(h=(h+360)%360-180,p^(u*i_<h&&h<u*t)?(a=-r[1]*O_,a<e_&&(e_=a)):(e<e_&&(e_=e),e>o_&&(o_=e))),p?t<i_?Js(t_,t)>Js(t_,n_)&&(n_=t):Js(t,n_)>Js(t_,n_)&&(t_=t):n_>=t_?(t<t_&&(t_=t),t>n_&&(n_=t)):t>i_?Js(t_,t)>Js(t_,n_)&&(n_=t):Js(t,n_)>Js(t_,n_)&&(t_=t)}else Ws(t,e);s_=n,i_=t}function Hs(){ex.point=zs}function qs(){h_[0]=t_,h_[1]=n_,ex.point=Ws,s_=null}function Vs(t,e){if(s_){var n=t-i_;tx.add(R_(n)>180?n+(n>0?360:-360):n)}else r_=t,a_=e;J_.point(t,e),zs(t,e)}function $s(){J_.lineStart()}function Zs(){Vs(r_,a_),J_.lineEnd(),R_(tx)>T_&&(t_=-(n_=180)),h_[0]=t_,h_[1]=n_,s_=null}function Js(t,e){return(e-=t)<0?e+360:e}function Qs(t,e){return t[0]-e[0]}function tu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function eu(t,e){t*=k_,e*=k_;var n=j_(e);nu(n*j_(t),n*Y_(t),Y_(e))}function nu(t,e,n){++p_,c_+=(t-c_)/p_,f_+=(e-f_)/p_,d_+=(n-d_)/p_}function ou(){ox.point=iu}function iu(t,e){t*=k_,e*=k_;var n=j_(e);P_=n*j_(t),S_=n*Y_(t),C_=Y_(e),ox.point=ru,nu(P_,S_,C_)}function ru(t,e){t*=k_,e*=k_;var n=j_(e),o=n*j_(t),i=n*Y_(t),r=Y_(e),a=F_(W_((a=S_*r-C_*i)*a+(a=C_*o-P_*r)*a+(a=P_*i-S_*o)*a),P_*o+S_*i+C_*r);l_+=a,y_+=a*(P_+(P_=o)),v_+=a*(S_+(S_=i)),g_+=a*(C_+(C_=r)),nu(P_,S_,C_)}function au(){ox.point=eu}function su(){ox.point=hu}function uu(){pu(x_,w_),ox.point=eu}function hu(t,e){x_=t,w_=e,t*=k_,e*=k_,ox.point=pu;var n=j_(e);P_=n*j_(t),S_=n*Y_(t),C_=Y_(e),nu(P_,S_,C_)}function pu(t,e){t*=k_,e*=k_;var n=j_(e),o=n*j_(t),i=n*Y_(t),r=Y_(e),a=S_*r-C_*i,s=C_*o-P_*r,u=P_*i-S_*o,h=W_(a*a+s*s+u*u),p=P_*o+S_*i+C_*r,l=h&&-Ts(p)/h,c=F_(h,p);m_+=l*a,b_+=l*s,__+=l*u,l_+=c,y_+=c*(P_+(P_=o)),v_+=c*(S_+(S_=i)),g_+=c*(C_+(C_=r)),nu(P_,S_,C_)}function lu(t,e){return[t>E_?t-N_:t<-E_?t+N_:t,e]}function cu(t,e,n){return(t%=N_)?e||n?ax(du(t),yu(e,n)):du(t):e||n?yu(e,n):lu}function fu(t){return function(e,n){return e+=t,[e>E_?e-N_:e<-E_?e+N_:e,n]}}function du(t){var e=fu(t);return e.invert=fu(-t),e}function yu(t,e){function n(t,e){var n=j_(e),s=j_(t)*n,u=Y_(t)*n,h=Y_(e),p=h*o+s*i;return[F_(u*r-p*a,s*o-h*i),As(p*r+u*a)]}var o=j_(t),i=Y_(t),r=j_(e),a=Y_(e);return n.invert=function(t,e){var n=j_(e),s=j_(t)*n,u=Y_(t)*n,h=Y_(e),p=h*r-u*a;return[F_(u*r+h*a,s*o+p*i),As(p*o-s*i)]},n}function vu(t,e,n,o,i,r){if(n){var a=j_(e),s=Y_(e),u=o*n;null==i?(i=e+o*N_,r=e-u/2):(i=gu(a,i),r=gu(a,r),(o>0?i<r:i>r)&&(i+=o*N_));for(var h,p=i;o>0?p>r:p<r;p-=u)h=js([a,-s*j_(p),-s*Y_(p)]),t.point(h[0],h[1])}}function gu(t,e){e=Ks(e),e[0]-=t,Gs(e);var n=Ts(-e[1]);return((-e[2]<0?-n:n)+N_-T_)%N_}function mu(t,e,n,o){this.x=t,this.z=e,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function bu(t){if(e=t.length){for(var e,n,o=0,i=t[0];++o<e;)i.n=n=t[o],n.p=i,i=n;i.n=n=t[0],n.p=i}}function _u(t,e,n,o){function i(i,r){return t<=i&&i<=n&&e<=r&&r<=o}function r(i,r,s,h){var p=0,l=0;if(null==i||(p=a(i,s))!==(l=a(r,s))||u(i,r)<0^s>0){do h.point(0===p||3===p?t:n,p>1?o:e);while((p=(p+s+4)%4)!==l)}else h.point(r[0],r[1])}function a(o,i){return R_(o[0]-t)<T_?i>0?0:3:R_(o[0]-n)<T_?i>0?2:1:R_(o[1]-e)<T_?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),o=a(e,1);return n!==o?n-o:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&M.point(t,e)}function h(){for(var e=0,n=0,i=v.length;n<i;++n)for(var r,a,s=v[n],u=1,h=s.length,p=s[0],l=p[0],c=p[1];u<h;++u)r=l,a=c,p=s[u],l=p[0],c=p[1],a<=o?c>o&&(l-r)*(o-a)>(c-a)*(t-r)&&++e:c<=o&&(l-r)*(o-a)<(c-a)*(t-r)&&--e;return e}function p(){M=T,y=[],v=[],C=!0}function l(){var t=h(),e=C&&t,n=(y=Zh(y)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),r(null,null,1,a),a.lineEnd()),n&&Px(y,s,t,r,a),a.polygonEnd()),M=a,y=v=g=null}function c(){A.point=d,v&&v.push(g=[]),S=!0,P=!1,x=w=NaN}function f(){y&&(d(m,b),_&&P&&T.rejoin(),y.push(T.result())),A.point=u,P&&M.lineEnd()}function d(r,a){var s=i(r,a);if(v&&g.push([r,a]),S)m=r,b=a,_=s,S=!1,s&&(M.lineStart(),M.point(r,a));else if(s&&P)M.point(r,a);else{var u=[x=Math.max(Cx,Math.min(Sx,x)),w=Math.max(Cx,Math.min(Sx,w))],h=[r=Math.max(Cx,Math.min(Sx,r)),a=Math.max(Cx,Math.min(Sx,a))];xx(u,h,t,e,n,o)?(P||(M.lineStart(),M.point(u[0],u[1])),M.point(h[0],h[1]),s||M.lineEnd(),C=!1):s&&(M.lineStart(),M.point(r,a),C=!1)}x=r,w=a,P=s}var y,v,g,m,b,_,x,w,P,S,C,M=a,T=_x(),A={point:u,lineStart:c,lineEnd:f,polygonStart:p,polygonEnd:l};return A}}function xu(){Ax.point=Pu,Ax.lineEnd=wu}function wu(){Ax.point=Ax.lineEnd=Ls}function Pu(t,e){t*=k_,e*=k_,sx=t,ux=Y_(e),hx=j_(e),Ax.point=Su}function Su(t,e){t*=k_,e*=k_;var n=Y_(e),o=j_(e),i=R_(t-sx),r=j_(i),a=Y_(i),s=o*a,u=hx*n-ux*o*r,h=ux*n+hx*o*r;Tx.add(F_(W_(s*s+u*u),h)),sx=t,ux=n,hx=o}function Cu(t,e,n){var o=jh(t,e-T_,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function Mu(t,e,n){var o=jh(t,e-T_,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function Tu(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return jh(K_(r/v)*v,i,v).map(c).concat(jh(K_(h/g)*g,u,g).map(f)).concat(jh(K_(o/d)*d,n,d).filter(function(t){return R_(t%v)>T_}).map(p)).concat(jh(K_(s/y)*y,a,y).filter(function(t){return R_(t%g)>T_}).map(l))}var n,o,i,r,a,s,u,h,p,l,c,f,d=10,y=d,v=90,g=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(i).reverse().slice(1),f(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],h=+e[0][1],u=+e[1][1],r>i&&(e=r,r=i,i=e),h>u&&(e=h,h=u,u=e),t.precision(m)):[[r,h],[i,u]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],o>n&&(e=o,o=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[o,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],t):[v,g]},t.stepMinor=function(e){return arguments.length?(d=+e[0],y=+e[1],t):[d,y]},t.precision=function(e){return arguments.length?(m=+e,p=Cu(s,a,90),l=Mu(o,n,m),c=Cu(h,u,90),f=Mu(r,i,m),t):m},t.extentMajor([[-180,-90+T_],[180,90-T_]]).extentMinor([[-180,-80-T_],[180,80+T_]])}function Au(){return Tu()()}function Eu(){Fx.point=Lu}function Lu(t,e){Fx.point=Iu,px=cx=t,lx=fx=e}function Iu(t,e){Dx.add(fx*t-cx*e),cx=t,fx=e}function Nu(){Iu(px,lx)}function Ou(t,e){t<jx&&(jx=t),t>Bx&&(Bx=t),e<Kx&&(Kx=e),e>Xx&&(Xx=e)}function ku(t,e){Yx+=t,Gx+=e,++Wx}function Ru(){Jx.point=Du}function Du(t,e){Jx.point=Fu,ku(vx=t,gx=e)}function Fu(t,e){var n=t-vx,o=e-gx,i=W_(n*n+o*o);zx+=i*(vx+t)/2,Hx+=i*(gx+e)/2,qx+=i,ku(vx=t,gx=e)}function ju(){Jx.point=ku}function Ku(){Jx.point=Xu}function Bu(){Uu(dx,yx)}function Xu(t,e){Jx.point=Uu,ku(dx=vx=t,yx=gx=e)}function Uu(t,e){var n=t-vx,o=e-gx,i=W_(n*n+o*o);zx+=i*(vx+t)/2,Hx+=i*(gx+e)/2,qx+=i,i=gx*t-vx*e,Vx+=i*(vx+t),$x+=i*(gx+e),Zx+=3*i,ku(vx=t,gx=e)}function Yu(t){this._context=t}function Gu(){this._string=[]}function Wu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zu(t){return t.length>1}function Hu(t,e){return((t=t.x)[0]<0?t[1]-L_-T_:L_-t[1])-((e=e.x)[0]<0?e[1]-L_-T_:L_-e[1])}function qu(t){var e,n=NaN,o=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?E_:-E_,u=R_(r-n);R_(u-E_)<T_?(t.point(n,o=(o+a)/2>0?L_:-L_),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),t.point(r,o),e=0):i!==s&&u>=E_&&(R_(n-i)<T_&&(n-=i*T_),R_(r-s)<T_&&(r-=s*T_),o=Vu(n,o,r,a),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),e=0),t.point(n=r,o=a),i=s},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}function Vu(t,e,n,o){var i,r,a=Y_(t-n);return R_(a)>T_?D_((Y_(e)*(r=j_(o))*Y_(n)-Y_(o)*(i=j_(e))*Y_(t))/(i*r*a)):(e+o)/2}function $u(t,e,n,o){var i;if(null==t)i=n*L_,o.point(-E_,i),o.point(0,i),o.point(E_,i),o.point(E_,0),o.point(E_,-i),o.point(0,-i),o.point(-E_,-i),o.point(-E_,0),o.point(-E_,i);else if(R_(t[0]-e[0])>T_){var r=t[0]<e[0]?E_:-E_;i=n*r/2,o.point(-r,i),o.point(0,i),o.point(r,i)}else o.point(e[0],e[1])}function Zu(t){return function(e){var n=new Ju;for(var o in t)n[o]=t[o];return n.stream=e,n}}function Ju(){}function Qu(t,e,n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),V_(n,t.stream(Ux));var a=Ux.result(),s=Math.min(o/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(o-s*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*s).translate([u,h])}function th(t,e,n){return Qu(t,[[0,0],e],n)}function eh(t){return Zu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function nh(t,e){function n(o,i,r,a,s,u,h,p,l,c,f,d,y,v){var g=h-o,m=p-i,b=g*g+m*m;if(b>4*e&&y--){var _=a+c,x=s+f,w=u+d,P=W_(_*_+x*x+w*w),S=As(w/=P),C=R_(R_(w)-1)<T_||R_(r-l)<T_?(r+l)/2:F_(x,_),M=t(C,S),T=M[0],A=M[1],E=T-o,L=A-i,I=m*E-g*L;(I*I/b>e||R_((g*E+m*L)/b-.5)>.3||a*c+s*f+u*d<sw)&&(n(o,i,r,a,s,u,T,A,C,_/=P,x/=P,w,y,v),v.point(T,A),n(T,A,C,_,x,w,h,p,l,c,f,d,y,v))}}return function(e){function o(n,o){n=t(n,o),e.point(n[0],n[1])}function i(){g=NaN,w.point=r,e.lineStart()}function r(o,i){var r=Ks([o,i]),a=t(o,i);n(g,m,v,b,_,x,g=a[0],m=a[1],v=o,b=r[0],_=r[1],x=r[2],aw,e),e.point(g,m)}function a(){w.point=o,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=h}function u(t,e){r(p=t,e),l=g,c=m,f=b,d=_,y=x,w.point=r}function h(){n(g,m,v,b,_,x,l,c,p,f,d,y,aw,e),w.lineEnd=a,a()}var p,l,c,f,d,y,v,g,m,b,_,x,w={point:o,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}function oh(t){return ih(function(){return t})()}function ih(t){function e(t){return t=p(t[0]*k_,t[1]*k_),[t[0]*v+s,u-t[1]*v]}function n(t){return t=p.invert((t[0]-s)/v,(u-t[1])/v),t&&[t[0]*O_,t[1]*O_]}function o(t,e){return t=a(t,e),[t[0]*v+s,u-t[1]*v]}function i(){p=ax(h=cu(x,w,P),a);var t=a(b,_);return s=g-t[0]*v,u=m+t[1]*v,r()}function r(){return d=y=null,e}var a,s,u,h,p,l,c,f,d,y,v=150,g=480,m=250,b=0,_=0,x=0,w=0,P=0,S=null,C=ow,M=null,T=kx,A=.5,E=uw(o,A);return e.stream=function(t){return d&&y===t?d:d=hw(C(h,E(T(y=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?iw(S=t*k_,6*k_):(S=null,ow),r()):S*O_},e.clipExtent=function(t){return arguments.length?(T=null==t?(M=l=c=f=null,kx):_u(M=+t[0][0],l=+t[0][1],c=+t[1][0],f=+t[1][1]),r()):null==M?null:[[M,l],[c,f]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],i()):[g,m]},e.center=function(t){return arguments.length?(b=t[0]%360*k_,_=t[1]%360*k_,i()):[b*O_,_*O_]},e.rotate=function(t){return arguments.length?(x=t[0]%360*k_,w=t[1]%360*k_,P=t.length>2?t[2]%360*k_:0,i()):[x*O_,w*O_,P*O_]},e.precision=function(t){return arguments.length?(E=uw(o,A=t*t),r()):W_(A)},e.fitExtent=function(t,n){return Qu(e,t,n)},e.fitSize=function(t,n){return th(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function rh(t){var e=0,n=E_/3,o=ih(t),i=o(e,n);return i.parallels=function(t){return arguments.length?o(e=t[0]*k_,n=t[1]*k_):[e*O_,n*O_]},i}function ah(t){function e(t,e){return[t*n,Y_(e)/n]}var n=j_(t);return e.invert=function(t,e){return[t/n,As(e*n)]},e}function sh(t,e){function n(t,e){var n=W_(r-2*i*Y_(e))/i;return[n*Y_(t*=i),a-n*j_(t)]}var o=Y_(t),i=(o+Y_(e))/2;if(R_(i)<T_)return ah(t);var r=1+o*(2*i-o),a=W_(r)/i;return n.invert=function(t,e){var n=a-e;return[F_(t,R_(n))/i*G_(n),As((r-(t*t+n*n)*i*i)/(2*i))]},n}function uh(t){var e=t.length;return{point:function(n,o){for(var i=-1;++i<e;)t[i].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function hh(t){return function(e,n){var o=j_(e),i=j_(n),r=t(o*i);return[r*i*Y_(e),r*Y_(n)]}}function ph(t){return function(e,n){var o=W_(e*e+n*n),i=t(o),r=Y_(i),a=j_(i);return[F_(e*r,o*a),As(o&&n*r/o)]}}function lh(t,e){return[t,X_(z_((L_+e)/2))]}function ch(t){var e,n=oh(t),o=n.scale,i=n.translate,r=n.clipExtent;return n.scale=function(t){return arguments.length?(o(t),e&&n.clipExtent(null),n):o()},n.translate=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.clipExtent=function(t){if(!arguments.length)return e?null:r();if(e=null==t){var a=E_*o(),s=i();t=[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]}return r(t),n},n.clipExtent(null)}function fh(t){return z_((L_+t)/2)}function dh(t,e){function n(t,e){r>0?e<-L_+T_&&(e=-L_+T_):e>L_-T_&&(e=L_-T_);var n=r/U_(fh(e),i);return[n*Y_(i*t),r-n*j_(i*t)]}var o=j_(t),i=t===e?Y_(t):X_(o/j_(e))/X_(fh(e)/fh(t)),r=o*U_(fh(t),i)/i;return i?(n.invert=function(t,e){var n=r-e,o=G_(i)*W_(t*t+n*n);return[F_(t,R_(n))/i*G_(n),2*D_(U_(r/o,1/i))-L_]},n):lh}function yh(t,e){return[t,e]}function vh(t,e){function n(t,e){var n=r-e,o=i*t;return[n*Y_(o),r-n*j_(o)]}var o=j_(t),i=t===e?Y_(t):(o-j_(e))/(e-t),r=o/i+t;return R_(i)<T_?yh:(n.invert=function(t,e){var n=r-e;return[F_(t,R_(n))/i*G_(n),r-G_(i)*W_(t*t+n*n)]},n)}function gh(t,e){var n=j_(e),o=j_(t)*n;return[n*Y_(t)/o,Y_(e)/o]}function mh(t,e,n,o){return 1===t&&1===e&&0===n&&0===o?kx:Zu({point:function(i,r){this.stream.point(i*t+n,r*e+o)}})}function bh(t,e){return[j_(e)*Y_(t),Y_(e)]}function _h(t,e){var n=j_(e),o=1+j_(t)*n;return[n*Y_(t)/o,Y_(e)/o]}function xh(t,e){return[X_(z_((L_+e)/2)),-t]}var wh="4.4.0",Ph=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Sh=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}},Ch=Sh(Ph),Mh=Ch.right,Th=Ch.left,Ah=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Eh=function(t){return null===t?NaN:+t},Lh=function(t,e){var n,o,i=t.length,r=0,a=0,s=-1,u=0;if(null==e)for(;++s<i;)isNaN(n=Eh(t[s]))||(o=n-r,r+=o/++u,a+=o*(n-r));else for(;++s<i;)isNaN(n=Eh(e(t[s],s,t)))||(o=n-r,r+=o/++u,a+=o*(n-r));if(u>1)return a/(u-1)},Ih=function(t,e){var n=Lh(t,e);return n?Math.sqrt(n):n},Nh=function(t,e){var n,o,i,r=-1,a=t.length;if(null==e){for(;++r<a;)if(null!=(o=t[r])&&o>=o){n=i=o;break}for(;++r<a;)null!=(o=t[r])&&(n>o&&(n=o),i<o&&(i=o))}else{for(;++r<a;)if(null!=(o=e(t[r],r,t))&&o>=o){n=i=o;break}for(;++r<a;)null!=(o=e(t[r],r,t))&&(n>o&&(n=o),i<o&&(i=o))}return[n,i]},Oh=Array.prototype,kh=Oh.slice,Rh=Oh.map,Dh=function(t){return function(){return t}},Fh=function(t){return t},jh=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var o=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++o<i;)r[o]=t+o*n;return r},Kh=Math.sqrt(50),Bh=Math.sqrt(10),Xh=Math.sqrt(2),Uh=function(t,e,o){var i=n(t,e,o);return jh(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},Yh=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Gh=function(){function t(t){var i,r,a=t.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(t[i],i,t);var u=n(s),h=u[0],p=u[1],l=o(s,h,p);Array.isArray(l)||(l=Uh(h,p,l));for(var c=l.length;l[0]<=h;)l.shift(),--c;for(;l[c-1]>=p;)l.pop(),--c;var f,d=new Array(c+1);for(i=0;i<=c;++i)f=d[i]=[],f.x0=i>0?l[i-1]:h,f.x1=i<c?l[i]:p;for(i=0;i<a;++i)r=s[i],h<=r&&r<=p&&d[Mh(l,r,0,c)].push(t[i]);return d}var e=Fh,n=Nh,o=Yh;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Dh(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Dh([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(o="function"==typeof e?e:Dh(Array.isArray(e)?kh.call(e):e),t):o},t},Wh=function(t,e,n){if(null==n&&(n=Eh),o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,r=Math.floor(i),a=+n(t[r],r,t),s=+n(t[r+1],r+1,t);return a+(s-a)*(i-r)}},zh=function(t,e,n){return t=Rh.call(t,Eh).sort(Ph),Math.ceil((n-e)/(2*(Wh(t,.75)-Wh(t,.25))*Math.pow(t.length,-1/3)))},Hh=function(t,e,n){return Math.ceil((n-e)/(3.5*Ih(t)*Math.pow(t.length,-1/3)))},qh=function(t,e){var n,o,i=-1,r=t.length;if(null==e){for(;++i<r;)if(null!=(o=t[i])&&o>=o){n=o;break}for(;++i<r;)null!=(o=t[i])&&o>n&&(n=o)}else{for(;++i<r;)if(null!=(o=e(t[i],i,t))&&o>=o){n=o;break}for(;++i<r;)null!=(o=e(t[i],i,t))&&o>n&&(n=o)}return n},Vh=function(t,e){var n,o=0,i=t.length,r=-1,a=i;if(null==e)for(;++r<i;)isNaN(n=Eh(t[r]))?--a:o+=n;else for(;++r<i;)isNaN(n=Eh(e(t[r],r,t)))?--a:o+=n;if(a)return o/a},$h=function(t,e){var n,o=[],i=t.length,r=-1;if(null==e)for(;++r<i;)isNaN(n=Eh(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=Eh(e(t[r],r,t)))||o.push(n);return Wh(o.sort(Ph),.5)},Zh=function(t){for(var e,n,o,i=t.length,r=-1,a=0;++r<i;)a+=t[r].length;for(n=new Array(a);--i>=0;)for(o=t[i],
e=o.length;--e>=0;)n[--a]=o[e];return n},Jh=function(t,e){var n,o,i=-1,r=t.length;if(null==e){for(;++i<r;)if(null!=(o=t[i])&&o>=o){n=o;break}for(;++i<r;)null!=(o=t[i])&&n>o&&(n=o)}else{for(;++i<r;)if(null!=(o=e(t[i],i,t))&&o>=o){n=o;break}for(;++i<r;)null!=(o=e(t[i],i,t))&&n>o&&(n=o)}return n},Qh=function(t){for(var e=0,n=t.length-1,o=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[o,o=t[++e]];return i},tp=function(t,e){for(var n=e.length,o=new Array(n);n--;)o[n]=t[e[n]];return o},ep=function(t,e){if(n=t.length){var n,o,i=0,r=0,a=t[r];for(e||(e=Ph);++i<n;)(e(o=t[i],a)<0||0!==e(a,a))&&(a=o,r=i);return 0===e(a,a)?r:void 0}},np=function(t,e,n){for(var o,i,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)i=Math.random()*r--|0,o=t[r+e],t[r+e]=t[i+e],t[i+e]=o;return t},op=function(t,e){var n,o=0,i=t.length,r=-1;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},ip=function(t){if(!(r=t.length))return[];for(var e=-1,n=Jh(t,o),i=new Array(n);++e<n;)for(var r,a=-1,s=i[e]=new Array(r);++a<r;)s[a]=t[a][e];return i},rp=function(){return ip(arguments)},ap="$";i.prototype=r.prototype={constructor:i,has:function(t){return ap+t in this},get:function(t){return this[ap+t]},set:function(t,e){return this[ap+t]=e,this},remove:function(t){var e=ap+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ap&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ap&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ap&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ap&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ap&&++t;return t},empty:function(){for(var t in this)if(t[0]===ap)return!1;return!0},each:function(t){for(var e in this)e[0]===ap&&t(this[e],e.slice(1),this)}};var sp=function(){function t(e,i,a,s){if(i>=p.length)return null!=o?o(e):null!=n?e.sort(n):e;for(var u,h,l,c=-1,f=e.length,d=p[i++],y=r(),v=a();++c<f;)(l=y.get(u=d(h=e[c])+""))?l.push(h):y.set(u,[h]);return y.each(function(e,n){s(v,n,t(e,i,a,s))}),v}function e(t,n){if(++n>p.length)return t;var i,r=l[n-1];return null!=o&&n>=p.length?i=t.entries():(i=[],t.each(function(t,o){i.push({key:o,values:e(t,n)})})),null!=r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,o,i,p=[],l=[];return i={object:function(e){return t(e,0,a,s)},map:function(e){return t(e,0,u,h)},entries:function(n){return e(t(n,0,u,h),0)},key:function(t){return p.push(t),i},sortKeys:function(t){return l[p.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return o=t,i}}},up=r.prototype;p.prototype=l.prototype={constructor:p,has:up.has,add:function(t){return t+="",this[ap+t]=t,this},remove:up.remove,clear:up.clear,values:up.keys,size:up.size,empty:up.empty,each:up.each};var hp=function(t){var e=[];for(var n in t)e.push(n);return e},pp=function(t){var e=[];for(var n in t)e.push(t[n]);return e},lp=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},cp=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},fp=function(t,e){var n,o;return t=null==t?0:+t,e=null==e?1:+e,function(){var i;if(null!=n)i=n,n=null;else do n=2*Math.random()-1,i=2*Math.random()-1,o=n*n+i*i;while(!o||o>1);return t+e*i*Math.sqrt(-2*Math.log(o)/o)}},dp=function(){var t=fp.apply(this,arguments);return function(){return Math.exp(t())}},yp=function(t){return function(){for(var e=0,n=0;n<t;++n)e+=Math.random();return e}},vp=function(t){var e=yp(t);return function(){return e()/t}},gp=function(t){return function(){return-Math.log(1-Math.random())/t}},mp=3,bp=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(mp),_p=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(mp),xp=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(mp),wp=Math.PI,Pp=wp/2,Sp=4/11,Cp=6/11,Mp=8/11,Tp=.75,Ap=9/11,Ep=10/11,Lp=.9375,Ip=21/22,Np=63/64,Op=1/Sp/Sp,kp=1.70158,Rp=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(kp),Dp=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(kp),Fp=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(kp),jp=2*Math.PI,Kp=1,Bp=.3,Xp=function t(e,n){function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=jp);return o.amplitude=function(e){return t(e,n*jp)},o.period=function(n){return t(e,n)},o}(Kp,Bp),Up=function t(e,n){function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=jp);return o.amplitude=function(e){return t(e,n*jp)},o.period=function(n){return t(e,n)},o}(Kp,Bp),Yp=function t(e,n){function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=jp);return o.amplitude=function(e){return t(e,n*jp)},o.period=function(n){return t(e,n)},o}(Kp,Bp),Gp=function(t){for(var e,n=-1,o=t.length,i=t[o-1],r=0;++n<o;)e=i,i=t[n],r+=e[1]*i[0]-e[0]*i[1];return r/2},Wp=function(t){for(var e,n,o=-1,i=t.length,r=0,a=0,s=t[i-1],u=0;++o<i;)e=s,s=t[o],u+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[r/u,a/u]},zp=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},Hp=function(t){if((n=t.length)<3)return null;var e,n,o=new Array(n),i=new Array(n);for(e=0;e<n;++e)o[e]=[+t[e][0],+t[e][1],e];for(o.sort(I),e=0;e<n;++e)i[e]=[o[e][0],-o[e][1]];var r=N(o),a=N(i),s=a[0]===r[0],u=a[a.length-1]===r[r.length-1],h=[];for(e=r.length-1;e>=0;--e)h.push(t[o[r[e]][2]]);for(e=+s;e<a.length-u;++e)h.push(t[o[a[e]][2]]);return h},qp=function(t,e){for(var n,o,i=t.length,r=t[i-1],a=e[0],s=e[1],u=r[0],h=r[1],p=!1,l=0;l<i;++l)r=t[l],n=r[0],o=r[1],o>s!=h>s&&a<(u-n)*(s-o)/(h-o)+n&&(p=!p),u=n,h=o;return p},Vp=function(t){for(var e,n,o=-1,i=t.length,r=t[i-1],a=r[0],s=r[1],u=0;++o<i;)e=a,n=s,r=t[o],a=r[0],s=r[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u},$p=Math.PI,Zp=2*$p,Jp=1e-6,Qp=Zp-Jp;O.prototype=k.prototype={constructor:O,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,a=this._y1,s=n-t,u=o-e,h=r-t,p=a-e,l=h*h+p*p;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>Jp)if(Math.abs(p*s-u*h)>Jp&&i){var c=n-r,f=o-a,d=s*s+u*u,y=c*c+f*f,v=Math.sqrt(d),g=Math.sqrt(l),m=i*Math.tan(($p-Math.acos((d+l-y)/(2*v*g)))/2),b=m/g,_=m/v;Math.abs(b-1)>Jp&&(this._+="L"+(t+b*h)+","+(e+b*p)),this._+="A"+i+","+i+",0,0,"+ +(p*c>h*f)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,i,r){t=+t,e=+e,n=+n;var a=n*Math.cos(o),s=n*Math.sin(o),u=t+a,h=e+s,p=1^r,l=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+h:(Math.abs(this._x1-u)>Jp||Math.abs(this._y1-h)>Jp)&&(this._+="L"+u+","+h),n&&(l>Qp?this._+="A"+n+","+n+",0,1,"+p+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+p+","+(this._x1=u)+","+(this._y1=h):(l<0&&(l=l%Zp+Zp),this._+="A"+n+","+n+",0,"+ +(l>=$p)+","+p+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};var tl=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return R(this.cover(e,n),e,n,t)},el=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{if(!(n>t||t>i||o>e||e>r))return this;var a,s,u=i-n,h=this._root;switch(s=(e<(o+r)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,r=o+u,t>i||e>r);break;case 1:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,r=o+u,n>t||e>r);break;case 2:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,o=r-u,t>i||o>e);break;case 3:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,o=r-u,n>t||o>e)}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this},nl=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},ol=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},il=function(t,e,n,o,i){this.node=t,this.x0=e,this.y0=n,this.x1=o,this.y1=i},rl=function(t,e,n){var o,i,r,a,s,u,h,p=this._x0,l=this._y0,c=this._x1,f=this._y1,d=[],y=this._root;for(y&&d.push(new il(y,p,l,c,f)),null==n?n=1/0:(p=t-n,l=e-n,c=t+n,f=e+n,n*=n);u=d.pop();)if(!(!(y=u.node)||(i=u.x0)>c||(r=u.y0)>f||(a=u.x1)<p||(s=u.y1)<l))if(y.length){var v=(i+a)/2,g=(r+s)/2;d.push(new il(y[3],v,g,a,s),new il(y[2],i,g,v,s),new il(y[1],v,r,a,g),new il(y[0],i,r,v,g)),(h=(e>=g)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-h],d[d.length-1-h]=u)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),_=m*m+b*b;if(_<n){var x=Math.sqrt(n=_);p=t-x,l=e-x,c=t+x,f=e+x,o=y.data}}return o},al=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,o,i,r,a,s,u,h,p,l,c,f=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((h=r>=(s=(d+v)/2))?d=s:v=s,(p=a>=(u=(y+g)/2))?y=u:g=u,e=f,!(f=f[l=p<<1|h]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,c=l)}for(;f.data!==t;)if(o=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,o?(i?o.next=i:delete o.next,this):e?(i?e[l]=i:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[c]=f:this._root=f),this):(this._root=i,this)},sl=function(){return this._root},ul=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},hl=function(t){var e,n,o,i,r,a,s=[],u=this._root;for(u&&s.push(new il(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,o=e.x0,i=e.y0,r=e.x1,a=e.y1)&&u.length){var h=(o+r)/2,p=(i+a)/2;(n=u[3])&&s.push(new il(n,h,p,r,a)),(n=u[2])&&s.push(new il(n,o,p,h,a)),(n=u[1])&&s.push(new il(n,h,i,r,p)),(n=u[0])&&s.push(new il(n,o,i,h,p))}return this},pl=function(t){var e,n=[],o=[];for(this._root&&n.push(new il(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var r,a=e.x0,s=e.y0,u=e.x1,h=e.y1,p=(a+u)/2,l=(s+h)/2;(r=i[0])&&n.push(new il(r,a,s,p,l)),(r=i[1])&&n.push(new il(r,p,s,u,l)),(r=i[2])&&n.push(new il(r,a,l,p,h)),(r=i[3])&&n.push(new il(r,p,l,u,h))}o.push(e)}for(;e=o.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ll=function(t){return arguments.length?(this._x=t,this):this._x},cl=function(t){return arguments.length?(this._y=t,this):this._y},fl=B.prototype=X.prototype;fl.copy=function(){var t,e,n=new X(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return n;if(!o.length)return n._root=U(o),n;for(t=[{source:o,target:n._root=new Array(4)}];o=t.pop();)for(var i=0;i<4;++i)(e=o.source[i])&&(e.length?t.push({source:e,target:o.target[i]=new Array(4)}):o.target[i]=U(e));return n},fl.add=tl,fl.addAll=D,fl.cover=el,fl.data=nl,fl.extent=ol,fl.find=rl,fl.remove=al,fl.removeAll=F,fl.root=sl,fl.size=ul,fl.visit=hl,fl.visitAfter=pl,fl.x=ll,fl.y=cl;var dl=[].slice,yl={};Y.prototype=V.prototype={constructor:Y,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=dl.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),G(this),this},abort:function(){return null==this._error&&H(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},q(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,q(this),this}};var vl=function(t){return function(){return t}},gl=1e-12,ml=Math.PI,bl=ml/2,_l=2*ml,xl=function(){function t(){var t,h,p=+e.apply(this,arguments),l=+n.apply(this,arguments),c=r.apply(this,arguments)-bl,f=a.apply(this,arguments)-bl,d=Math.abs(f-c),y=f>c;if(u||(u=t=k()),l<p&&(h=l,l=p,p=h),l>gl)if(d>_l-gl)u.moveTo(l*Math.cos(c),l*Math.sin(c)),u.arc(0,0,l,c,f,!y),p>gl&&(u.moveTo(p*Math.cos(f),p*Math.sin(f)),u.arc(0,0,p,f,c,y));else{var v,g,m=c,b=f,_=c,x=f,w=d,P=d,S=s.apply(this,arguments)/2,C=S>gl&&(i?+i.apply(this,arguments):Math.sqrt(p*p+l*l)),M=Math.min(Math.abs(l-p)/2,+o.apply(this,arguments)),T=M,A=M;if(C>gl){var E=et(C/p*Math.sin(S)),L=et(C/l*Math.sin(S));(w-=2*E)>gl?(E*=y?1:-1,_+=E,x-=E):(w=0,_=x=(c+f)/2),(P-=2*L)>gl?(L*=y?1:-1,m+=L,b-=L):(P=0,m=b=(c+f)/2)}var I=l*Math.cos(m),N=l*Math.sin(m),O=p*Math.cos(x),R=p*Math.sin(x);if(M>gl){var D=l*Math.cos(b),F=l*Math.sin(b),j=p*Math.cos(_),K=p*Math.sin(_);if(d<ml){var B=w>gl?nt(I,N,j,K,D,F,O,R):[O,R],X=I-B[0],U=N-B[1],Y=D-B[0],G=F-B[1],W=1/Math.sin(Math.acos((X*Y+U*G)/(Math.sqrt(X*X+U*U)*Math.sqrt(Y*Y+G*G)))/2),z=Math.sqrt(B[0]*B[0]+B[1]*B[1]);T=Math.min(M,(p-z)/(W-1)),A=Math.min(M,(l-z)/(W+1))}}P>gl?A>gl?(v=ot(j,K,I,N,l,A,y),g=ot(D,F,O,R,l,A,y),u.moveTo(v.cx+v.x01,v.cy+v.y01),A<M?u.arc(v.cx,v.cy,A,Math.atan2(v.y01,v.x01),Math.atan2(g.y01,g.x01),!y):(u.arc(v.cx,v.cy,A,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!y),u.arc(0,0,l,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(g.cy+g.y11,g.cx+g.x11),!y),u.arc(g.cx,g.cy,A,Math.atan2(g.y11,g.x11),Math.atan2(g.y01,g.x01),!y))):(u.moveTo(I,N),u.arc(0,0,l,m,b,!y)):u.moveTo(I,N),p>gl&&w>gl?T>gl?(v=ot(O,R,D,F,p,-T,y),g=ot(I,N,j,K,p,-T,y),u.lineTo(v.cx+v.x01,v.cy+v.y01),T<M?u.arc(v.cx,v.cy,T,Math.atan2(v.y01,v.x01),Math.atan2(g.y01,g.x01),!y):(u.arc(v.cx,v.cy,T,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!y),u.arc(0,0,p,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(g.cy+g.y11,g.cx+g.x11),y),u.arc(g.cx,g.cy,T,Math.atan2(g.y11,g.x11),Math.atan2(g.y01,g.x01),!y))):u.arc(0,0,p,x,_,y):u.lineTo(O,R)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=$,n=Z,o=vl(0),i=null,r=J,a=Q,s=tt,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,o=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-ml/2;return[Math.cos(o)*t,Math.sin(o)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:vl(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:vl(+e),t):n},t.cornerRadius=function(e){return arguments.length?(o="function"==typeof e?e:vl(+e),t):o},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:vl(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:vl(+e),t):r},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:vl(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:vl(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t};it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var wl=function(t){return new it(t)},Pl=function(){function t(t){var s,u,h,p=t.length,l=!1;for(null==i&&(a=r(h=k())),s=0;s<=p;++s)!(s<p&&o(u=t[s],s,t))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+e(u,s,t),+n(u,s,t));if(h)return a=null,h+""||null}var e=rt,n=at,o=vl(!0),i=null,r=wl,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:vl(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:vl(+e),t):n},t.defined=function(e){return arguments.length?(o="function"==typeof e?e:vl(!!e),t):o},t.curve=function(e){return arguments.length?(r=e,null!=i&&(a=r(i)),t):r},t.context=function(e){return arguments.length?(null==e?i=a=null:a=r(i=e),t):i},t},Sl=function(){function t(t){var e,p,l,c,f,d=t.length,y=!1,v=new Array(d),g=new Array(d);for(null==s&&(h=u(f=k())),e=0;e<=d;++e){if(!(e<d&&a(c=t[e],e,t))===y)if(y=!y)p=e,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),l=e-1;l>=p;--l)h.point(v[l],g[l]);h.lineEnd(),h.areaEnd()}y&&(v[e]=+n(c,e,t),g[e]=+i(c,e,t),h.point(o?+o(c,e,t):v[e],r?+r(c,e,t):g[e]))}if(f)return h=null,f+""||null}function e(){return Pl().defined(a).curve(u).context(s)}var n=rt,o=null,i=vl(0),r=at,a=vl(!0),s=null,u=wl,h=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:vl(+e),o=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:vl(+e),t):n},t.x1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:vl(+e),t):o},t.y=function(e){return arguments.length?(i="function"==typeof e?e:vl(+e),r=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:vl(+e),t):i},t.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:vl(+e),t):r},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(r)},t.lineX1=function(){return e().x(o).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:vl(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(h=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=h=null:h=u(s=e),t):s},t},Cl=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Ml=function(t){return t},Tl=function(){function t(t){var s,u,h,p,l,c=t.length,f=0,d=new Array(c),y=new Array(c),v=+i.apply(this,arguments),g=Math.min(_l,Math.max(-_l,r.apply(this,arguments)-v)),m=Math.min(Math.abs(g)/c,a.apply(this,arguments)),b=m*(g<0?-1:1);for(s=0;s<c;++s)(l=y[d[s]=s]=+e(t[s],s,t))>0&&(f+=l);for(null!=n?d.sort(function(t,e){return n(y[t],y[e])}):null!=o&&d.sort(function(e,n){return o(t[e],t[n])}),s=0,h=f?(g-c*b)/f:0;s<c;++s,v=p)u=d[s],l=y[u],p=v+(l>0?l*h:0)+b,y[u]={data:t[u],index:s,value:l,startAngle:v,endAngle:p,padAngle:m};return y}var e=Ml,n=Cl,o=null,i=vl(0),r=vl(_l),a=vl(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:vl(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,o=null,t):n},t.sort=function(e){return arguments.length?(o=e,n=null,t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:vl(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:vl(+e),t):r},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:vl(+e),t):a},t},Al=ut(wl);st.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var El=function(){return ht(Pl().curve(Al))},Ll=function(){var t=Sl().curve(Al),e=t.curve,n=t.lineX0,o=t.lineX1,i=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ht(n())},delete t.lineX0,t.lineEndAngle=function(){return ht(o())},delete t.lineX1,t.lineInnerRadius=function(){return ht(i())},delete t.lineY0,t.lineOuterRadius=function(){return ht(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ut(t)):e()._curve},t},Il={draw:function(t,e){var n=Math.sqrt(e/ml);t.moveTo(n,0),t.arc(0,0,n,0,_l)}},Nl={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ol=Math.sqrt(1/3),kl=2*Ol,Rl={draw:function(t,e){var n=Math.sqrt(e/kl),o=n*Ol;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},Dl=.8908130915292852,Fl=Math.sin(ml/10)/Math.sin(7*ml/10),jl=Math.sin(_l/10)*Fl,Kl=-Math.cos(_l/10)*Fl,Bl={draw:function(t,e){var n=Math.sqrt(e*Dl),o=jl*n,i=Kl*n;t.moveTo(0,-n),t.lineTo(o,i);for(var r=1;r<5;++r){var a=_l*r/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*o-u*i,u*o+s*i)}t.closePath()}},Xl={draw:function(t,e){var n=Math.sqrt(e),o=-n/2;t.rect(o,o,n,n)}},Ul=Math.sqrt(3),Yl={draw:function(t,e){var n=-Math.sqrt(e/(3*Ul));t.moveTo(0,2*n),t.lineTo(-Ul*n,-n),t.lineTo(Ul*n,-n),t.closePath()}},Gl=-.5,Wl=Math.sqrt(3)/2,zl=1/Math.sqrt(12),Hl=3*(zl/2+1),ql={draw:function(t,e){var n=Math.sqrt(e/Hl),o=n/2,i=n*zl,r=o,a=n*zl+n,s=-r,u=a;t.moveTo(o,i),t.lineTo(r,a),t.lineTo(s,u),t.lineTo(Gl*o-Wl*i,Wl*o+Gl*i),t.lineTo(Gl*r-Wl*a,Wl*r+Gl*a),t.lineTo(Gl*s-Wl*u,Wl*s+Gl*u),t.lineTo(Gl*o+Wl*i,Gl*i-Wl*o),t.lineTo(Gl*r+Wl*a,Gl*a-Wl*r),t.lineTo(Gl*s+Wl*u,Gl*u-Wl*s),t.closePath()}},Vl=[Il,Nl,Rl,Xl,Bl,Yl,ql],$l=function(){function t(){var t;if(o||(o=t=k()),e.apply(this,arguments).draw(o,+n.apply(this,arguments)),t)return o=null,t+""||null}var e=vl(Il),n=vl(64),o=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:vl(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:vl(+e),t):n},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t},Zl=function(){};lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Jl=function(t){return new lt(t)};ct.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ql=function(t){return new ct(t)};ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:pt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tc=function(t){return new ft(t)};dt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var o,i=t[0],r=e[0],a=t[n]-i,s=e[n]-r,u=-1;++u<=n;)o=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+o*a),this._beta*e[u]+(1-this._beta)*(r+o*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ec=function t(e){function n(t){return 1===e?new lt(t):new dt(t,e)}return n.beta=function(e){return t(+e)},n}(.85);vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:yt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nc=function t(e){function n(t){return new vt(t,e)}return n.tension=function(e){return t(+e)},n}(0);gt.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:yt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var oc=function t(e){function n(t){return new gt(t,e)}return n.tension=function(e){return t(+e)},n}(0);mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ic=function t(e){function n(t){return new mt(t,e)}return n.tension=function(e){return t(+e)},n}(0);_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rc=function t(e){function n(t){return e?new _t(t,e):new vt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);xt.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ac=function t(e){function n(t){return e?new xt(t,e):new gt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sc=function t(e){function n(t){return e?new wt(t,e):new mt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Pt.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var uc=function(t){return new Pt(t)};At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tt(this,this._t0,Mt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tt(this,Mt(this,n=Ct(this,t,e)),n);break;default:Tt(this,this._t0,n=Ct(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Et.prototype=Object.create(At.prototype)).point=function(t,e){At.prototype.point.call(this,e,t)},Lt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,i,r){this._context.bezierCurveTo(e,t,o,n,r,i)}},Ot.prototype={
areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var o=kt(t),i=kt(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(o[0][r],i[0][r],o[1][r],i[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var hc=function(t){return new Ot(t)};Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var pc=function(t){return new Rt(t,.5)},lc=Array.prototype.slice,cc=function(t,e){if((o=t.length)>1)for(var n,o,i=1,r=t[e[0]],a=r.length;i<o;++i){n=r,r=t[e[i]];for(var s=0;s<a;++s)r[s][1]+=r[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},fc=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},dc=function(){function t(t){var r,a,s=e.apply(this,arguments),u=t.length,h=s.length,p=new Array(h);for(r=0;r<h;++r){for(var l,c=s[r],f=p[r]=new Array(u),d=0;d<u;++d)f[d]=l=[0,+i(t[d],c,d,t)],l.data=t[d];f.key=c}for(r=0,a=n(p);r<h;++r)p[a[r]].index=r;return o(p,a),p}var e=vl([]),n=fc,o=cc,i=jt;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:vl(lc.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:vl(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?fc:"function"==typeof e?e:vl(lc.call(e)),t):n},t.offset=function(e){return arguments.length?(o=null==e?cc:e,t):o},t},yc=function(t,e){if((o=t.length)>0){for(var n,o,i,r=0,a=t[0].length;r<a;++r){for(i=n=0;n<o;++n)i+=t[n][r][1]||0;if(i)for(n=0;n<o;++n)t[n][r][1]/=i}cc(t,e)}},vc=function(t,e){if((n=t.length)>0){for(var n,o=0,i=t[e[0]],r=i.length;o<r;++o){for(var a=0,s=0;a<n;++a)s+=t[a][o][1]||0;i[o][1]+=i[o][0]=-s/2}cc(t,e)}},gc=function(t,e){if((i=t.length)>0&&(o=(n=t[e[0]]).length)>0){for(var n,o,i,r=0,a=1;a<o;++a){for(var s=0,u=0,h=0;s<i;++s){for(var p=t[e[s]],l=p[a][1]||0,c=p[a-1][1]||0,f=(l-c)/2,d=0;d<s;++d){var y=t[e[d]],v=y[a][1]||0,g=y[a-1][1]||0;f+=v-g}u+=l,h+=f*l}n[a-1][1]+=n[a-1][0]=r,u&&(r-=h/u)}n[a-1][1]+=n[a-1][0]=r,cc(t,e)}},mc=function(t){var e=t.map(Kt);return fc(t).sort(function(t,n){return e[t]-e[n]})},bc=function(t){return mc(t).reverse()},_c=function(t){var e,n,o=t.length,i=t.map(Kt),r=fc(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],h=[];for(e=0;e<o;++e)n=r[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],h.push(n));return h.reverse().concat(u)},xc=function(t){return fc(t).reverse()},wc=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Pc=.7,Sc=1/Pc,Cc="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ac=/^#([0-9a-f]{3})$/,Ec=/^#([0-9a-f]{6})$/,Lc=new RegExp("^rgb\\("+[Cc,Cc,Cc]+"\\)$"),Ic=new RegExp("^rgb\\("+[Tc,Tc,Tc]+"\\)$"),Nc=new RegExp("^rgba\\("+[Cc,Cc,Cc,Mc]+"\\)$"),Oc=new RegExp("^rgba\\("+[Tc,Tc,Tc,Mc]+"\\)$"),kc=new RegExp("^hsl\\("+[Mc,Tc,Tc]+"\\)$"),Rc=new RegExp("^hsla\\("+[Mc,Tc,Tc,Mc]+"\\)$"),Dc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wc(Xt,Ut,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),wc(Ht,zt,Bt(Xt,{brighter:function(t){return t=null==t?Sc:Math.pow(Sc,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Pc:Math.pow(Pc,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),wc(Zt,$t,Bt(Xt,{brighter:function(t){return t=null==t?Sc:Math.pow(Sc,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Pc:Math.pow(Pc,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Ht(Jt(t>=240?t-240:t+120,i,o),Jt(t,i,o),Jt(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Fc=Math.PI/180,jc=180/Math.PI,Kc=18,Bc=.95047,Xc=1,Uc=1.08883,Yc=4/29,Gc=6/29,Wc=3*Gc*Gc,zc=Gc*Gc*Gc;wc(ee,te,Bt(Xt,{brighter:function(t){return new ee(this.l+Kc*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ee(this.l-Kc*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Xc*oe(t),e=Bc*oe(e),n=Uc*oe(n),new Ht(ie(3.2404542*e-1.5371385*t-.4985314*n),ie(-.969266*e+1.8760108*t+.041556*n),ie(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),wc(ue,se,Bt(Xt,{brighter:function(t){return new ue(this.h,this.c,this.l+Kc*(null==t?1:t),this.opacity)},darker:function(t){return new ue(this.h,this.c,this.l-Kc*(null==t?1:t),this.opacity)},rgb:function(){return Qt(this).rgb()}}));var Hc=-.14861,qc=1.78277,Vc=-.29227,$c=-.90649,Zc=1.97294,Jc=Zc*$c,Qc=Zc*qc,tf=qc*Vc-$c*Hc;wc(le,pe,Bt(Xt,{brighter:function(t){return t=null==t?Sc:Math.pow(Sc,t),new le(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Pc:Math.pow(Pc,t),new le(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Fc,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),o=Math.cos(t),i=Math.sin(t);return new Ht(255*(e+n*(Hc*o+qc*i)),255*(e+n*(Vc*o+$c*i)),255*(e+n*(Zc*o)),this.opacity)}}));var ef,nf,of,rf,af=function(t){var e=t.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[o],r=t[o+1],a=o>0?t[o-1]:2*i-r,s=o<e-1?t[o+2]:2*r-i;return ce((n-o/e)*e,a,i,r,s)}},sf=function(t){var e=t.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*e),i=t[(o+e-1)%e],r=t[o%e],a=t[(o+1)%e],s=t[(o+2)%e];return ce((n-o/e)*e,i,r,a,s)}},uf=function(t){return function(){return t}},hf=function t(e){function n(t,e){var n=o((t=zt(t)).r,(e=zt(e)).r),i=o(t.g,e.g),r=o(t.b,e.b),a=o(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=r(e),t.opacity=a(e),t+""}}var o=ve(e);return n.gamma=t,n}(1),pf=me(af),lf=me(sf),cf=function(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(o),a=new Array(o);for(n=0;n<i;++n)r[n]=bf(t[n],e[n]);for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=r[n](t);return a}},ff=function(t,e){var n=new Date;return t=+t,e-=t,function(o){return n.setTime(t+e*o),n}},df=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},yf=function(t,e){var n,o={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?o[n]=bf(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gf=new RegExp(vf.source,"g"),mf=function(t,e){var n,o,i,r=vf.lastIndex=gf.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=vf.exec(t))&&(o=gf.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:df(n,o)})),r=gf.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?_e(u[0].x):be(e):(e=u.length,function(t){for(var n,o=0;o<e;++o)s[(n=u[o]).i]=n.x(t);return s.join("")})},bf=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?uf(e):("number"===o?df:"string"===o?(n=Ut(e))?(e=n,hf):mf:e instanceof Ut?hf:e instanceof Date?ff:Array.isArray(e)?cf:isNaN(e)?yf:df)(t,e)},_f=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},xf=180/Math.PI,wf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Pf=function(t,e,n,o,i,r){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*o)&&(n-=t*u,o-=e*u),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,u/=s),t*o<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*xf,skewX:Math.atan(u)*xf,scaleX:a,scaleY:s}},Sf=Pe(xe,"px, ","px)","deg)"),Cf=Pe(we,", ",")",")"),Mf=Math.SQRT2,Tf=2,Af=4,Ef=1e-12,Lf=function(t,e){var n,o,i=t[0],r=t[1],a=t[2],s=e[0],u=e[1],h=e[2],p=s-i,l=u-r,c=p*p+l*l;if(c<Ef)o=Math.log(h/a)/Mf,n=function(t){return[i+t*p,r+t*l,a*Math.exp(Mf*t*o)]};else{var f=Math.sqrt(c),d=(h*h-a*a+Af*c)/(2*a*Tf*f),y=(h*h-a*a-Af*c)/(2*h*Tf*f),v=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(y*y+1)-y);o=(g-v)/Mf,n=function(t){var e=t*o,n=Se(v),s=a/(Tf*f)*(n*Me(Mf*e+v)-Ce(v));return[i+s*p,r+s*l,a*n/Se(Mf*e+v)]}}return n.duration=1e3*o,n},If=Te(ye),Nf=Te(ge),Of=Ee(ye),kf=Ee(ge),Rf=Le(ye),Df=Le(ge),Ff=function(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t(o/(e-1));return n},jf={value:function(){}};Ne.prototype=Ie.prototype={constructor:Ne,on:function(t,e){var n,o=this._,i=Oe(t+"",o),r=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<a;)if(n=(t=i[r]).type)o[n]=Re(o[n],t.name,e);else if(null==e)for(n in o)o[n]=Re(o[n],t.name,null);return this}for(;++r<a;)if((n=(t=i[r]).type)&&(n=ke(o[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ne(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,n=o.length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};var Kf,Bf,Xf=function(t){function e(t,e){var o,i,r=n(t,function(t,n){return o?o(t,n-1):(i=t,void(o=e?Fe(t,e):De(t)))});return r.columns=i,r}function n(t,e){function n(){if(p>=h)return a;if(i)return i=!1,r;var e,n=p;if(34===t.charCodeAt(n)){for(var o=n;o++<h;)if(34===t.charCodeAt(o)){if(34!==t.charCodeAt(o+1))break;++o}return p=o+2,e=t.charCodeAt(o+1),13===e?(i=!0,10===t.charCodeAt(o+2)&&++p):10===e&&(i=!0),t.slice(n+1,o).replace(/""/g,'"')}for(;p<h;){var s=1;if(e=t.charCodeAt(p++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(p)&&(++p,++s);else if(e!==u)continue;return t.slice(n,p-s)}return t.slice(n)}for(var o,i,r={},a={},s=[],h=t.length,p=0,l=0;(o=n())!==a;){for(var c=[];o!==r&&o!==a;)c.push(o),o=n();e&&null==(c=e(c,l++))||s.push(c)}return s}function o(e,n){return null==n&&(n=je(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function i(t){return t.map(r).join("\n")}function r(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:o,formatRows:i}},Uf=Xf(","),Yf=Uf.parse,Gf=Uf.parseRows,Wf=Uf.format,zf=Uf.formatRows,Hf=Xf("\t"),qf=Hf.parse,Vf=Hf.parseRows,$f=Hf.format,Zf=Hf.formatRows,Jf=function(t,e){function n(t){var e,n=p.status;if(!n&&Be(p)||n>=200&&n<300||304===n){if(a)try{e=a.call(o,p)}catch(t){return void u.call("error",o,t)}else e=p;u.call("load",o,e)}else u.call("error",o,t)}var o,i,a,s,u=Ie("beforesend","progress","load","error"),h=r(),p=new XMLHttpRequest,l=null,c=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(t)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=n:p.onreadystatechange=function(t){p.readyState>3&&n(t)},p.onprogress=function(t){u.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==e?h.remove(t):h.set(t,e+""),o)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",o):i},responseType:function(t){return arguments.length?(s=t,o):s},timeout:function(t){return arguments.length?(f=+t,o):f},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",o)},password:function(t){return arguments.length<1?c:(c=null==t?null:t+"",o)},response:function(t){return a=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,r){return p.open(e,t,!0,l,c),null==i||h.has("accept")||h.set("accept",i+",*/*"),p.setRequestHeader&&h.each(function(t,e){p.setRequestHeader(e,t)}),null!=i&&p.overrideMimeType&&p.overrideMimeType(i),null!=s&&(p.responseType=s),f>0&&(p.timeout=f),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=Ke(r)),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),u.call("beforesend",o,p),p.send(null==n?null:n),o},abort:function(){return p.abort(),o},on:function(){var t=u.on.apply(u,arguments);return t===u?o:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o},Qf=function(t,e){return function(n,o){var i=Jf(n).mimeType(t).response(e);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return i.get(o)}return i}},td=Qf("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),ed=Qf("application/json",function(t){return JSON.parse(t.responseText)}),nd=Qf("text/plain",function(t){return t.responseText}),od=Qf("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),id=function(t,e){return function(n,o,i){arguments.length<3&&(i=o,o=null);var r=Jf(n).mimeType(t);return r.row=function(t){return arguments.length?r.response(Xe(e,o=t)):o},r.row(o),i?r.get(i):r}},rd=id("text/csv",Yf),ad=id("text/tab-separated-values",qf),sd=0,ud=0,hd=0,pd=1e3,ld=0,cd=0,fd=0,dd="object"==typeof performance&&performance.now?performance:Date,yd="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};Ge.prototype=We.prototype={constructor:Ge,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ue():+n)+(null==e?0:+e),this._next||Bf===this||(Bf?Bf._next=this:Kf=this,Bf=this),this._call=t,this._time=n,$e()},stop:function(){this._call&&(this._call=null,this._time=1/0,$e())}};var vd=function(t,e,n){var o=new Ge;return e=null==e?0:+e,o.restart(function(n){o.stop(),t(n+e)},e,n),o},gd=function(t,e,n){var o=new Ge,i=e;return null==e?(o.restart(t,e,n),o):(e=+e,n=null==n?Ue():+n,o.restart(function r(a){a+=i,o.restart(r,i+=e,n),t(a)},e,n),o)},md=new Date,bd=new Date,_d=Ze(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});_d.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ze(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):_d:null};var xd=_d.range,wd=1e3,Pd=6e4,Sd=36e5,Cd=864e5,Md=6048e5,Td=Ze(function(t){t.setTime(Math.floor(t/wd)*wd)},function(t,e){t.setTime(+t+e*wd)},function(t,e){return(e-t)/wd},function(t){return t.getUTCSeconds()}),Ad=Td.range,Ed=Ze(function(t){t.setTime(Math.floor(t/Pd)*Pd)},function(t,e){t.setTime(+t+e*Pd)},function(t,e){return(e-t)/Pd},function(t){return t.getMinutes()}),Ld=Ed.range,Id=Ze(function(t){var e=t.getTimezoneOffset()*Pd%Sd;e<0&&(e+=Sd),t.setTime(Math.floor((+t-e)/Sd)*Sd+e)},function(t,e){t.setTime(+t+e*Sd)},function(t,e){return(e-t)/Sd},function(t){return t.getHours()}),Nd=Id.range,Od=Ze(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pd)/Cd},function(t){return t.getDate()-1}),kd=Od.range,Rd=Je(0),Dd=Je(1),Fd=Je(2),jd=Je(3),Kd=Je(4),Bd=Je(5),Xd=Je(6),Ud=Rd.range,Yd=Dd.range,Gd=Fd.range,Wd=jd.range,zd=Kd.range,Hd=Bd.range,qd=Xd.range,Vd=Ze(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),$d=Vd.range,Zd=Ze(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Zd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Jd=Zd.range,Qd=Ze(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Pd)},function(t,e){return(e-t)/Pd},function(t){return t.getUTCMinutes()}),ty=Qd.range,ey=Ze(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Sd)},function(t,e){return(e-t)/Sd},function(t){return t.getUTCHours()}),ny=ey.range,oy=Ze(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Cd},function(t){return t.getUTCDate()-1}),iy=oy.range,ry=Qe(0),ay=Qe(1),sy=Qe(2),uy=Qe(3),hy=Qe(4),py=Qe(5),ly=Qe(6),cy=ry.range,fy=ay.range,dy=sy.range,yy=uy.range,vy=hy.range,gy=py.range,my=ly.range,by=Ze(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),_y=by.range,xy=Ze(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xy.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var wy,Py=xy.range,Sy=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},Cy=function(t){return t=Sy(Math.abs(t)),t?t[1]:NaN},My=function(t,e){return function(n,o){for(var i=n.length,r=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>o&&(s=Math.max(1,o-u)),r.push(n.substring(i-=s,i+s)),!((u+=s+1)>o));)s=t[a=(a+1)%t.length];return r.reverse().join(e)}},Ty=function(t,e){t=t.toPrecision(e);t:for(var n,o=t.length,i=1,r=-1;i<o;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;case"e":break t;default:r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t},Ay=function(t,e){var n=Sy(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(wy=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Sy(t,Math.max(0,e+r-1))[0]},Ey=function(t,e){var n=Sy(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},Ly={"":Ty,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ey(100*t,e)},r:Ey,s:Ay,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Iy=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Ny=function(t){return new tn(t)};tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Oy,ky=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Ry=function(t){function e(t){function e(t){var e,i,u,m=d,b=y;if("c"===f)b=v(t)+b,t="";else{t=+t;var _=(t<0||1/t<0)&&(t*=-1,!0);if(t=v(t,c),_)for(e=-1,i=t.length,_=!1;++e<i;)if(u=t.charCodeAt(e),48<u&&u<58||"x"===f&&96<u&&u<103||"X"===f&&64<u&&u<71){_=!0;break}if(m=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+m,b=b+("s"===f?ky[8+wy/3]:"")+(_&&"("===s?")":""),g)for(e=-1,i=t.length;++e<i;)if(u=t.charCodeAt(e),48>u||u>57){b=(46===u?r+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}l&&!h&&(t=o(t,1/0));var x=m.length+t.length+b.length,w=x<p?new Array(p-x+1).join(n):"";switch(l&&h&&(t=o(w+t,w.length?p-b.length:1/0),w=""),a){case"<":return m+t+b+w;case"=":return m+w+t+b;case"^":return w.slice(0,x=w.length>>1)+m+t+b+w.slice(x)}return w+m+t+b}t=Ny(t);var n=t.fill,a=t.align,s=t.sign,u=t.symbol,h=t.zero,p=t.width,l=t.comma,c=t.precision,f=t.type,d="$"===u?i[0]:"#"===u&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",y="$"===u?i[1]:/[%p]/.test(f)?"%":"",v=Ly[f],g=!f||/[defgprs%]/.test(f);return c=null==c?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,c)):Math.max(0,Math.min(20,c)),e.toString=function(){return t+""},e}function n(t,n){var o=e((t=Ny(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Cy(n)/3))),r=Math.pow(10,-i),a=ky[8+i/3];return function(t){return o(r*t)+a}}var o=t.grouping&&t.thousands?My(t.grouping,t.thousands):en,i=t.currency,r=t.decimal;return{format:e,formatPrefix:n}};nn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Dy,Fy=function(t){return Math.max(0,-Cy(Math.abs(t)))},jy=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Cy(e)/3)))-Cy(Math.abs(t)))},Ky=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cy(e)-Cy(t))+1},By={"-":"",_:" ",0:"0"},Xy=/^\s*\d+/,Uy=/^%/,Yy=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;eo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Gy="%Y-%m-%dT%H:%M:%S.%LZ",Wy=Date.prototype.toISOString?no:t.utcFormat(Gy),zy=+new Date("2000-01-01T00:00:00.000Z")?oo:t.utcParse(Gy),Hy=Array.prototype,qy=Hy.map,Vy=Hy.slice,$y={name:"implicit"},Zy=function(t){return function(){return t}},Jy=function(t){return+t},Qy=[0,1],tv=function(e,o,i){var r,a=e[0],s=e[e.length-1],u=n(a,s,null==o?10:o);switch(i=Ny(null==i?",f":i),i.type){case"s":var h=Math.max(Math.abs(a),Math.abs(s));return null!=i.precision||isNaN(r=jy(u,h))||(i.precision=r),t.formatPrefix(i,h);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=Ky(u,Math.max(Math.abs(a),Math.abs(s))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Fy(u))||(i.precision=r-2*("%"===i.type))}return t.format(i)},ev=function(t,e){t=t.slice();var n,o=0,i=t.length-1,r=t[o],a=t[i];return a<r&&(n=o,o=i,i=n,n=r,r=a,a=n),t[o]=e.floor(r),t[i]=e.ceil(a),t},nv=1e3,ov=60*nv,iv=60*ov,rv=24*iv,av=7*rv,sv=30*rv,uv=365*rv,hv=function(){return ko(Zd,Vd,Rd,Od,Id,Ed,Td,_d,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},pv=function(){return ko(xy,by,ry,oy,ey,Qd,Td,_d,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},lv=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},cv=lv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fv=lv("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),dv=lv("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),yv=lv("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),vv=Df(pe(300,.5,0),pe(-240,.5,1)),gv=Df(pe(-100,.75,.35),pe(80,1.5,.8)),mv=Df(pe(260,.75,.35),pe(80,1.5,.8)),bv=pe(),_v=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return bv.h=360*t-100,bv.s=1.5-1.5*e,bv.l=.8-.9*e,bv+""},xv=Ro(lv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),wv=Ro(lv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pv=Ro(lv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Sv=Ro(lv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Cv="http://www.w3.org/1999/xhtml",Mv={
svg:"http://www.w3.org/2000/svg",xhtml:Cv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tv=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Mv.hasOwnProperty(e)?{space:Mv[e],local:t}:t},Av=function(t){var e=Tv(t);return(e.local?jo:Fo)(e)},Ev=0;Bo.prototype=Ko.prototype={constructor:Bo,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Lv=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Iv=document.documentElement;if(!Iv.matches){var Nv=Iv.webkitMatchesSelector||Iv.msMatchesSelector||Iv.mozMatchesSelector||Iv.oMatchesSelector;Lv=function(t){return function(){return Nv.call(this,t)}}}}var Ov=Lv,kv={};if(t.event=null,"undefined"!=typeof document){var Rv=document.documentElement;"onmouseenter"in Rv||(kv={mouseenter:"mouseover",mouseleave:"mouseout"})}var Dv=function(t,e,n){var o,i,r=Yo(t+""),a=r.length;{if(!(arguments.length<2)){for(s=e?Wo:Go,null==n&&(n=!1),o=0;o<a;++o)this.each(s(r[o],e,n));return this}var s=this.node().__on;if(s)for(var u,h=0,p=s.length;h<p;++h)for(o=0,u=s[h];o<a;++o)if((i=r[o]).type===u.type&&i.name===u.name)return u.value}},Fv=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},jv=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Kv=function(t){var e=Fv();return e.changedTouches&&(e=e.changedTouches[0]),jv(t,e)},Bv=function(t){return null==t?Ho:function(){return this.querySelector(t)}},Xv=function(t){"function"!=typeof t&&(t=Bv(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=e[i],u=s.length,h=o[i]=new Array(u),p=0;p<u;++p)(r=s[p])&&(a=t.call(r,r.__data__,p,s))&&("__data__"in r&&(a.__data__=r.__data__),h[p]=a);return new Ni(o,this._parents)},Uv=function(t){return null==t?qo:function(){return this.querySelectorAll(t)}},Yv=function(t){"function"!=typeof t&&(t=Uv(t));for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var a,s=e[r],u=s.length,h=0;h<u;++h)(a=s[h])&&(o.push(t.call(a,a.__data__,h,s)),i.push(a));return new Ni(o,i)},Gv=function(t){"function"!=typeof t&&(t=Ov(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,u=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&u.push(r);return new Ni(o,this._parents)},Wv=function(t){return new Array(t.length)},zv=function(){return new Ni(this._enter||this._groups.map(Wv),this._parents)};Vo.prototype={constructor:Vo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Hv=function(t){return function(){return t}},qv="$",Vv=function(t,e){if(!t)return f=new Array(this.size()),h=-1,this.each(function(t){f[++h]=t}),f;var n=e?Zo:$o,o=this._parents,i=this._groups;"function"!=typeof t&&(t=Hv(t));for(var r=i.length,a=new Array(r),s=new Array(r),u=new Array(r),h=0;h<r;++h){var p=o[h],l=i[h],c=l.length,f=t.call(p,p&&p.__data__,h,o),d=f.length,y=s[h]=new Array(d),v=a[h]=new Array(d),g=u[h]=new Array(c);n(p,l,y,v,g,f,e);for(var m,b,_=0,x=0;_<d;++_)if(m=y[_]){for(_>=x&&(x=_+1);!(b=v[x])&&++x<d;);m._next=b||null}}return a=new Ni(a,o),a._enter=s,a._exit=u,a},$v=function(){return new Ni(this._exit||this._groups.map(Wv),this._parents)},Zv=function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new Ni(a,this._parents)},Jv=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this},Qv=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Jo);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],u=s.length,h=i[r]=new Array(u),p=0;p<u;++p)(a=s[p])&&(h[p]=a);h.sort(e)}return new Ni(i,this._parents).order()},tg=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},eg=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ng=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},og=function(){var t=0;return this.each(function(){++t}),t},ig=function(){return!this.node()},rg=function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],a=0,s=r.length;a<s;++a)(i=r[a])&&t.call(i,i.__data__,a,r);return this},ag=function(t,e){var n=Tv(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?ti:Qo:"function"==typeof e?n.local?ii:oi:n.local?ni:ei)(n,e))},sg=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},ug=function(t,e,n){var o;return arguments.length>1?this.each((null==e?ri:"function"==typeof e?si:ai)(t,e,null==n?"":n)):sg(o=this.node()).getComputedStyle(o,null).getPropertyValue(t)},hg=function(t,e){return arguments.length>1?this.each((null==e?ui:"function"==typeof e?pi:hi)(t,e)):this.node()[t]};fi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var pg=function(t,e){var n=li(t+"");if(arguments.length<2){for(var o=ci(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?mi:e?vi:gi)(n,e))},lg=function(t){return arguments.length?this.each(null==t?bi:("function"==typeof t?xi:_i)(t)):this.node().textContent},cg=function(t){return arguments.length?this.each(null==t?wi:("function"==typeof t?Si:Pi)(t)):this.node().innerHTML},fg=function(){return this.each(Ci)},dg=function(){return this.each(Mi)},yg=function(t){var e="function"==typeof t?t:Av(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},vg=function(t,e){var n="function"==typeof t?t:Av(t),o=null==e?Ti:"function"==typeof e?e:Bv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},gg=function(){return this.each(Ai)},mg=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bg=function(t,e){return this.each(("function"==typeof e?Ii:Li)(t,e))},_g=[null];Ni.prototype=Oi.prototype={constructor:Ni,select:Xv,selectAll:Yv,filter:Gv,data:Vv,enter:zv,exit:$v,merge:Zv,order:Jv,sort:Qv,call:tg,nodes:eg,node:ng,size:og,empty:ig,each:rg,attr:ag,style:ug,property:hg,classed:pg,text:lg,html:cg,raise:fg,lower:dg,append:yg,insert:vg,remove:gg,datum:mg,on:Dv,dispatch:bg};var xg=function(t){return"string"==typeof t?new Ni([[document.querySelector(t)]],[document.documentElement]):new Ni([[t]],_g)},wg=function(t){return"string"==typeof t?new Ni([document.querySelectorAll(t)],[document.documentElement]):new Ni([null==t?[]:t],_g)},Pg=function(t,e,n){arguments.length<3&&(n=e,e=Fv().changedTouches);for(var o,i=0,r=e?e.length:0;i<r;++i)if((o=e[i]).identifier===n)return jv(t,o);return null},Sg=function(t,e){null==e&&(e=Fv().touches);for(var n=0,o=e?e.length:0,i=new Array(o);n<o;++n)i[n]=jv(t,e[n]);return i},Cg=Ie("start","end","interrupt"),Mg=[],Tg=0,Ag=1,Eg=2,Lg=3,Ig=4,Ng=5,Og=6,kg=function(t,e,n,o,i,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Fi(t,n,{name:e,index:o,group:i,on:Cg,tween:Mg,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Tg})},Rg=function(t,e){var n,o,i,r=t.__transition,a=!0;if(r){e=null==e?null:e+"";for(i in r)(n=r[i]).name===e?(o=n.state>Eg&&n.state<Ng,n.state=Og,n.timer.stop(),o&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete t.__transition}},Dg=function(t){return this.each(function(){Rg(this,t)})},Fg=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=Di(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?ji:Ki)(n,t,e))},jg=function(t,e){var n;return("number"==typeof e?df:e instanceof Ut?hf:(n=Ut(e))?(e=n,hf):mf)(t,e)},Kg=function(t,e){var n=Tv(t),o="transform"===n?Cf:jg;return this.attrTween(t,"function"==typeof e?(n.local?zi:Wi)(n,o,Bi(this,"attr."+t,e)):null==e?(n.local?Ui:Xi)(n):(n.local?Gi:Yi)(n,o,e))},Bg=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=Tv(t);return this.tween(n,(o.local?Hi:qi)(o,e))},Xg=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Vi:$i)(e,t)):Di(this.node(),e).delay},Ug=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Ji)(e,t)):Di(this.node(),e).duration},Yg=function(t){var e=this._id;return arguments.length?this.each(Qi(e,t)):Di(this.node(),e).ease},Gg=function(t){"function"!=typeof t&&(t=Ov(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,u=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&u.push(r);return new pr(o,this._parents,this._name,this._id)},Wg=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new pr(a,this._parents,this._name,this._id)},zg=function(t,e){var n=this._id;return arguments.length<2?Di(this.node(),n).on.on(t):this.each(er(n,t,e))},Hg=function(){return this.on("end.remove",nr(this._id))},qg=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bv(t));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s,u,h=o[a],p=h.length,l=r[a]=new Array(p),c=0;c<p;++c)(s=h[c])&&(u=t.call(s,s.__data__,c,h))&&("__data__"in s&&(u.__data__=s.__data__),l[c]=u,kg(l[c],e,n,c,l,Di(s,n)));return new pr(r,this._parents,e,n)},Vg=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Uv(t));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var u,h=o[s],p=h.length,l=0;l<p;++l)if(u=h[l]){for(var c,f=t.call(u,u.__data__,l,h),d=Di(u,n),y=0,v=f.length;y<v;++y)(c=f[y])&&kg(c,e,n,y,f,d);r.push(f),a.push(u)}return new pr(r,a,e,n)},$g=Oi.prototype.constructor,Zg=function(){return new $g(this._groups,this._parents)},Jg=function(t,e,n){var o="transform"==(t+="")?Sf:jg;return null==e?this.styleTween(t,or(t,o)).on("end.style."+t,ir(t)):this.styleTween(t,"function"==typeof e?ar(t,o,Bi(this,"style."+t,e)):rr(t,o,e),n)},Qg=function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,sr(t,e,null==n?"":n))},tm=function(t){return this.tween("text","function"==typeof t?hr(Bi(this,"text",t)):ur(null==t?"":t+""))},em=function(){for(var t=this._name,e=this._id,n=cr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],u=s.length,h=0;h<u;++h)if(a=s[h]){var p=Di(a,e);kg(a,t,n,h,s,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new pr(o,this._parents,t,n)},nm=0,om=Oi.prototype;pr.prototype=lr.prototype={constructor:pr,select:qg,selectAll:Vg,filter:Gg,merge:Wg,selection:Zg,transition:em,call:om.call,nodes:om.nodes,node:om.node,size:om.size,empty:om.empty,each:om.each,on:zg,attr:Kg,attrTween:Bg,style:Jg,styleTween:Qg,text:tm,remove:Hg,tween:Fg,delay:Xg,duration:Ug,ease:Yg};var im={time:null,delay:0,duration:250,ease:m},rm=function(t){var e,n;t instanceof pr?(e=t._id,t=t._name):(e=cr(),(n=im).time=Ue(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],u=s.length,h=0;h<u;++h)(a=s[h])&&kg(a,t,e,h,s,n||fr(a,e));return new pr(o,this._parents,t,e)};Oi.prototype.interrupt=Dg,Oi.prototype.transition=rm;var am=[null],sm=function(t,e){var n,o,i=t.__transition;if(i){e=null==e?null:e+"";for(o in i)if((n=i[o]).state>Ag&&n.name===e)return new pr([[t]],am,e,+o)}return null},um=Array.prototype.slice,hm=function(t){return t},pm=1,lm=2,cm=3,fm=4,dm=1e-6,ym=function(){function t(t){var r,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Sr(n),t.y=Mr(n)):(t.x=r?a+=e(t,r):0,t.y=0,r=t)});var s=Ar(t),u=Er(t),h=s.x-e(s,u)/2,p=u.x+e(u,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-h)/(p-h)*n,e.y=(1-(t.y?e.y/t.y:1))*o})}var e=Pr,n=1,o=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],o=+e[1],t):i?null:[n,o]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],o=+e[1],t):i?[n,o]:null},t},vm=function(t){var e,n,o,i,r=this,a=[r];do for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(o=0,i=n.length;o<i;++o)a.push(n[o]);while(a.length);return this},gm=function(t){for(var e,n,o=this,i=[o];o=i.pop();)if(t(o),e=o.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},mm=function(t){for(var e,n,o,i=this,r=[i],a=[];i=r.pop();)if(a.push(i),e=i.children)for(n=0,o=e.length;n<o;++n)r.push(e[n]);for(;i=a.pop();)t(i);return this},bm=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,o=e.children,i=o&&o.length;--i>=0;)n+=o[i].value;e.value=n})},_m=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},xm=function(t){for(var e=this,n=Lr(e,t),o=[e];e!==n;)e=e.parent,o.push(e);for(var i=o.length;t!==n;)o.splice(i,0,t),t=t.parent;return o},wm=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Pm=function(){var t=[];return this.each(function(e){t.push(e)}),t},Sm=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Cm=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Dr.prototype=Ir.prototype={constructor:Dr,each:vm,eachAfter:mm,eachBefore:gm,sum:bm,sort:_m,path:xm,ancestors:wm,descendants:Pm,leaves:Sm,links:Cm,copy:Nr};var Mm=function(t){for(var e,n=(t=t.slice()).length,o=null,i=o;n;){var r=new Fr(t[n-1]);i=i?i.next=r:o=r,t[e]=t[--n]}return{head:o,tail:i}},Tm=function(t){return Kr(Mm(t),[])},Am=function(t){return Hr(t),t},Em=function(t){return function(){return t}},Lm=function(){function t(t){return t.x=n/2,t.y=o/2,e?t.eachBefore(Jr(e)).eachAfter(Qr(i,.5)).eachBefore(ta(1)):t.eachBefore(Jr(Zr)).eachAfter(Qr($r,1)).eachAfter(Qr(i,t.r/Math.min(n,o))).eachBefore(ta(Math.min(n,o)/(2*t.r))),t}var e=null,n=1,o=1,i=$r;return t.radius=function(n){return arguments.length?(e=qr(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:Em(+e),t):i},t},Im=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Nm=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(o-e)/t.value;++s<u;)r=a[s],r.y0=n,r.y1=i,r.x0=e,r.x1=e+=r.value*h},Om=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=o/a,t.eachBefore(e(o,a)),r&&t.eachBefore(Im),t}function e(t,e){return function(n){n.children&&Nm(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var o=n.x0,r=n.y0,a=n.x1-i,s=n.y1-i;a<o&&(o=a=(o+a)/2),s<r&&(r=s=(r+s)/2),n.x0=o,n.y0=r,n.x1=a,n.y1=s}}var n=1,o=1,i=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},km="$",Rm={depth:-1},Dm={},Fm=function(){function t(t){var o,i,r,a,s,u,h,p=t.length,l=new Array(p),c={};for(i=0;i<p;++i)o=t[i],s=l[i]=new Dr(o),null!=(u=e(o,i,t))&&(u+="")&&(h=km+(s.id=u),c[h]=h in c?Dm:s);for(i=0;i<p;++i)if(s=l[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=c[km+u],!a)throw new Error("missing: "+u);if(a===Dm)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(r)throw new Error("multiple roots");r=s}if(!r)throw new Error("no root");if(r.parent=Rm,r.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(Rr),r.parent=null,p>0)throw new Error("cycle");return r}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Vr(n),t):e},t.parentId=function(e){return arguments.length?(n=Vr(e),t):n},t};ha.prototype=Object.create(Dr.prototype);var jm=function(){function t(t){var o=pa(t);if(o.eachAfter(e),o.parent.m=-o.z,o.eachBefore(n),u)t.eachBefore(i);else{var h=t,p=t,l=t;t.eachBefore(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>l.depth&&(l=t)});var c=h===p?1:r(h,p)/2,f=c-h.x,d=a/(p.x+c+f),y=s/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+f)*d,t.y=t.depth*y})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){sa(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+r(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var o,i=t,a=t,s=e,u=i.parent.children[0],h=i.m,p=a.m,l=s.m,c=u.m;s=ra(s),i=ia(i),s&&i;)u=ia(u),a=ra(a),a.a=t,o=s.z+l-i.z-h+r(s._,i._),o>0&&(aa(ua(s,t,n),t,o),h+=o,p+=o),l+=s.m,h+=i.m,c+=u.m,p+=a.m;s&&!ra(a)&&(a.t=s,a.m+=l-p),i&&!ia(u)&&(u.t=i,u.m+=h-c,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var r=oa,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},Km=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(i-n)/t.value;++s<u;)r=a[s],r.x0=e,r.x1=o,r.y0=n,r.y1=n+=r.value*h},Bm=(1+Math.sqrt(5))/2,Xm=function t(e){function n(t,n,o,i,r){la(e,t,n,o,i,r)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Bm),Um=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=r,t.eachBefore(e),a=[0],o&&t.eachBefore(Im),t}function e(t){var e=a[t.depth],o=t.x0+e,i=t.y0+e,r=t.x1-e,c=t.y1-e;r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),t.x0=o,t.y0=i,t.x1=r,t.y1=c,t.children&&(e=a[t.depth+1]=s(t)/2,o+=l(t)-e,i+=u(t)-e,r-=h(t)-e,c-=p(t)-e,r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),n(t,o,i,r,c))}var n=Xm,o=!1,i=1,r=1,a=[0],s=$r,u=$r,h=$r,p=$r,l=$r;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.tile=function(e){return arguments.length?(n=Vr(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:Em(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Em(+e),t):u},t.paddingRight=function(e){return arguments.length?(h="function"==typeof e?e:Em(+e),t):h},t.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:Em(+e),t):p},t.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:Em(+e),t):l},t},Ym=function(t,e,n,o,i){function r(t,e,n,o,i,a,s){if(t>=e-1){var h=u[t];return h.x0=o,h.y0=i,h.x1=a,h.y1=s,void 0}for(var l=p[t],c=n/2+l,f=t+1,d=e-1;f<d;){var y=f+d>>>1;p[y]<c?f=y+1:d=y}var v=p[f]-l,g=n-v;if(s-i>a-o){var m=(i*g+s*v)/n;r(t,f,v,o,i,a,m),r(f,e,g,o,m,a,s)}else{var b=(o*g+a*v)/n;r(t,f,v,o,i,b,s),r(f,e,g,b,i,a,s)}}var a,s,u=t.children,h=u.length,p=new Array(h+1);for(p[0]=s=a=0;a<h;++a)p[a+1]=s+=u[a].value;r(0,h,t.value,e,n,o,i)},Gm=function(t,e,n,o,i){(1&t.depth?Km:Nm)(t,e,n,o,i)},Wm=function t(e){function n(t,n,o,i,r){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,h,p,l=-1,c=a.length,f=t.value;++l<c;){for(s=a[l],u=s.children,h=s.value=0,p=u.length;h<p;++h)s.value+=u[h].value;s.dice?Nm(s,n,o,i,o+=(r-o)*s.value/f):Km(s,n,o,n+=(i-n)*s.value/f,r),f-=s.value}else t._squarify=a=la(e,t,n,o,i,r),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Bm),zm=function(t,e){function n(){var n,i,r=o.length,a=0,s=0;for(n=0;n<r;++n)i=o[n],a+=i.x,s+=i.y;for(a=a/r-t,s=s/r-e,n=0;n<r;++n)i=o[n],i.x-=a,i.y-=s}var o;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){o=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},Hm=function(t){return function(){return t}},qm=function(){return 1e-6*(Math.random()-.5)},Vm=function(t){function e(){function t(t,e,n,o,i){var r=t.data,s=t.r,f=l+s;{if(!r)return e>h+f||o<h-f||n>p+f||i<p-f;if(r.index>u.index){var d=h-r.x-r.vx,y=p-r.y-r.vy,v=d*d+y*y;v<f*f&&(0===d&&(d=qm(),v+=d*d),0===y&&(y=qm(),v+=y*y),v=(f-(v=Math.sqrt(v)))/v*a,u.vx+=(d*=v)*(f=(s*=s)/(c+s)),u.vy+=(y*=v)*f,r.vx-=d*(f=1-f),r.vy-=y*f)}}}for(var e,o,u,h,p,l,c,f=i.length,d=0;d<s;++d)for(o=B(i,ca,fa).visitAfter(n),e=0;e<f;++e)u=i[e],l=r[u.index],c=l*l,h=u.x+u.vx,p=u.y+u.vy,o.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function o(){if(i){var e,n,o=i.length;for(r=new Array(o),e=0;e<o;++e)n=i[e],r[n.index]=+t(n,e,i)}}var i,r,a=1,s=1;return"function"!=typeof t&&(t=Hm(null==t?1:+t)),e.initialize=function(t){i=t,o()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Hm(+n),o(),e):t},e},$m=function(t){function e(t){return 1/Math.min(p[t.source.index],p[t.target.index])}function n(e){for(var n=0,o=t.length;n<y;++n)for(var i,r,a,h,p,c,f,d=0;d<o;++d)i=t[d],r=i.source,a=i.target,h=a.x+a.vx-r.x-r.vx||qm(),p=a.y+a.vy-r.y-r.vy||qm(),c=Math.sqrt(h*h+p*p),c=(c-u[d])/c*e*s[d],h*=c,p*=c,a.vx-=h*(f=l[d]),a.vy-=p*f,r.vx+=h*(f=1-f),r.vy+=p*f}function o(){if(h){var e,n,o=h.length,f=t.length,d=r(h,c);for(e=0,p=new Array(o);e<f;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=ya(d,n.source)),"object"!=typeof n.target&&(n.target=ya(d,n.target)),p[n.source.index]=(p[n.source.index]||0)+1,p[n.target.index]=(p[n.target.index]||0)+1;for(e=0,l=new Array(f);e<f;++e)n=t[e],l[e]=p[n.source.index]/(p[n.source.index]+p[n.target.index]);s=new Array(f),i(),u=new Array(f),a()}}function i(){if(h)for(var e=0,n=t.length;e<n;++e)s[e]=+f(t[e],e,t)}function a(){if(h)for(var e=0,n=t.length;e<n;++e)u[e]=+d(t[e],e,t)}var s,u,h,p,l,c=da,f=e,d=Hm(30),y=1;return null==t&&(t=[]),n.initialize=function(t){h=t,o()},n.links=function(e){return arguments.length?(t=e,o(),n):t},n.id=function(t){return arguments.length?(c=t,n):c},n.iterations=function(t){return arguments.length?(y=+t,n):y},n.strength=function(t){return arguments.length?(f="function"==typeof t?t:Hm(+t),i(),n):f},n.distance=function(t){return arguments.length?(d="function"==typeof t?t:Hm(+t),a(),n):d},n},Zm=10,Jm=Math.PI*(3-Math.sqrt(5)),Qm=function(t){function e(){n(),d.call("tick",a),s<u&&(f.stop(),d.call("end",a))}function n(){var e,n,o=t.length;for(s+=(p-s)*h,c.each(function(t){t(s)}),e=0;e<o;++e)n=t[e],null==n.fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0)}function o(){for(var e,n=0,o=t.length;n<o;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=Zm*Math.sqrt(n),r=n*Jm;e.x=i*Math.cos(r),e.y=i*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var a,s=1,u=.001,h=1-Math.pow(u,1/300),p=0,l=.6,c=r(),f=We(e),d=Ie("tick","end");return null==t&&(t=[]),o(),a={tick:n,restart:function(){return f.restart(e),a},stop:function(){return f.stop(),a},nodes:function(e){return arguments.length?(t=e,o(),c.each(i),a):t},alpha:function(t){return arguments.length?(s=+t,a):s},alphaMin:function(t){return arguments.length?(u=+t,a):u},alphaDecay:function(t){return arguments.length?(h=+t,a):+h},alphaTarget:function(t){return arguments.length?(p=+t,a):p},velocityDecay:function(t){return arguments.length?(l=1-t,a):1-l},force:function(t,e){return arguments.length>1?(null==e?c.remove(t):c.set(t,i(e)),a):c.get(t)},find:function(e,n,o){var i,r,a,s,u,h=0,p=t.length;for(null==o?o=1/0:o*=o,h=0;h<p;++h)s=t[h],i=e-s.x,r=n-s.y,a=i*i+r*r,a<o&&(u=s,o=a);return u},on:function(t,e){return arguments.length>1?(d.on(t,e),a):d.on(t)}}},tb=function(){function t(t){var e,s=i.length,u=B(i,va,ga).visitAfter(n);for(a=t,e=0;e<s;++e)r=i[e],u.visit(o)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+u(e,t,i)}}function n(t){var e,n,o,i,r,a=0;if(t.length){for(o=i=r=0;r<4;++r)(e=t[r])&&(n=e.value)&&(a+=n,o+=n*e.x,i+=n*e.y);t.x=o/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=s[e.data.index];while(e=e.next)}t.value=a}function o(t,e,n,o){if(!t.value)return!0;var i=t.x-r.x,u=t.y-r.y,c=o-e,f=i*i+u*u;if(c*c/l<f)return f<p&&(0===i&&(i=qm(),f+=i*i),0===u&&(u=qm(),f+=u*u),f<h&&(f=Math.sqrt(h*f)),r.vx+=i*t.value*a/f,r.vy+=u*t.value*a/f),!0;if(!(t.length||f>=p)){(t.data!==r||t.next)&&(0===i&&(i=qm(),f+=i*i),0===u&&(u=qm(),f+=u*u),f<h&&(f=Math.sqrt(h*f)));do t.data!==r&&(c=s[t.data.index]*a/f,r.vx+=i*c,r.vy+=u*c);while(t=t.next)}}var i,r,a,s,u=Hm(-30),h=1,p=1/0,l=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:Hm(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.distanceMax=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.theta=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t},eb=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vx+=(r[n]-e.x)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=Hm(.1);return"function"!=typeof t&&(t=Hm(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Hm(+t),n(),e):a},e.x=function(o){return arguments.length?(t="function"==typeof o?o:Hm(+o),n(),e):t},e},nb=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vy+=(r[n]-e.y)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=Hm(.1);return"function"!=typeof t&&(t=Hm(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Hm(+t),n(),e):a},e.y=function(o){return arguments.length?(t="function"==typeof o?o:Hm(+o),n(),e):t},e},ob=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},ib=function(t){var e=t.document.documentElement,n=xg(t).on("dragstart.drag",ob,!0);"onselectstart"in e?n.on("selectstart.drag",ob,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},rb=function(t){return function(){return t}};_a.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ab=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",r).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!p&&l.apply(this,arguments)){var e=u("mouse",c.apply(this,arguments),Kv,this,arguments);e&&(xg(t.event.view).on("mousemove.drag",o,!0).on("mouseup.drag",i,!0),ib(t.event.view),ma(),h=!1,e("start"))}}function o(){ob(),h=!0,d.mouse("drag")}function i(){xg(t.event.view).on("mousemove.drag mouseup.drag",null),ba(t.event.view,h),ob(),d.mouse("end")}function r(){if(l.apply(this,arguments)){var e,n,o=t.event.changedTouches,i=c.apply(this,arguments),r=o.length;for(e=0;e<r;++e)(n=u(o[e].identifier,i,Pg,this,arguments))&&(ma(),n("start"))}}function a(){var e,n,o=t.event.changedTouches,i=o.length;for(e=0;e<i;++e)(n=d[o[e].identifier])&&(ob(),n("drag"))}function s(){var e,n,o=t.event.changedTouches,i=o.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),e=0;e<i;++e)(n=d[o[e].identifier])&&(ma(),n("end"))}function u(n,o,i,r,a){var s,u,h,p=i(o,n),l=y.copy();if(zo(new _a(e,"beforestart",s,n,v,p[0],p[1],0,0,l),function(){return null!=(t.event.subject=s=f.apply(r,a))&&(u=s.x-p[0]||0,h=s.y-p[1]||0,!0)}))return function t(c){var f,y=p;switch(c){case"start":d[n]=t,f=v++;break;case"end":delete d[n],--v;case"drag":p=i(o,n),f=v}zo(new _a(e,c,s,n,f,p[0]+u,p[1]+h,p[0]-y[0],p[1]-y[1],l),l.apply,l,[c,r,a])}}var h,p,l=xa,c=wa,f=Pa,d={},y=Ie("start","drag","end"),v=0;return e.filter=function(t){return arguments.length?(l="function"==typeof t?t:rb(!!t),e):l},e.container=function(t){return arguments.length?(c="function"==typeof t?t:rb(t),e):c},e.subject=function(t){return arguments.length?(f="function"==typeof t?t:rb(t),e):f},e.on=function(){var t=y.on.apply(y,arguments);return t===y?e:t},e},sb=function(t){return function(){return t}};Ma.prototype={constructor:Ma,insert:function(t,e){var n,o,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=La(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.R&&(Aa(this,n),t=n,n=t.U),n.C=!1,o.C=!0,Ea(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.L&&(Ea(this,n),t=n,n=t.U),n.C=!1,o.C=!0,Aa(this,o))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,o,i=t.U,r=t.L,a=t.R;if(n=r?a?La(a):r:a,i?i.L===t?i.L=n:i.R=n:this._=n,r&&a?(o=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(o=t.C,t=n),t&&(t.U=i),!o){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Aa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ea(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Aa(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,Ea(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Aa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ea(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ub,hb,pb,lb,cb,fb=[],db=[],yb=1e-6,vb=1e-12;es.prototype={constructor:es,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Ka(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,o){for(var i,r=n.site,a=n.halfedges,s=-1,u=a.length,h=e[a[u-1]],p=h.left===r?h.right:h.left;++s<u;)i=p,h=e[a[s]],p=h.left===r?h.right:h.left,i&&p&&o<i.index&&o<p.index&&Qa(r,i,p)<0&&t.push([r.data,i.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){var o,i=this,r=i._found||0,a=i.cells[r]||i.cells[r=0],s=t-a.site[0],u=e-a.site[1],h=s*s+u*u;do a=i.cells[o=r],r=null,a.halfedges.forEach(function(n){var o=i.edges[n],s=o.left;if(s!==a.site&&s||(s=o.right)){var u=t-s[0],p=e-s[1],l=u*u+p*p;l<h&&(h=l,r=s.index)}});while(null!==r);return i._found=o,null==n||h<=n*n?a.site:null}};var gb=function(){function t(t){return new es(t.map(function(o,i){var r=[Math.round(e(o,i,t)/yb)*yb,Math.round(n(o,i,t)/yb)*yb];return r.index=i,r.data=o,r}),o)}var e=Sa,n=Ca,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:sb(+n),t):e},t.y=function(e){
return arguments.length?(n="function"==typeof e?e:sb(+e),t):n},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t},mb=function(t){return function(){return t}};os.prototype={constructor:os,scale:function(t){return 1===t?this:new os(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new os(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bb=new os(1,0,0);is.prototype=os.prototype;var _b=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},xb=function(){function e(t){t.on("wheel.zoom",h).on("mousedown.zoom",p).on("dblclick.zoom",l).on("touchstart.zoom",c).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",us)}function n(t,e){return e=Math.max(b,Math.min(_,e)),e===t.k?t:new os(e,t.x,t.y)}function o(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new os(t.k,o,i)}function i(t,e){var n=t.invertX(e[0][0])-x,o=t.invertX(e[1][0])-w,i=t.invertY(e[0][1])-P,r=t.invertY(e[1][1])-S;return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function r(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,o=arguments,i=s(t,o),a=m.apply(t,o),u=n||r(a),h=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),p=t.__zoom,l="function"==typeof e?e.apply(t,o):e,c=M(p.invert(u).concat(h/p.k),l.invert(u).concat(h/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=h/e[2];t=new os(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}})}function s(t,e){for(var n,o=0,i=T.length;o<i;++o)if((n=T[o]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=m.apply(t,e)}function h(){function e(){r.wheel=null,r.end()}if(g.apply(this,arguments)){var r=s(this,arguments),a=this.__zoom,u=Math.max(b,Math.min(_,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),h=Kv(this);if(r.wheel)r.mouse[0][0]===h[0]&&r.mouse[0][1]===h[1]||(r.mouse[1]=a.invert(r.mouse[0]=h)),clearTimeout(r.wheel);else{if(a.k===u)return;r.mouse=[h,a.invert(h)],Rg(this),r.start()}_b(),r.wheel=setTimeout(e,L),r.zoom("mouse",i(o(n(a,u),r.mouse[0],r.mouse[1]),r.extent))}}function p(){function e(){_b(),r.moved=!0,r.zoom("mouse",i(o(r.that.__zoom,r.mouse[0]=Kv(r.that),r.mouse[1]),r.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),ba(t.event.view,r.moved),_b(),r.end()}if(!v&&g.apply(this,arguments)){var r=s(this,arguments),a=xg(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=Kv(this);ib(t.event.view),rs(),r.mouse=[u,this.__zoom.invert(u)],Rg(this),r.start()}}function l(){if(g.apply(this,arguments)){var r=this.__zoom,s=Kv(this),u=r.invert(s),h=r.k*(t.event.shiftKey?.5:2),p=i(o(n(r,h),s,u),m.apply(this,arguments));_b(),C>0?xg(this).transition().duration(C).call(a,p,s):xg(this).call(e.transform,p)}}function c(){if(g.apply(this,arguments)){var e,n,o,i=s(this,arguments),r=t.event.changedTouches,a=r.length;for(rs(),e=0;e<a;++e)n=r[e],o=Pg(this,r,n.identifier),o=[o,this.__zoom.invert(o),n.identifier],i.touch0?i.touch1||(i.touch1=o):i.touch0=o;return y&&(y=clearTimeout(y),!i.touch1)?(i.end(),o=xg(this).on("dblclick.zoom"),void(o&&o.apply(this,arguments))):void(t.event.touches.length===a&&(y=setTimeout(function(){y=null},E),Rg(this),i.start()))}}function f(){var e,r,a,u,h=s(this,arguments),p=t.event.changedTouches,l=p.length;for(_b(),y&&(y=clearTimeout(y)),e=0;e<l;++e)r=p[e],a=Pg(this,p,r.identifier),h.touch0&&h.touch0[2]===r.identifier?h.touch0[0]=a:h.touch1&&h.touch1[2]===r.identifier&&(h.touch1[0]=a);if(r=h.that.__zoom,h.touch1){var c=h.touch0[0],f=h.touch0[1],d=h.touch1[0],v=h.touch1[1],g=(g=d[0]-c[0])*g+(g=d[1]-c[1])*g,m=(m=v[0]-f[0])*m+(m=v[1]-f[1])*m;r=n(r,Math.sqrt(g/m)),a=[(c[0]+d[0])/2,(c[1]+d[1])/2],u=[(f[0]+v[0])/2,(f[1]+v[1])/2]}else{if(!h.touch0)return;a=h.touch0[0],u=h.touch0[1]}h.zoom("touch",i(o(r,a,u),h.extent))}function d(){var e,n,o=s(this,arguments),i=t.event.changedTouches,r=i.length;for(rs(),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),e=0;e<r;++e)n=i[e],o.touch0&&o.touch0[2]===n.identifier?delete o.touch0:o.touch1&&o.touch1[2]===n.identifier&&delete o.touch1;o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0||o.end()}var y,v,g=as,m=ss,b=0,_=1/0,x=-_,w=_,P=x,S=w,C=250,M=Lf,T=[],A=Ie("start","zoom","end"),E=500,L=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",us),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=m.apply(this,arguments),e=this.__zoom,s=r(t),u=e.invert(s),h="function"==typeof a?a.apply(this,arguments):a;return i(o(n(e,h),s,u),t)})},e.translateBy=function(t,n,o){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof o?o.apply(this,arguments):o),m.apply(this,arguments))})},u.prototype={start:function(){return 1===++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){zo(new ns(e,t,this.that.__zoom),A.apply,A,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(g="function"==typeof t?t:mb(!!t),e):g},e.extent=function(t){return arguments.length?(m="function"==typeof t?t:mb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):m},e.scaleExtent=function(t){return arguments.length?(b=+t[0],_=+t[1],e):[b,_]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],P=+t[0][1],S=+t[1][1],e):[[x,P],[w,S]]},e.duration=function(t){return arguments.length?(C=+t,e):C},e.interpolate=function(t){return arguments.length?(M=t,e):M},e.on=function(){var t=A.on.apply(A,arguments);return t===A?e:t},e},wb=function(t){return function(){return t}},Pb=function(t,e,n){this.target=t,this.type=e,this.selection=n},Sb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Cb={name:"drag"},Mb={name:"space"},Tb={name:"handle"},Ab={name:"center"},Eb={name:"x",handles:["e","w"].map(ps),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Lb={name:"y",handles:["n","s"].map(ps),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ib={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ps),input:function(t){return t},output:function(t){return t}},Nb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ob={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kb={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Rb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Db={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Fb=function(){return ms(Ib)},jb=Math.cos,Kb=Math.sin,Bb=Math.PI,Xb=Bb/2,Ub=2*Bb,Yb=Math.max,Gb=function(){function t(t){var r,a,s,u,h,p,l=t.length,c=[],f=jh(l),d=[],y=[],v=y.groups=new Array(l),g=new Array(l*l);for(r=0,h=-1;++h<l;){for(a=0,p=-1;++p<l;)a+=t[h][p];c.push(a),d.push(jh(l)),r+=a}for(n&&f.sort(function(t,e){return n(c[t],c[e])}),o&&d.forEach(function(e,n){e.sort(function(e,i){return o(t[n][e],t[n][i])})}),r=Yb(0,Ub-e*l)/r,u=r?e:Ub/l,a=0,h=-1;++h<l;){for(s=a,p=-1;++p<l;){var m=f[h],b=d[m][p],_=t[m][b],x=a,w=a+=_*r;g[b*l+m]={index:m,subindex:b,startAngle:x,endAngle:w,value:_}}v[m]={index:m,startAngle:s,endAngle:a,value:c[m]},a+=u}for(h=-1;++h<l;)for(p=h-1;++p<l;){var P=g[p*l+h],S=g[h*l+p];(P.value||S.value)&&y.push(P.value<S.value?{source:S,target:P}:{source:P,target:S})}return i?y.sort(i):y}var e=0,n=null,o=null,i=null;return t.padAngle=function(n){return arguments.length?(e=Yb(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(o=e,t):o},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=bs(e))._=e,t):i&&i._},t},Wb=Array.prototype.slice,zb=function(t){return function(){return t}},Hb=function(){function t(){var t,s=Wb.call(arguments),u=e.apply(this,s),h=n.apply(this,s),p=+o.apply(this,(s[0]=u,s)),l=i.apply(this,s)-Xb,c=r.apply(this,s)-Xb,f=p*jb(l),d=p*Kb(l),y=+o.apply(this,(s[0]=h,s)),v=i.apply(this,s)-Xb,g=r.apply(this,s)-Xb;if(a||(a=t=k()),a.moveTo(f,d),a.arc(0,0,p,l,c),l===v&&c===g||(a.quadraticCurveTo(0,0,y*jb(v),y*Kb(v)),a.arc(0,0,y,v,g)),a.quadraticCurveTo(0,0,f,d),a.closePath(),t)return a=null,t+""||null}var e=_s,n=xs,o=ws,i=Ps,r=Ss,a=null;return t.radius=function(e){return arguments.length?(o="function"==typeof e?e:zb(+e),t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:zb(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:zb(+e),t):r},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},qb=function(){return new Cs};Cs.prototype={constructor:Cs,reset:function(){this.s=this.t=0},add:function(t){Ms(M_,t,this.t),Ms(this,M_.s,this.s),this.s?this.t+=M_.t:this.s=M_.t},valueOf:function(){return this.s}};var Vb,$b,Zb,Jb,Qb,t_,e_,n_,o_,i_,r_,a_,s_,u_,h_,p_,l_,c_,f_,d_,y_,v_,g_,m_,b_,__,x_,w_,P_,S_,C_,M_=new Cs,T_=1e-6,A_=1e-12,E_=Math.PI,L_=E_/2,I_=E_/4,N_=2*E_,O_=180/E_,k_=E_/180,R_=Math.abs,D_=Math.atan,F_=Math.atan2,j_=Math.cos,K_=Math.ceil,B_=Math.exp,X_=Math.log,U_=Math.pow,Y_=Math.sin,G_=Math.sign||function(t){return t>0?1:t<0?-1:0},W_=Math.sqrt,z_=Math.tan,H_={Feature:function(t,e){Is(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)Is(n[o].geometry,e)}},q_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)t=n[o],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ns(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)Ns(n[o],e,0)},Polygon:function(t,e){Os(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)Os(n[o],e)},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)Is(n[o],e)}},V_=function(t,e){t&&H_.hasOwnProperty(t.type)?H_[t.type](t,e):Is(t,e)},$_=qb(),Z_=qb(),J_={point:Ls,lineStart:Ls,lineEnd:Ls,polygonStart:function(){$_.reset(),J_.lineStart=ks,J_.lineEnd=Rs},polygonEnd:function(){var t=+$_;Z_.add(t<0?N_+t:t),this.lineStart=this.lineEnd=this.point=Ls},sphere:function(){Z_.add(N_)}},Q_=function(t){return Z_.reset(),V_(t,J_),2*Z_},tx=qb(),ex={point:Ws,lineStart:Hs,lineEnd:qs,polygonStart:function(){ex.point=Vs,ex.lineStart=$s,ex.lineEnd=Zs,tx.reset(),J_.polygonStart()},polygonEnd:function(){J_.polygonEnd(),ex.point=Ws,ex.lineStart=Hs,ex.lineEnd=qs,$_<0?(t_=-(n_=180),e_=-(o_=90)):tx>T_?o_=90:tx<-T_&&(e_=-90),h_[0]=t_,h_[1]=n_}},nx=function(t){var e,n,o,i,r,a,s;if(o_=n_=-(t_=e_=1/0),u_=[],V_(t,ex),n=u_.length){for(u_.sort(Qs),e=1,o=u_[0],r=[o];e<n;++e)i=u_[e],tu(o,i[0])||tu(o,i[1])?(Js(o[0],i[1])>Js(o[0],o[1])&&(o[1]=i[1]),Js(i[0],o[1])>Js(o[0],o[1])&&(o[0]=i[0])):r.push(o=i);for(a=-(1/0),n=r.length-1,e=0,o=r[n];e<=n;o=i,++e)i=r[e],(s=Js(o[1],i[0]))>a&&(a=s,t_=i[0],n_=o[1])}return u_=h_=null,t_===1/0||e_===1/0?[[NaN,NaN],[NaN,NaN]]:[[t_,e_],[n_,o_]]},ox={sphere:Ls,point:eu,lineStart:ou,lineEnd:au,polygonStart:function(){ox.lineStart=su,ox.lineEnd=uu},polygonEnd:function(){ox.lineStart=ou,ox.lineEnd=au}},ix=function(t){p_=l_=c_=f_=d_=y_=v_=g_=m_=b_=__=0,V_(t,ox);var e=m_,n=b_,o=__,i=e*e+n*n+o*o;return i<A_&&(e=y_,n=v_,o=g_,l_<T_&&(e=c_,n=f_,o=d_),i=e*e+n*n+o*o,i<A_)?[NaN,NaN]:[F_(n,e)*O_,As(o/W_(i))*O_]},rx=function(t){return function(){return t}},ax=function(t,e){function n(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),n};lu.invert=lu;var sx,ux,hx,px,lx,cx,fx,dx,yx,vx,gx,mx=function(t){function e(e){return e=t(e[0]*k_,e[1]*k_),e[0]*=O_,e[1]*=O_,e}return t=cu(t[0]*k_,t[1]*k_,t.length>2?t[2]*k_:0),e.invert=function(e){return e=t.invert(e[0]*k_,e[1]*k_),e[0]*=O_,e[1]*=O_,e},e},bx=function(){function t(t,e){n.push(t=o(t,e)),t[0]*=O_,t[1]*=O_}function e(){var t=i.apply(this,arguments),e=r.apply(this,arguments)*k_,u=a.apply(this,arguments)*k_;return n=[],o=cu(-t[0]*k_,-t[1]*k_,0).invert,vu(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=o=null,t}var n,o,i=rx([0,0]),r=rx(90),a=rx(6),s={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:rx([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:rx(+t),e):r},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:rx(+t),e):a},e},_x=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ls,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},xx=function(t,e,n,o,i,r){var a,s=t[0],u=t[1],h=e[0],p=e[1],l=0,c=1,f=h-s,d=p-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=o-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=r-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*d),c<1&&(e[0]=s+c*f,e[1]=u+c*d),!0}}}}},wx=function(t,e){return R_(t[0]-e[0])<T_&&R_(t[1]-e[1])<T_},Px=function(t,e,n,o,i){var r,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(wx(o,a)){for(i.lineStart(),r=0;r<e;++r)i.point((o=t[r])[0],o[1]);return void i.lineEnd()}s.push(n=new mu(o,t,null,!0)),u.push(n.o=new mu(o,null,n,!1)),s.push(n=new mu(a,t,null,!1)),u.push(n.o=new mu(a,null,n,!0))}}),s.length){for(u.sort(e),bu(s),bu(u),r=0,a=u.length;r<a;++r)u[r].e=n=!n;for(var h,p,l=s[0];;){for(var c=l,f=!0;c.v;)if((c=c.n)===l)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(f)for(r=0,a=h.length;r<a;++r)i.point((p=h[r])[0],p[1]);else o(c.x,c.n.x,1,i);c=c.n}else{if(f)for(h=c.p.z,r=h.length-1;r>=0;--r)i.point((p=h[r])[0],p[1]);else o(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,f=!f}while(!c.v);i.lineEnd()}}},Sx=1e9,Cx=-Sx,Mx=function(){var t,e,n,o=0,i=0,r=960,a=500;return n={stream:function(n){return t&&e===n?t:t=_u(o,i,r,a)(e=n)},extent:function(s){return arguments.length?(o=+s[0][0],i=+s[0][1],r=+s[1][0],a=+s[1][1],t=e=null,n):[[o,i],[r,a]]}}},Tx=qb(),Ax={sphere:Ls,point:Ls,lineStart:xu,lineEnd:Ls,polygonStart:Ls,polygonEnd:Ls},Ex=function(t){return Tx.reset(),V_(t,Ax),+Tx},Lx=[null,null],Ix={type:"LineString",coordinates:Lx},Nx=function(t,e){return Lx[0]=t,Lx[1]=e,Ex(Ix)},Ox=function(t,e){var n=t[0]*k_,o=t[1]*k_,i=e[0]*k_,r=e[1]*k_,a=j_(o),s=Y_(o),u=j_(r),h=Y_(r),p=a*j_(n),l=a*Y_(n),c=u*j_(i),f=u*Y_(i),d=2*As(W_(Es(r-o)+a*u*Es(i-n))),y=Y_(d),v=d?function(t){var e=Y_(t*=d)/y,n=Y_(d-t)/y,o=n*p+e*c,i=n*l+e*f,r=n*s+e*h;return[F_(i,o)*O_,F_(r,W_(o*o+i*i))*O_]}:function(){return[n*O_,o*O_]};return v.distance=d,v},kx=function(t){return t},Rx=qb(),Dx=qb(),Fx={point:Ls,lineStart:Ls,lineEnd:Ls,polygonStart:function(){Fx.lineStart=Eu,Fx.lineEnd=Nu},polygonEnd:function(){Fx.lineStart=Fx.lineEnd=Fx.point=Ls,Rx.add(R_(Dx)),Dx.reset()},result:function(){var t=Rx/2;return Rx.reset(),t}},jx=1/0,Kx=jx,Bx=-jx,Xx=Bx,Ux={point:Ou,lineStart:Ls,lineEnd:Ls,polygonStart:Ls,polygonEnd:Ls,result:function(){var t=[[jx,Kx],[Bx,Xx]];return Bx=Xx=-(Kx=jx=1/0),t}},Yx=0,Gx=0,Wx=0,zx=0,Hx=0,qx=0,Vx=0,$x=0,Zx=0,Jx={point:ku,lineStart:Ru,lineEnd:ju,polygonStart:function(){Jx.lineStart=Ku,Jx.lineEnd=Bu},polygonEnd:function(){Jx.point=ku,Jx.lineStart=Ru,Jx.lineEnd=ju},result:function(){var t=Zx?[Vx/Zx,$x/Zx]:qx?[zx/qx,Hx/qx]:Wx?[Yx/Wx,Gx/Wx]:[NaN,NaN];return Yx=Gx=Wx=zx=Hx=qx=Vx=$x=Zx=0,t}};Yu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,N_)}},result:Ls},Gu.prototype={_circle:Wu(4.5),pointRadius:function(t){return this._circle=Wu(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Qx=function(t,e){function n(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),V_(t,o(i))),i.result()}var o,i,r=4.5;return n.area=function(t){return V_(t,o(Fx)),Fx.result()},n.bounds=function(t){return V_(t,o(Ux)),Ux.result()},n.centroid=function(t){return V_(t,o(Jx)),Jx.result()},n.projection=function(e){return arguments.length?(o=null==e?(t=null,kx):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Gu):new Yu(e=t),"function"!=typeof r&&i.pointRadius(r),n):e},n.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),n):r},n.projection(t).context(e)},tw=qb(),ew=function(t,e){var n=e[0],o=e[1],i=[Y_(n),-j_(n),0],r=0,a=0;tw.reset();for(var s=0,u=t.length;s<u;++s)if(p=(h=t[s]).length)for(var h,p,l=h[p-1],c=l[0],f=l[1]/2+I_,d=Y_(f),y=j_(f),v=0;v<p;++v,c=m,d=_,y=x,l=g){var g=h[v],m=g[0],b=g[1]/2+I_,_=Y_(b),x=j_(b),w=m-c,P=w>=0?1:-1,S=P*w,C=S>E_,M=d*_;if(tw.add(F_(M*P*Y_(S),y*x+M*j_(S))),r+=C?w+P*N_:w,C^c>=n^m>=n){var T=Xs(Ks(l),Ks(g));Gs(T);var A=Xs(i,T);Gs(A);var E=(C^w>=0?-1:1)*As(A[2]);(o>E||o===E&&(T[0]||T[1]))&&(a+=C^w>=0?1:-1)}}return(r<-T_||r<T_&&tw<-T_)^1&a},nw=function(t,e,n,o){return function(i,r){function a(e,n){var o=i(e,n);t(e=o[0],n=o[1])&&r.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){x.point=s,v.lineStart()}function h(){x.point=a,v.lineEnd()}function p(t,e){y.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function l(){b.lineStart(),y=[]}function c(){p(y[0][0],y[0][1]),b.lineEnd();var t,e,n,o,i=b.clean(),a=m.result(),s=a.length;if(y.pop(),f.push(y),y=null,s)if(1&i){if(n=a[0],(e=n.length-1)>0){for(_||(r.polygonStart(),_=!0),r.lineStart(),t=0;t<e;++t)r.point((o=n[t])[0],o[1]);r.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(zu))}var f,d,y,v=e(r),g=i.invert(o[0],o[1]),m=_x(),b=e(m),_=!1,x={point:a,lineStart:u,lineEnd:h,polygonStart:function(){x.point=p,x.lineStart=l,x.lineEnd=c,d=[],f=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=h,d=Zh(d);var t=ew(f,g);d.length?(_||(r.polygonStart(),_=!0),Px(d,Hu,t,n,r)):t&&(_||(r.polygonStart(),_=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),_&&(r.polygonEnd(),_=!1),d=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return x}},ow=nw(function(){return!0},qu,$u,[-E_,-L_]),iw=function(t,e){function n(n,o,i,r){vu(r,t,e,i,n,o)}function o(t,e){return j_(t)*j_(e)>s}function i(t){var e,n,i,s,p;return{lineStart:function(){s=i=!1,p=1},point:function(l,c){var f,d=[l,c],y=o(l,c),v=u?y?0:a(l,c):y?a(l+(l<0?E_:-E_),c):0;if(!e&&(s=i=y)&&t.lineStart(),y!==i&&(f=r(e,d),(wx(e,f)||wx(d,f))&&(d[0]+=T_,d[1]+=T_,y=o(d[0],d[1]))),y!==i)p=0,y?(t.lineStart(),f=r(d,e),t.point(f[0],f[1])):(f=r(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(h&&e&&u^y){var g;v&n||!(g=r(d,e,!0))||(p=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&wx(e,d)||t.point(d[0],d[1]),e=d,i=y,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return p|(s&&i)<<1}}}function r(t,e,n){var o=Ks(t),i=Ks(e),r=[1,0,0],a=Xs(o,i),u=Bs(a,a),h=a[0],p=u-h*h;if(!p)return!n&&t;var l=s*u/p,c=-s*h/p,f=Xs(r,a),d=Ys(r,l),y=Ys(a,c);Us(d,y);var v=f,g=Bs(d,v),m=Bs(v,v),b=g*g-m*(Bs(d,d)-1);if(!(b<0)){var _=W_(b),x=Ys(v,(-g-_)/m);if(Us(x,d),x=js(x),!n)return x;var w,P=t[0],S=e[0],C=t[1],M=e[1];S<P&&(w=P,P=S,S=w);var T=S-P,A=R_(T-E_)<T_,E=A||T<T_;if(!A&&M<C&&(w=C,C=M,M=w),E?A?C+M>0^x[1]<(R_(x[0]-P)<T_?C:M):C<=x[1]&&x[1]<=M:T>E_^(P<=x[0]&&x[0]<=S)){var L=Ys(v,(-g+_)/m);return Us(L,d),[x,js(L)]}}}function a(e,n){var o=u?t:E_-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}var s=j_(t),u=s>0,h=R_(s)>T_;return nw(o,i,n,u?[0,-t]:[-E_,t-E_])},rw=function(t){return{stream:Zu(t)}};Ju.prototype={constructor:Ju,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var aw=16,sw=j_(30*k_),uw=function(t,e){return+e?nh(t,e):eh(t)},hw=Zu({point:function(t,e){this.stream.point(t*k_,e*k_)}}),pw=function(){return rh(sh).scale(155.424).center([0,33.6442])},lw=function(){return pw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},cw=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(r.point(e,n),s)||(a.point(e,n),s)}function e(){return n=o=null,t}var n,o,i,r,a,s,u=lw(),h=pw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=pw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),o=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&o>=-.425&&o<-.214?h:i>=.166&&i<.234&&o>=-.214&&o<-.115?p:u).invert(t)},t.stream=function(t){return n&&o===t?n:n=uh([u.stream(o=t),h.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),h.precision(t),p.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),h.scale(.35*e),p.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=h.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+T_,s+.12*n+T_],[o-.214*n-T_,s+.234*n-T_]]).stream(l),a=p.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+T_,s+.166*n+T_],[o-.115*n-T_,s+.234*n-T_]]).stream(l),e()},t.fitExtent=function(e,n){return Qu(t,e,n)},t.fitSize=function(e,n){return th(t,e,n)},t.scale(1070)},fw=hh(function(t){return W_(2/(1+t))});fw.invert=ph(function(t){return 2*As(t/2)});var dw=function(){return oh(fw).scale(124.75).clipAngle(179.999)},yw=hh(function(t){return(t=Ts(t))&&t/Y_(t)});yw.invert=ph(function(t){return t});var vw=function(){return oh(yw).scale(79.4188).clipAngle(179.999)};lh.invert=function(t,e){return[t,2*D_(B_(e))-L_]};var gw=function(){return ch(lh).scale(961/N_)},mw=function(){return rh(dh).scale(109.5).parallels([30,30])};yh.invert=yh;var bw=function(){return oh(yh).scale(152.63)},_w=function(){return rh(vh).scale(131.154).center([0,13.9389])};gh.invert=ph(D_);var xw=function(){return oh(gh).scale(144.049).clipAngle(60)},ww=function(){function t(){return i=r=null,a}var e,n,o,i,r,a,s=1,u=0,h=0,p=1,l=1,c=kx,f=null,d=kx;return a={stream:function(t){return i&&r===t?i:i=c(d(r=t))},clipExtent:function(i){return arguments.length?(d=null==i?(f=e=n=o=null,kx):_u(f=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==f?null:[[f,e],[n,o]]},scale:function(e){return arguments.length?(c=mh((s=+e)*p,s*l,u,h),t()):s},translate:function(e){return arguments.length?(c=mh(s*p,s*l,u=+e[0],h=+e[1]),t()):[u,h]},reflectX:function(e){return arguments.length?(c=mh(s*(p=e?-1:1),s*l,u,h),t()):p<0},reflectY:function(e){return arguments.length?(c=mh(s*p,s*(l=e?-1:1),u,h),t()):l<0},fitExtent:function(t,e){return Qu(a,t,e)},fitSize:function(t,e){return th(a,t,e)}}};bh.invert=ph(As);var Pw=function(){return oh(bh).scale(249.5).clipAngle(90+T_)};_h.invert=ph(function(t){return 2*D_(t)});var Sw=function(){return oh(_h).scale(250).clipAngle(142)};xh.invert=function(t,e){return[-e,2*D_(B_(t))-L_]};var Cw=function(){var t=ch(xh),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.version=wh,t.bisect=Mh,t.bisectRight=Mh,t.bisectLeft=Th,t.ascending=Ph,t.bisector=Sh,t.descending=Ah,t.deviation=Ih,t.extent=Nh,t.histogram=Gh,t.thresholdFreedmanDiaconis=zh,t.thresholdScott=Hh,t.thresholdSturges=Yh,t.max=qh,t.mean=Vh,t.median=$h,t.merge=Zh,t.min=Jh,t.pairs=Qh,t.permute=tp,t.quantile=Wh,t.range=jh,t.scan=ep,t.shuffle=np,t.sum=op,t.ticks=Uh,t.tickStep=n,t.transpose=ip,t.variance=Lh,t.zip=rp,t.entries=lp,t.keys=hp,t.values=pp,t.map=r,t.set=l,t.nest=sp,t.randomUniform=cp,t.randomNormal=fp,t.randomLogNormal=dp,t.randomBates=vp,t.randomIrwinHall=yp,t.randomExponential=gp,t.easeLinear=c,t.easeQuad=y,t.easeQuadIn=f,t.easeQuadOut=d,t.easeQuadInOut=y,t.easeCubic=m,t.easeCubicIn=v,t.easeCubicOut=g,t.easeCubicInOut=m,t.easePoly=xp,t.easePolyIn=bp,t.easePolyOut=_p,t.easePolyInOut=xp,t.easeSin=x,t.easeSinIn=b,t.easeSinOut=_,t.easeSinInOut=x,t.easeExp=S,t.easeExpIn=w,t.easeExpOut=P,t.easeExpInOut=S,t.easeCircle=T,t.easeCircleIn=C,t.easeCircleOut=M,t.easeCircleInOut=T,t.easeBounce=E,t.easeBounceIn=A,t.easeBounceOut=E,t.easeBounceInOut=L,t.easeBack=Fp,t.easeBackIn=Rp,t.easeBackOut=Dp,t.easeBackInOut=Fp,t.easeElastic=Up,t.easeElasticIn=Xp,t.easeElasticOut=Up,t.easeElasticInOut=Yp,t.polygonArea=Gp,t.polygonCentroid=Wp,t.polygonHull=Hp,t.polygonContains=qp,t.polygonLength=Vp,t.path=k,t.quadtree=B,t.queue=V,t.arc=xl,t.area=Sl,t.line=Pl,t.pie=Tl,t.radialArea=Ll,t.radialLine=El,t.symbol=$l,t.symbols=Vl,t.symbolCircle=Il,t.symbolCross=Nl,t.symbolDiamond=Rl,t.symbolSquare=Xl,t.symbolStar=Bl,t.symbolTriangle=Yl,t.symbolWye=ql,t.curveBasisClosed=Ql,t.curveBasisOpen=tc,t.curveBasis=Jl,t.curveBundle=ec,t.curveCardinalClosed=oc,t.curveCardinalOpen=ic,t.curveCardinal=nc,t.curveCatmullRomClosed=ac,t.curveCatmullRomOpen=sc,t.curveCatmullRom=rc,t.curveLinearClosed=uc,t.curveLinear=wl,t.curveMonotoneX=It,t.curveMonotoneY=Nt,t.curveNatural=hc,t.curveStep=pc,t.curveStepAfter=Ft,t.curveStepBefore=Dt,t.stack=dc,t.stackOffsetExpand=yc,t.stackOffsetNone=cc,t.stackOffsetSilhouette=vc,t.stackOffsetWiggle=gc,t.stackOrderAscending=mc,t.stackOrderDescending=bc,t.stackOrderInsideOut=_c,t.stackOrderNone=fc,t.stackOrderReverse=xc,t.color=Ut,t.rgb=zt,t.hsl=$t,t.lab=te,t.hcl=se,t.cubehelix=pe,t.interpolate=bf,t.interpolateArray=cf,t.interpolateDate=ff,t.interpolateNumber=df,t.interpolateObject=yf,t.interpolateRound=_f,t.interpolateString=mf,t.interpolateTransformCss=Sf,t.interpolateTransformSvg=Cf,t.interpolateZoom=Lf,t.interpolateRgb=hf,t.interpolateRgbBasis=pf,t.interpolateRgbBasisClosed=lf,t.interpolateHsl=If,t.interpolateHslLong=Nf,t.interpolateLab=Ae,t.interpolateHcl=Of,t.interpolateHclLong=kf,t.interpolateCubehelix=Rf,t.interpolateCubehelixLong=Df,t.interpolateBasis=af,t.interpolateBasisClosed=sf,t.quantize=Ff,t.dispatch=Ie,t.dsvFormat=Xf,t.csvParse=Yf,t.csvParseRows=Gf,t.csvFormat=Wf,t.csvFormatRows=zf,t.tsvParse=qf,t.tsvParseRows=Vf,t.tsvFormat=$f,t.tsvFormatRows=Zf,t.request=Jf,t.html=td,t.json=ed,t.text=nd,t.xml=od,t.csv=rd,t.tsv=ad,t.now=Ue,t.timer=We,t.timerFlush=ze,t.timeout=vd,t.interval=gd,t.timeInterval=Ze,t.timeMillisecond=_d,t.timeMilliseconds=xd,t.timeSecond=Td,t.timeSeconds=Ad,t.timeMinute=Ed,t.timeMinutes=Ld,t.timeHour=Id,t.timeHours=Nd,t.timeDay=Od,t.timeDays=kd,t.timeWeek=Rd,t.timeWeeks=Ud,t.timeSunday=Rd,t.timeSundays=Ud,t.timeMonday=Dd,t.timeMondays=Yd,t.timeTuesday=Fd,t.timeTuesdays=Gd;t.timeWednesday=jd;t.timeWednesdays=Wd,t.timeThursday=Kd,t.timeThursdays=zd,t.timeFriday=Bd,t.timeFridays=Hd,t.timeSaturday=Xd,t.timeSaturdays=qd,t.timeMonth=Vd,t.timeMonths=$d,t.timeYear=Zd,t.timeYears=Jd,t.utcMillisecond=_d,t.utcMilliseconds=xd,t.utcSecond=Td,t.utcSeconds=Ad,t.utcMinute=Qd,t.utcMinutes=ty,t.utcHour=ey,t.utcHours=ny,t.utcDay=oy,t.utcDays=iy,t.utcWeek=ry,t.utcWeeks=cy,t.utcSunday=ry,t.utcSundays=cy,t.utcMonday=ay,t.utcMondays=fy,t.utcTuesday=sy,t.utcTuesdays=dy,t.utcWednesday=uy,t.utcWednesdays=yy,t.utcThursday=hy,t.utcThursdays=vy,t.utcFriday=py,t.utcFridays=gy,t.utcSaturday=ly,t.utcSaturdays=my,t.utcMonth=by,t.utcMonths=_y,t.utcYear=xy,t.utcYears=Py,t.formatLocale=Ry,t.formatDefaultLocale=nn,t.formatSpecifier=Ny,t.precisionFixed=Fy,t.precisionPrefix=jy,t.precisionRound=Ky,t.isoFormat=Wy,t.isoParse=zy,t.timeFormatLocale=sn,t.timeFormatDefaultLocale=eo,t.scaleBand=ro,t.scalePoint=so,t.scaleIdentity=mo,t.scaleLinear=go,t.scaleLog=Co,t.scaleOrdinal=io,t.scaleImplicit=$y,t.scalePow=To,t.scaleSqrt=Ao,t.scaleQuantile=Eo,t.scaleQuantize=Lo,t.scaleThreshold=Io,t.scaleTime=hv,t.scaleUtc=pv,t.schemeCategory10=cv,t.schemeCategory20b=fv,t.schemeCategory20c=dv,t.schemeCategory20=yv,t.scaleSequential=Do,t.interpolateCubehelixDefault=vv,t.interpolateRainbow=_v,t.interpolateWarm=gv,t.interpolateCool=mv,t.interpolateViridis=xv,t.interpolateMagma=wv,t.interpolateInferno=Pv,t.interpolatePlasma=Sv,t.creator=Av,t.customEvent=zo,t.local=Ko,t.matcher=Ov,t.mouse=Kv,t.namespace=Tv,t.namespaces=Mv,t.select=xg,t.selectAll=wg,t.selection=Oi,t.selector=Bv,t.selectorAll=Uv,t.touch=Pg,t.touches=Sg,t.window=sg,t.active=sm,t.interrupt=Rg,t.transition=lr,t.axisTop=br,t.axisRight=_r,t.axisBottom=xr,t.axisLeft=wr,t.cluster=ym,t.hierarchy=Ir,t.pack=Lm,t.packSiblings=Am,t.packEnclose=Tm,t.partition=Om,t.stratify=Fm,t.tree=jm,t.treemap=Um,t.treemapBinary=Ym,t.treemapDice=Nm,t.treemapSlice=Km,t.treemapSliceDice=Gm,t.treemapSquarify=Xm,t.treemapResquarify=Wm,t.forceCenter=zm,t.forceCollide=Vm,t.forceLink=$m,t.forceManyBody=tb,t.forceSimulation=Qm,t.forceX=eb,t.forceY=nb,t.drag=ab,t.dragDisable=ib,t.dragEnable=ba,t.voronoi=gb,t.zoom=xb,t.zoomIdentity=bb,t.zoomTransform=is,t.brush=Fb,t.brushX=vs,t.brushY=gs,t.brushSelection=ys,t.chord=Gb,t.ribbon=Hb,t.geoAlbers=lw,t.geoAlbersUsa=cw,t.geoArea=Q_,t.geoAzimuthalEqualArea=dw,t.geoAzimuthalEqualAreaRaw=fw,t.geoAzimuthalEquidistant=vw,t.geoAzimuthalEquidistantRaw=yw,t.geoBounds=nx,t.geoCentroid=ix,t.geoCircle=bx,t.geoClipExtent=Mx,t.geoConicConformal=mw,
t.geoConicConformalRaw=dh,t.geoConicEqualArea=pw,t.geoConicEqualAreaRaw=sh,t.geoConicEquidistant=_w,t.geoConicEquidistantRaw=vh,t.geoDistance=Nx,t.geoEquirectangular=bw,t.geoEquirectangularRaw=yh,t.geoGnomonic=xw,t.geoGnomonicRaw=gh,t.geoGraticule=Tu,t.geoGraticule10=Au,t.geoIdentity=ww,t.geoInterpolate=Ox,t.geoLength=Ex,t.geoMercator=gw,t.geoMercatorRaw=lh,t.geoOrthographic=Pw,t.geoOrthographicRaw=bh,t.geoPath=Qx,t.geoProjection=oh,t.geoProjectionMutator=ih,t.geoRotation=mx,t.geoStereographic=Sw,t.geoStereographicRaw=_h,t.geoStream=V_,t.geoTransform=rw,t.geoTransverseMercator=Cw,t.geoTransverseMercatorRaw=xh,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(e,n){function o(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(t){if(h)throw e&&e.exit(),setTimeout(o,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}s=!1}function i(t){a=a.next={task:t,domain:h&&e.domain,next:null},s||(s=!0,u())}var r={task:void 0,next:null},a=r,s=!1,u=void 0,h=!1;if("undefined"!=typeof e&&e.nextTick)h=!0,u=function(){e.nextTick(o)};else if("function"==typeof n)u="undefined"!=typeof window?n.bind(window,o):function(){n(o)};else if("undefined"!=typeof MessageChannel){var p=new MessageChannel;p.port1.onmessage=o,u=function(){p.port2.postMessage(0)}}else u=function(){setTimeout(o,0)};t.exports=i}).call(e,n(81),n(200).setImmediate)},,,,function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(5).f,i=n(17),r=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(56),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){n(167);for(var o=n(7),i=n(13),r=n(21),a=n(3)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var h=s[u],p=o[h],l=p&&p.prototype;l&&!l[a]&&i(l,a,h),r[h]=r.Array}},function(t,e,n){"use strict";function o(t){function e(t){return null===u?void p.push(t):void a(function(){var e=u?t.onFulfilled:t.onRejected;if(null===e)return void(u?t.resolve:t.reject)(h);var n;try{n=e(h)}catch(e){return void t.reject(e)}t.resolve(n)})}function n(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void r(e.bind(t),n,o)}u=!0,h=t,s()}catch(t){o(t)}}function o(t){u=!1,h=t,s()}function s(){for(var t=0,n=p.length;t<n;t++)e(p[t]);p=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var u=null,h=null,p=[],l=this;this.then=function(t,n){return new l.constructor(function(o,r){e(new i(t,n,o,r))})},r(t,n,o)}function i(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function r(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var a=n(29);t.exports=o},,,,function(t,e,n){t.exports={default:n(133),__esModule:!0}},function(t,e,n){var o=n(45),i=n(3)("toStringTag"),r="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:r?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(24),i=n(73),r=n(71),a=n(15),s=n(36),u=n(60),h={},p={},e=t.exports=function(t,e,n,l,c){var f,d,y,v,g=c?function(){return t}:u(t),m=o(n,l,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(r(g)){for(f=s(t.length);f>b;b++)if(v=e?m(a(d=t[b])[0],d[1]):m(t[b]),v===h||v===p)return v}else for(y=g.call(t);!(d=y.next()).done;)if(v=i(y,m,d.value,e),v===h||v===p)return v};e.BREAK=h,e.RETURN=p},function(t,e,n){var o=n(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(50),i=n(12),r=n(78),a=n(13),s=n(17),u=n(21),h=n(152),p=n(35),l=n(159),c=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",y="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,b,_,x){h(n,e,m);var w,P,S,C=function(t){if(!f&&t in E)return E[t];switch(t){case y:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",T=b==v,A=!1,E=t.prototype,L=E[c]||E[d]||b&&E[b],I=L||C(b),N=b?T?C("entries"):I:void 0,O="Array"==e?E.entries||L:L;if(O&&(S=l(O.call(new t)),S!==Object.prototype&&(p(S,M,!0),o||s(S,c)||a(S,c,g))),T&&L&&L.name!==v&&(A=!0,I=function(){return L.call(this)}),o&&!x||!f&&!A&&E[c]||a(E,c,I),u[e]=I,u[M]=g,b)if(w={values:T?I:C(v),keys:_?I:C(y),entries:N},x)for(P in w)P in E||r(E,P,w[P]);else i(i.P+i.F*(f||A),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){var o=n(37)("meta"),i=n(20),r=n(17),a=n(5).f,s=0,u=Object.isExtensible||function(){return!0},h=!n(16)(function(){return u(Object.preventExtensions({}))}),p=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[o].i},c=function(t,e){if(!r(t,o)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[o].w},f=function(t){return h&&d.NEED&&u(t)&&!r(t,o)&&p(t),t},d=t.exports={KEY:o,NEED:!1,fastKey:l,getWeak:c,onFreeze:f}},function(t,e,n){var o=n(15),i=n(156),r=n(46),a=n(54)("IE_PROTO"),s=function(){},u="prototype",h=function(){var t,e=n(69)("iframe"),o=r.length,i="<",a=">";for(e.style.display="none",n(151).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),h=t.F;o--;)delete h[u][r[o]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=o(t),n=new s,s[u]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(55)("keys"),i=n(37);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(7),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(20);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(7),i=n(2),r=n(50),a=n(59),s=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e,n){var o=n(44),i=n(3)("iterator"),r=n(21);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){(function(e){/*!
	 * Vue.js v2.1.8
	 * (c) 2014-2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function o(t){var e=parseFloat(t,10);return e||0===e?e:t}function i(t,e){for(var n=Object.create(null),o=t.split(","),i=0;i<o.length;i++)n[o[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function r(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function a(t,e){return ri.call(t,e)}function s(t){return"string"==typeof t||"number"==typeof t}function u(t){var e=Object.create(null);return function(n){var o=e[n];return o||(e[n]=t(n))}}function h(t,e){function n(n){var o=arguments.length;return o?o>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function p(t,e){e=e||0;for(var n=t.length-e,o=new Array(n);n--;)o[n]=t[n+e];return o}function l(t,e){for(var n in e)t[n]=e[n];return t}function c(t){return null!==t&&"object"==typeof t}function f(t){return li.call(t)===ci}function d(t){for(var e={},n=0;n<t.length;n++)t[n]&&l(e,t[n]);return e}function y(){}function v(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function g(t,e){var n=c(t),o=c(e);return n&&o?JSON.stringify(t)===JSON.stringify(e):!n&&!o&&String(t)===String(e)}function m(t,e){for(var n=0;n<t.length;n++)if(g(t[n],e))return n;return-1}function b(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function _(t,e,n,o){Object.defineProperty(t,e,{value:n,enumerable:!!o,writable:!0,configurable:!0})}function x(t){if(!vi.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function w(t){return/native code/.test(t.toString())}function P(t){Ii.target&&Ni.push(Ii.target),Ii.target=t}function S(){Ii.target=Ni.pop()}function C(t,e){t.__proto__=e}function M(t,e,n){for(var o=0,i=n.length;o<i;o++){var r=n[o];_(t,r,e[r])}}function T(t,e){if(c(t)){var n;return a(t,"__ob__")&&t.__ob__ instanceof Fi?n=t.__ob__:Di.shouldConvert&&!Ci()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Fi(t)),e&&n&&n.vmCount++,n}}function A(t,e,n,o){var i=new Ii,r=Object.getOwnPropertyDescriptor(t,e);if(!r||r.configurable!==!1){var a=r&&r.get,s=r&&r.set,u=T(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return Ii.target&&(i.depend(),u&&u.dep.depend(),Array.isArray(e)&&I(e)),e},set:function(e){var o=a?a.call(t):n;e===o||e!==e&&o!==o||(s?s.call(t,e):n=e,u=T(e),i.notify())}})}}function E(t,e,n){if(Array.isArray(t))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(a(t,e))return void(t[e]=n);var o=t.__ob__;if(!(t._isVue||o&&o.vmCount))return o?(A(o.value,e,n),o.dep.notify(),n):void(t[e]=n)}function L(t,e){var n=t.__ob__;t._isVue||n&&n.vmCount||a(t,e)&&(delete t[e],n&&n.dep.notify())}function I(t){for(var e=void 0,n=0,o=t.length;n<o;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&I(e)}function N(t,e){if(!e)return t;for(var n,o,i,r=Object.keys(e),s=0;s<r.length;s++)n=r[s],o=t[n],i=e[n],a(t,n)?f(o)&&f(i)&&N(o,i):E(t,n,i);return t}function O(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function k(t,e){var n=Object.create(t||null);return e?l(n,e):n}function R(t){var e=t.props;if(e){var n,o,i,r={};if(Array.isArray(e))for(n=e.length;n--;)o=e[n],"string"==typeof o&&(i=si(o),r[i]={type:null});else if(f(e))for(var a in e)o=e[a],i=si(a),r[i]=f(o)?o:{type:o};t.props=r}}function D(t){var e=t.directives;if(e)for(var n in e){var o=e[n];"function"==typeof o&&(e[n]={bind:o,update:o})}}function F(t,e,n){function o(o){var i=ji[o]||Ki;p[o]=i(t[o],e[o],n,o)}R(e),D(e);var i=e.extends;if(i&&(t="function"==typeof i?F(t,i.options,n):F(t,i,n)),e.mixins)for(var r=0,s=e.mixins.length;r<s;r++){var u=e.mixins[r];u.prototype instanceof Gt&&(u=u.options),t=F(t,u,n)}var h,p={};for(h in t)o(h);for(h in e)a(t,h)||o(h);return p}function j(t,e,n,o){if("string"==typeof n){var i=t[e];if(a(i,n))return i[n];var r=si(n);if(a(i,r))return i[r];var s=ui(r);if(a(i,s))return i[s];var u=i[n]||i[r]||i[s];return u}}function K(t,e,n,o){var i=e[t],r=!a(n,t),s=n[t];if(U(Boolean,i.type)&&(r&&!a(i,"default")?s=!1:U(String,i.type)||""!==s&&s!==pi(t)||(s=!0)),void 0===s){s=B(o,i,t);var u=Di.shouldConvert;Di.shouldConvert=!0,T(s),Di.shouldConvert=u}return s}function B(t,e,n){if(a(e,"default")){var o=e.default;return c(o),t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t[n]?t[n]:"function"==typeof o&&e.type!==Function?o.call(t):o}}function X(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e&&e[1]}function U(t,e){if(!Array.isArray(e))return X(e)===X(t);for(var n=0,o=e.length;n<o;n++)if(X(e[n])===X(t))return!0;return!1}function Y(){Xi.length=0,Ui={},Yi=Gi=!1}function G(){for(Gi=!0,Xi.sort(function(t,e){return t.id-e.id}),Wi=0;Wi<Xi.length;Wi++){var t=Xi[Wi],e=t.id;Ui[e]=null,t.run()}Mi&&yi.devtools&&Mi.emit("flush"),Y()}function W(t){var e=t.id;if(null==Ui[e]){if(Ui[e]=!0,Gi){for(var n=Xi.length-1;n>=0&&Xi[n].id>t.id;)n--;Xi.splice(Math.max(n,Wi)+1,0,t)}else Xi.push(t);Yi||(Yi=!0,Ti(G))}}function z(t){Vi.clear(),H(t,Vi)}function H(t,e){var n,o,i=Array.isArray(t);if((i||c(t))&&Object.isExtensible(t)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(i)for(n=t.length;n--;)H(t[n],e);else for(o=Object.keys(t),n=o.length;n--;)H(t[o[n]],e)}}function q(t){t._watchers=[];var e=t.$options;e.props&&V(t,e.props),e.methods&&Q(t,e.methods),e.data?$(t):T(t._data={},!0),e.computed&&Z(t,e.computed),e.watch&&tt(t,e.watch)}function V(t,e){var n=t.$options.propsData||{},o=t.$options._propKeys=Object.keys(e),i=!t.$parent;Di.shouldConvert=i;for(var r=function(i){var r=o[i];A(t,r,K(r,e,n,t))},a=0;a<o.length;a++)r(a);Di.shouldConvert=!0}function $(t){var e=t.$options.data;e=t._data="function"==typeof e?e.call(t):e||{},f(e)||(e={});for(var n=Object.keys(e),o=t.$options.props,i=n.length;i--;)o&&a(o,n[i])||ot(t,n[i]);T(e,!0)}function Z(t,e){for(var n in e){var o=e[n];"function"==typeof o?($i.get=J(o,t),$i.set=y):($i.get=o.get?o.cache!==!1?J(o.get,t):h(o.get,t):y,$i.set=o.set?h(o.set,t):y),Object.defineProperty(t,n,$i)}}function J(t,e){var n=new Hi(e,t,y,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Ii.target&&n.depend(),n.value}}function Q(t,e){for(var n in e)t[n]=null==e[n]?y:h(e[n],t)}function tt(t,e){for(var n in e){var o=e[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)et(t,n,o[i]);else et(t,n,o)}}function et(t,e,n){var o;f(n)&&(o=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,o)}function nt(t){var e={};e.get=function(){return this._data},Object.defineProperty(t.prototype,"$data",e),t.prototype.$set=E,t.prototype.$delete=L,t.prototype.$watch=function(t,e,n){var o=this;n=n||{},n.user=!0;var i=new Hi(o,t,e,n);return n.immediate&&e.call(o,i.value),function(){i.teardown()}}}function ot(t,e){b(e)||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}function it(t){return new Zi(void 0,void 0,void 0,String(t))}function rt(t){var e=new Zi(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isCloned=!0,e}function at(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=rt(t[n]);return e}function st(t,e,n,o){o+=e;var i=t.__injected||(t.__injected={});if(!i[o]){i[o]=!0;var r=t[e];r?t[e]=function(){r.apply(this,arguments),n.apply(this,arguments)}:t[e]=n}}function ut(t,e,n,o,i){var r,a,s,u,h,p,l;for(r in t)if(a=t[r],s=e[r],a)if(s){if(a!==s)if(Array.isArray(s)){s.length=a.length;for(var c=0;c<s.length;c++)s[c]=a[c];t[r]=s}else s.fn=a,t[r]=s}else l="~"===r.charAt(0),h=l?r.slice(1):r,p="!"===h.charAt(0),h=p?h.slice(1):h,Array.isArray(a)?n(h,a.invoker=ht(a),l,p):(a.invoker||(u=a,a=t[r]={},a.fn=u,a.invoker=pt(a)),n(h,a.invoker,l,p));else;for(r in e)t[r]||(l="~"===r.charAt(0),h=l?r.slice(1):r,p="!"===h.charAt(0),h=p?h.slice(1):h,o(h,e[r].invoker,p))}function ht(t){return function(e){for(var n=arguments,o=1===arguments.length,i=0;i<t.length;i++)o?t[i](e):t[i].apply(null,n)}}function pt(t){return function(e){var n=1===arguments.length;n?t.fn(e):t.fn.apply(null,arguments)}}function lt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ct(t){return s(t)?[it(t)]:Array.isArray(t)?ft(t):void 0}function ft(t,e){var n,o,i,r=[];for(n=0;n<t.length;n++)o=t[n],null!=o&&"boolean"!=typeof o&&(i=r[r.length-1],Array.isArray(o)?r.push.apply(r,ft(o,(e||"")+"_"+n)):s(o)?i&&i.text?i.text+=String(o):""!==o&&r.push(it(o)):o.text&&i&&i.text?r[r.length-1]=it(i.text+o.text):(o.tag&&null==o.key&&null!=e&&(o.key="__vlist"+e+"_"+n+"__"),r.push(o)));return r}function dt(t){return t&&t.filter(function(t){return t&&t.componentOptions})[0]}function yt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&mt(t,e)}function vt(t,e,n){n?qi.$once(t,e):qi.$on(t,e)}function gt(t,e){qi.$off(t,e)}function mt(t,e,n){qi=t,ut(e,n||{},vt,gt,t)}function bt(t){var e=/^hook:/;t.prototype.$on=function(t,n){var o=this;return(o._events[t]||(o._events[t]=[])).push(n),e.test(t)&&(o._hasHookEvent=!0),o},t.prototype.$once=function(t,e){function n(){o.$off(t,n),e.apply(o,arguments)}var o=this;return n.fn=e,o.$on(t,n),o},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var o=n._events[t];if(!o)return n;if(1===arguments.length)return n._events[t]=null,n;for(var i,r=o.length;r--;)if(i=o[r],i===e||i.fn===e){o.splice(r,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?p(n):n;for(var o=p(arguments,1),i=0,r=n.length;i<r;i++)n[i].apply(e,o)}return e}}function _t(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function xt(t){t.prototype._mount=function(t,e){var n=this;return n.$el=t,n.$options.render||(n.$options.render=Ji),wt(n,"beforeMount"),n._watcher=new Hi(n,function(){n._update(n._render(),e)},y),e=!1,null==n.$vnode&&(n._isMounted=!0,wt(n,"mounted")),n},t.prototype._update=function(t,e){var n=this;n._isMounted&&wt(n,"beforeUpdate");var o=n.$el,i=n._vnode,r=Qi;Qi=n,n._vnode=t,i?n.$el=n.__patch__(i,t):n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),Qi=r,o&&(o.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el),n._isMounted&&wt(n,"updated")},t.prototype._updateFromParent=function(t,e,n,o){var i=this,r=!(!i.$options._renderChildren&&!o);if(i.$options._parentVnode=n,i.$vnode=n,i._vnode&&(i._vnode.parent=n),i.$options._renderChildren=o,t&&i.$options.props){Di.shouldConvert=!1;for(var a=i.$options._propKeys||[],s=0;s<a.length;s++){var u=a[s];i[u]=K(u,i.$options.props,t,i)}Di.shouldConvert=!0,i.$options.propsData=t}if(e){var h=i.$options._parentListeners;i.$options._parentListeners=e,mt(i,e,h)}r&&(i.$slots=Bt(o,n.context),i.$forceUpdate())},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){wt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||r(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,wt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.__patch__(t._vnode,null)}}}function wt(t,e){var n=t.$options[e];if(n)for(var o=0,i=n.length;o<i;o++)n[o].call(t);t._hasHookEvent&&t.$emit("hook:"+e)}function Pt(t,e,n,o,i){if(t){var r=n.$options._base;if(c(t)&&(t=r.extend(t)),"function"==typeof t){if(!t.cid)if(t.resolved)t=t.resolved;else if(t=Lt(t,r,function(){n.$forceUpdate()}),!t)return;Yt(t),e=e||{};var a=It(e,t);if(t.options.functional)return St(t,a,e,n,o);var s=e.on;e.on=e.nativeOn,t.options.abstract&&(e={}),Ot(e);var u=t.options.name||i,h=new Zi("vue-component-"+t.cid+(u?"-"+u:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:a,listeners:s,tag:i,children:o});return h}}}function St(t,e,n,o,i){var r={},a=t.options.props;if(a)for(var s in a)r[s]=K(s,a,e);var u=Object.create(o),h=function(t,e,n,o){return Rt(u,t,e,n,o,!0)},p=t.options.render.call(null,h,{props:r,data:n,parent:o,children:i,slots:function(){return Bt(i,o)}});return p instanceof Zi&&(p.functionalContext=o,n.slot&&((p.data||(p.data={})).slot=n.slot)),p}function Ct(t,e,n,o){var i=t.componentOptions,r={_isComponent:!0,parent:e,propsData:i.propsData,_componentTag:i.tag,_parentVnode:t,_parentListeners:i.listeners,_renderChildren:i.children,_parentElm:n||null,_refElm:o||null},a=t.data.inlineTemplate;return a&&(r.render=a.render,r.staticRenderFns=a.staticRenderFns),new i.Ctor(r)}function Mt(t,e,n,o){if(!t.child||t.child._isDestroyed){var i=t.child=Ct(t,Qi,n,o);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;Tt(r,r)}}function Tt(t,e){var n=e.componentOptions,o=e.child=t.child;o._updateFromParent(n.propsData,n.listeners,e,n.children)}function At(t){t.child._isMounted||(t.child._isMounted=!0,wt(t.child,"mounted")),t.data.keepAlive&&(t.child._inactive=!1,wt(t.child,"activated"))}function Et(t){t.child._isDestroyed||(t.data.keepAlive?(t.child._inactive=!0,wt(t.child,"deactivated")):t.child.$destroy())}function Lt(t,e,n){if(!t.requested){t.requested=!0;var o=t.pendingCallbacks=[n],i=!0,r=function(n){if(c(n)&&(n=e.extend(n)),t.resolved=n,!i)for(var r=0,a=o.length;r<a;r++)o[r](n)},a=function(t){},s=t(r,a);return s&&"function"==typeof s.then&&!t.resolved&&s.then(r,a),i=!1,t.resolved}t.pendingCallbacks.push(n)}function It(t,e){var n=e.options.props;if(n){var o={},i=t.attrs,r=t.props,a=t.domProps;if(i||r||a)for(var s in n){var u=pi(s);Nt(o,r,s,u,!0)||Nt(o,i,s,u)||Nt(o,a,s,u)}return o}}function Nt(t,e,n,o,i){if(e){if(a(e,n))return t[n]=e[n],i||delete e[n],!0;if(a(e,o))return t[n]=e[o],i||delete e[o],!0}return!1}function Ot(t){t.hook||(t.hook={});for(var e=0;e<er.length;e++){var n=er[e],o=t.hook[n],i=tr[n];t.hook[n]=o?kt(i,o):i}}function kt(t,e){return function(n,o,i,r){t(n,o,i,r),e(n,o,i,r)}}function Rt(t,e,n,o,i,r){return(Array.isArray(n)||s(n))&&(i=o,o=n,n=void 0),r&&(i=or),Dt(t,e,n,o,i)}function Dt(t,e,n,o,i){if(n&&n.__ob__)return Ji();if(!e)return Ji();Array.isArray(o)&&"function"==typeof o[0]&&(n=n||{},n.scopedSlots={default:o[0]},o.length=0),i===or?o=ct(o):i===nr&&(o=lt(o));var r,a;if("string"==typeof e){var s;a=yi.getTagNamespace(e),r=yi.isReservedTag(e)?new Zi(yi.parsePlatformTagName(e),n,o,void 0,void 0,t):(s=j(t.$options,"components",e))?Pt(s,n,t,o,e):new Zi(e,n,o,void 0,void 0,t)}else r=Pt(e,n,t,o);return r?(a&&Ft(r,a),r):Ji()}function Ft(t,e){if(t.ns=e,"foreignObject"!==t.tag&&t.children)for(var n=0,o=t.children.length;n<o;n++){var i=t.children[n];i.tag&&!i.ns&&Ft(i,e)}}function jt(t){t.$vnode=null,t._vnode=null,t._staticTrees=null;var e=t.$options._parentVnode,n=e&&e.context;t.$slots=Bt(t.$options._renderChildren,n),t.$scopedSlots={},t._c=function(e,n,o,i){return Rt(t,e,n,o,i,!1)},t.$createElement=function(e,n,o,i){return Rt(t,e,n,o,i,!0)},t.$options.el&&t.$mount(t.$options.el)}function Kt(t){function e(t,e,n){if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&i(t[o],e+"_"+o,n);else i(t,e,n)}function i(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}t.prototype.$nextTick=function(t){return Ti(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,o=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var r in t.$slots)t.$slots[r]=at(t.$slots[r]);i&&i.data.scopedSlots&&(t.$scopedSlots=i.data.scopedSlots),o&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){if(!yi.errorHandler)throw e;yi.errorHandler.call(null,e,t),a=t._vnode}return a instanceof Zi||(a=Ji()),a.parent=i,a},t.prototype._s=n,t.prototype._v=it,t.prototype._n=o,t.prototype._e=Ji,t.prototype._q=g,t.prototype._i=m,t.prototype._m=function(t,n){var o=this._staticTrees[t];return o&&!n?Array.isArray(o)?at(o):rt(o):(o=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),e(o,"__static__"+t,!1),o)},t.prototype._o=function(t,n,o){return e(t,"__once__"+n+(o?"_"+o:""),!0),t},t.prototype._f=function(t){return j(this.$options,"filters",t,!0)||di},t.prototype._l=function(t,e){var n,o,i,r,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=e(t[o],o);else if("number"==typeof t)for(n=new Array(t),o=0;o<t;o++)n[o]=e(o+1,o);else if(c(t))for(r=Object.keys(t),n=new Array(r.length),o=0,i=r.length;o<i;o++)a=r[o],n[o]=e(t[a],a,o);return n},t.prototype._t=function(t,e,n,o){var i=this.$scopedSlots[t];if(i)return n=n||{},o&&l(n,o),i(n)||e;var r=this.$slots[t];return r||e},t.prototype._b=function(t,e,n,o){if(n)if(c(n)){Array.isArray(n)&&(n=d(n));for(var i in n)if("class"===i||"style"===i)t[i]=n[i];else{var r=o||yi.mustUseProp(e,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={});r[i]=n[i]}}else;return t},t.prototype._k=function(t,e,n){var o=yi.keyCodes[e]||n;return Array.isArray(o)?o.indexOf(t)===-1:o!==t}}function Bt(t,e){var n={};if(!t)return n;for(var o,i,r=[],a=0,s=t.length;a<s;a++)if(i=t[a],(i.context===e||i.functionalContext===e)&&i.data&&(o=i.data.slot)){var u=n[o]||(n[o]=[]);"template"===i.tag?u.push.apply(u,i.children):u.push(i)}else r.push(i);return r.length&&(1!==r.length||" "!==r[0].text&&!r[0].isComment)&&(n.default=r),n}function Xt(t){t.prototype._init=function(t){var e=this;e._uid=ir++,e._isVue=!0,t&&t._isComponent?Ut(e,t):e.$options=F(Yt(e.constructor),t||{},e),e._renderProxy=e,e._self=e,_t(e),yt(e),wt(e,"beforeCreate"),q(e),wt(e,"created"),jt(e)}}function Ut(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Yt(t){var e=t.options;if(t.super){var n=t.super.options,o=t.superOptions,i=t.extendOptions;n!==o&&(t.superOptions=n,i.render=e.render,i.staticRenderFns=e.staticRenderFns,i._scopeId=e._scopeId,e=t.options=F(n,i),e.name&&(e.components[e.name]=t))}return e}function Gt(t){this._init(t)}function Wt(t){t.use=function(t){if(!t.installed){var e=p(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}}}function zt(t){t.mixin=function(t){this.options=F(this.options,t)}}function Ht(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,o=n.cid,i=t._Ctor||(t._Ctor={});if(i[o])return i[o];var r=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=F(n.options,t),a.super=n,a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,yi._assetTypes.forEach(function(t){a[t]=n[t]}),r&&(a.options.components[r]=a),a.superOptions=n.options,a.extendOptions=t,i[o]=a,a}}function qt(t){yi._assetTypes.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Vt(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:t.test(e)}function $t(t){var e={};e.get=function(){return yi},Object.defineProperty(t,"config",e),t.util=Bi,t.set=E,t.delete=L,t.nextTick=Ti,t.options=Object.create(null),yi._assetTypes.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,l(t.options.components,sr),Wt(t),zt(t),Ht(t),qt(t)}function Zt(t){for(var e=t.data,n=t,o=t;o.child;)o=o.child._vnode,o.data&&(e=Jt(o.data,e));for(;n=n.parent;)n.data&&(e=Jt(e,n.data));return Qt(e)}function Jt(t,e){return{staticClass:te(t.staticClass,e.staticClass),class:t.class?[t.class,e.class]:e.class}}function Qt(t){var e=t.class,n=t.staticClass;return n||e?te(n,ee(e)):""}function te(t,e){return t?e?t+" "+e:t:e||""}function ee(t){var e="";if(!t)return e;if("string"==typeof t)return t;if(Array.isArray(t)){for(var n,o=0,i=t.length;o<i;o++)t[o]&&(n=ee(t[o]))&&(e+=n+" ");return e.slice(0,-1)}if(c(t)){for(var r in t)t[r]&&(e+=r+" ");return e.slice(0,-1)}return e}function ne(t){return _r(t)?"svg":"math"===t?"math":void 0}function oe(t){if(!mi)return!0;if(wr(t))return!1;if(t=t.toLowerCase(),null!=Pr[t])return Pr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Pr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Pr[t]=/HTMLUnknownElement/.test(e.toString())}function ie(t){if("string"==typeof t){if(t=document.querySelector(t),!t)return document.createElement("div")}return t}function re(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&"multiple"in e.data.attrs&&n.setAttribute("multiple","multiple"),n)}function ae(t,e){return document.createElementNS(mr[t],e)}function se(t){return document.createTextNode(t)}function ue(t){return document.createComment(t)}function he(t,e,n){t.insertBefore(e,n)}function pe(t,e){t.removeChild(e)}function le(t,e){t.appendChild(e)}function ce(t){return t.parentNode}function fe(t){return t.nextSibling}function de(t){return t.tagName}function ye(t,e){t.textContent=e}function ve(t,e,n){t.setAttribute(e,n)}function ge(t,e){var n=t.data.ref;if(n){var o=t.context,i=t.child||t.elm,a=o.$refs;e?Array.isArray(a[n])?r(a[n],i):a[n]===i&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])&&a[n].indexOf(i)<0?a[n].push(i):a[n]=[i]:a[n]=i}}function me(t){return null==t}function be(t){return null!=t}function _e(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&!t.data==!e.data}function xe(t,e,n){var o,i,r={};for(o=e;o<=n;++o)i=t[o].key,be(i)&&(r[i]=o);return r}function we(t){function e(t){return new Zi(T.tagName(t).toLowerCase(),{},[],void 0,t)}function n(t,e){function n(){0===--n.listeners&&o(t)}return n.listeners=e,n}function o(t){var e=T.parentNode(t);e&&T.removeChild(e,t)}function r(t,e,n,o,i){if(t.isRootInsert=!i,!a(t,e,n,o)){var r=t.data,s=t.children,u=t.tag;be(u)?(t.elm=t.ns?T.createElementNS(t.ns,u):T.createElement(u,t),d(t),p(t,s,e),be(r)&&c(t,e),h(n,t.elm,o)):t.isComment?(t.elm=T.createComment(t.text),h(n,t.elm,o)):(t.elm=T.createTextNode(t.text),h(n,t.elm,o))}}function a(t,e,n,o){var i=t.data;if(be(i)){var r=be(t.child)&&i.keepAlive;if(be(i=i.hook)&&be(i=i.init)&&i(t,!1,n,o),be(t.child))return f(t,e),r&&u(t,e,n,o),!0}}function u(t,e,n,o){for(var i,r=t;r.child;)if(r=r.child._vnode,be(i=r.data)&&be(i=i.transition)){for(i=0;i<C.activate.length;++i)C.activate[i](Mr,r);e.push(r);break}h(n,t.elm,o)}function h(t,e,n){t&&(n?T.insertBefore(t,e,n):T.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var o=0;o<e.length;++o)r(e[o],n,t.elm,null,!0);else s(t.text)&&T.appendChild(t.elm,T.createTextNode(t.text))}function l(t){for(;t.child;)t=t.child._vnode;return be(t.tag)}function c(t,e){for(var n=0;n<C.create.length;++n)C.create[n](Mr,t);P=t.data.hook,be(P)&&(P.create&&P.create(Mr,t),P.insert&&e.push(t))}function f(t,e){t.data.pendingInsert&&e.push.apply(e,t.data.pendingInsert),t.elm=t.child.$el,l(t)?(c(t,e),d(t)):(ge(t),e.push(t))}function d(t){var e;be(e=t.context)&&be(e=e.$options._scopeId)&&T.setAttribute(t.elm,e,""),be(e=Qi)&&e!==t.context&&be(e=e.$options._scopeId)&&T.setAttribute(t.elm,e,"")}function y(t,e,n,o,i,a){for(;o<=i;++o)r(n[o],a,t,e)}function v(t){var e,n,o=t.data;if(be(o))for(be(e=o.hook)&&be(e=e.destroy)&&e(t),e=0;e<C.destroy.length;++e)C.destroy[e](t);if(be(e=t.children))for(n=0;n<t.children.length;++n)v(t.children[n])}function g(t,e,n,i){for(;n<=i;++n){var r=e[n];be(r)&&(be(r.tag)?(m(r),v(r)):o(r.elm))}}function m(t,e){if(e||be(t.data)){var i=C.remove.length+1;for(e?e.listeners+=i:e=n(t.elm,i),be(P=t.child)&&be(P=P._vnode)&&be(P.data)&&m(P,e),P=0;P<C.remove.length;++P)C.remove[P](t,e);be(P=t.data.hook)&&be(P=P.remove)?P(t,e):e()}else o(t.elm)}function b(t,e,n,o,i){for(var a,s,u,h,p=0,l=0,c=e.length-1,f=e[0],d=e[c],v=n.length-1,m=n[0],b=n[v],x=!i;p<=c&&l<=v;)me(f)?f=e[++p]:me(d)?d=e[--c]:_e(f,m)?(_(f,m,o),f=e[++p],m=n[++l]):_e(d,b)?(_(d,b,o),d=e[--c],b=n[--v]):_e(f,b)?(_(f,b,o),x&&T.insertBefore(t,f.elm,T.nextSibling(d.elm)),f=e[++p],b=n[--v]):_e(d,m)?(_(d,m,o),x&&T.insertBefore(t,d.elm,f.elm),d=e[--c],m=n[++l]):(me(a)&&(a=xe(e,p,c)),s=be(m.key)?a[m.key]:null,me(s)?(r(m,o,t,f.elm),m=n[++l]):(u=e[s],_e(u,m)?(_(u,m,o),e[s]=void 0,x&&T.insertBefore(t,m.elm,f.elm),m=n[++l]):(r(m,o,t,f.elm),m=n[++l])));p>c?(h=me(n[v+1])?null:n[v+1].elm,y(t,h,n,l,v,o)):l>v&&g(t,e,p,c)}function _(t,e,n,o){if(t!==e){if(e.isStatic&&t.isStatic&&e.key===t.key&&(e.isCloned||e.isOnce))return e.elm=t.elm,void(e.child=t.child);var i,r=e.data,a=be(r);a&&be(i=r.hook)&&be(i=i.prepatch)&&i(t,e);var s=e.elm=t.elm,u=t.children,h=e.children;if(a&&l(e)){for(i=0;i<C.update.length;++i)C.update[i](t,e);be(i=r.hook)&&be(i=i.update)&&i(t,e)}me(e.text)?be(u)&&be(h)?u!==h&&b(s,u,h,n,o):be(h)?(be(t.text)&&T.setTextContent(s,""),y(s,null,h,0,h.length-1,n)):be(u)?g(s,u,0,u.length-1):be(t.text)&&T.setTextContent(s,""):t.text!==e.text&&T.setTextContent(s,e.text),a&&be(i=r.hook)&&be(i=i.postpatch)&&i(t,e)}}function x(t,e,n){if(n&&t.parent)t.parent.data.pendingInsert=e;else for(var o=0;o<e.length;++o)e[o].data.hook.insert(e[o])}function w(t,e,n){e.elm=t;var o=e.tag,i=e.data,r=e.children;if(be(i)&&(be(P=i.hook)&&be(P=P.init)&&P(e,!0),be(P=e.child)))return f(e,n),!0;if(be(o)){if(be(r))if(t.hasChildNodes()){for(var a=!0,s=t.firstChild,u=0;u<r.length;u++){if(!s||!w(s,r[u],n)){a=!1;break}s=s.nextSibling}if(!a||s)return!1}else p(e,r,n);if(be(i))for(var h in i)if(!A(h)){c(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}var P,S,C={},M=t.modules,T=t.nodeOps;for(P=0;P<Tr.length;++P)for(C[Tr[P]]=[],S=0;S<M.length;++S)void 0!==M[S][Tr[P]]&&C[Tr[P]].push(M[S][Tr[P]]);var A=i("attrs,style,class,staticClass,staticStyle,key");return function(t,n,o,i,a,s){if(!n)return void(t&&v(t));var u,h,p=!1,c=[];if(t){var f=be(t.nodeType);if(!f&&_e(t,n))_(t,n,c,i);else{if(f){if(1===t.nodeType&&t.hasAttribute("server-rendered")&&(t.removeAttribute("server-rendered"),o=!0),o&&w(t,n,c))return x(n,c,!0),t;t=e(t)}if(u=t.elm,h=T.parentNode(u),r(n,c,h,T.nextSibling(u)),n.parent){for(var d=n.parent;d;)d.elm=n.elm,d=d.parent;if(l(n))for(var y=0;y<C.create.length;++y)C.create[y](Mr,n.parent)}null!==h?g(h,[t],0,0):be(t.tag)&&v(t)}}else p=!0,r(n,c,a,s);return x(n,c,p),n.elm}}function Pe(t,e){(t.data.directives||e.data.directives)&&Se(t,e)}function Se(t,e){var n,o,i,r=t===Mr,a=e===Mr,s=Ce(t.data.directives,t.context),u=Ce(e.data.directives,e.context),h=[],p=[];for(n in u)o=s[n],i=u[n],o?(i.oldValue=o.value,Te(i,"update",e,t),i.def&&i.def.componentUpdated&&p.push(i)):(Te(i,"bind",e,t),i.def&&i.def.inserted&&h.push(i));if(h.length){var l=function(){for(var n=0;n<h.length;n++)Te(h[n],"inserted",e,t)};r?st(e.data.hook||(e.data.hook={}),"insert",l,"dir-insert"):l()}if(p.length&&st(e.data.hook||(e.data.hook={}),"postpatch",function(){for(var n=0;n<p.length;n++)Te(p[n],"componentUpdated",e,t)},"dir-postpatch"),!r)for(n in s)u[n]||Te(s[n],"unbind",t,t,a)}function Ce(t,e){var n=Object.create(null);if(!t)return n;var o,i;for(o=0;o<t.length;o++)i=t[o],i.modifiers||(i.modifiers=Er),n[Me(i)]=i,i.def=j(e.$options,"directives",i.name,!0);return n}function Me(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Te(t,e,n,o,i){var r=t.def&&t.def[e];r&&r(n.elm,t,n,o,i)}function Ae(t,e){if(t.data.attrs||e.data.attrs){var n,o,i,r=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};s.__ob__&&(s=e.data.attrs=l({},s));for(n in s)o=s[n],i=a[n],i!==o&&Ee(r,n,o);xi&&s.value!==a.value&&Ee(r,"value",s.value);for(n in a)null==s[n]&&(yr(n)?r.removeAttributeNS(dr,vr(n)):cr(n)||r.removeAttribute(n))}}function Ee(t,e,n){fr(e)?gr(n)?t.removeAttribute(e):t.setAttribute(e,e):cr(e)?t.setAttribute(e,gr(n)||"false"===n?"false":"true"):yr(e)?gr(n)?t.removeAttributeNS(dr,vr(e)):t.setAttributeNS(dr,e,n):gr(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Le(t,e){var n=e.elm,o=e.data,i=t.data;if(o.staticClass||o.class||i&&(i.staticClass||i.class)){var r=Zt(e),a=n._transitionClasses;a&&(r=te(r,ee(a))),r!==n._prevClass&&(n.setAttribute("class",r),n._prevClass=r)}}function Ie(t,e,n,o){if(n){var i=e;e=function(n){Ne(t,e,o),1===arguments.length?i(n):i.apply(null,arguments)}}ur.addEventListener(t,e,o)}function Ne(t,e,n){ur.removeEventListener(t,e,n)}function Oe(t,e){if(t.data.on||e.data.on){var n=e.data.on||{},o=t.data.on||{};ur=e.elm,ut(n,o,Ie,Ne,e.context)}}function ke(t,e){if(t.data.domProps||e.data.domProps){var n,o,i=e.elm,r=t.data.domProps||{},a=e.data.domProps||{};a.__ob__&&(a=e.data.domProps=l({},a));for(n in r)null==a[n]&&(i[n]="");for(n in a)if(o=a[n],("textContent"!==n&&"innerHTML"!==n||(e.children&&(e.children.length=0),o!==r[n]))&&("checked"!==n||De(i,o)))if("value"===n){i._value=o;var s=null==o?"":String(o);Re(i,e,s)&&(i.value=s)}else i[n]=o}}function Re(t,e,n){return!(t.composing||"option"!==e.tag&&!De(t,n)&&!Fe(e,n))}function De(t,e){return document.activeElement!==t&&t.value!==e}function Fe(t,e){var n=t.elm.value,i=t.elm._vModifiers;return i&&i.number||"number"===t.elm.type?o(n)!==o(e):i&&i.trim?n.trim()!==e.trim():n!==e}function je(t){var e=Ke(t.style);return t.staticStyle?l(t.staticStyle,e):e}function Ke(t){return Array.isArray(t)?d(t):"string"==typeof t?Rr(t):t}function Be(t,e){var n,o={};if(e)for(var i=t;i.child;)i=i.child._vnode,i.data&&(n=je(i.data))&&l(o,n);(n=je(t.data))&&l(o,n);for(var r=t;r=r.parent;)r.data&&(n=je(r.data))&&l(o,n);return o}function Xe(t,e){var n=e.data,o=t.data;if(n.staticStyle||n.style||o.staticStyle||o.style){var i,r,a=e.elm,s=t.data.staticStyle,u=t.data.style||{},h=s||u,p=Ke(e.data.style)||{};e.data.style=p.__ob__?l({},p):p;var c=Be(e,!0);for(r in h)null==c[r]&&jr(a,r,"");for(r in c)i=c[r],i!==h[r]&&jr(a,r,null==i?"":i)}}function Ue(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+t.getAttribute("class")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ye(t,e){if(e&&e.trim())if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var n=" "+t.getAttribute("class")+" ",o=" "+e+" ";n.indexOf(o)>=0;)n=n.replace(o," ");t.setAttribute("class",n.trim())}}function Ge(t){Vr(function(){Vr(t)})}function We(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Ue(t,e)}function ze(t,e){t._transitionClasses&&r(t._transitionClasses,e),Ye(t,e)}function He(t,e,n){var o=qe(t,e),i=o.type,r=o.timeout,a=o.propCount;if(!i)return n();var s=i===Yr?zr:qr,u=0,h=function(){t.removeEventListener(s,p),n()},p=function(e){e.target===t&&++u>=a&&h()};setTimeout(function(){u<a&&h()},r+1),t.addEventListener(s,p)}function qe(t,e){var n,o=window.getComputedStyle(t),i=o[Wr+"Delay"].split(", "),r=o[Wr+"Duration"].split(", "),a=Ve(i,r),s=o[Hr+"Delay"].split(", "),u=o[Hr+"Duration"].split(", "),h=Ve(s,u),p=0,l=0;e===Yr?a>0&&(n=Yr,p=a,l=r.length):e===Gr?h>0&&(n=Gr,p=h,l=u.length):(p=Math.max(a,h),n=p>0?a>h?Yr:Gr:null,l=n?n===Yr?r.length:u.length:0);var c=n===Yr&&$r.test(o[Wr+"Property"]);return{type:n,timeout:p,propCount:l,hasTransform:c}}function Ve(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return $e(e)+$e(t[n])}))}function $e(t){return 1e3*Number(t.slice(0,-1))}function Ze(t,e){var n=t.elm;n._leaveCb&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Qe(t.data.transition);if(o&&!n._enterCb&&1===n.nodeType){for(var i=o.css,r=o.type,a=o.enterClass,s=o.enterToClass,u=o.enterActiveClass,h=o.appearClass,p=o.appearToClass,l=o.appearActiveClass,c=o.beforeEnter,f=o.enter,d=o.afterEnter,y=o.enterCancelled,v=o.beforeAppear,g=o.appear,m=o.afterAppear,b=o.appearCancelled,_=Qi,x=Qi.$vnode;x&&x.parent;)x=x.parent,_=x.context;
var w=!_._isMounted||!t.isRootInsert;if(!w||g||""===g){var P=w?h:a,S=w?l:u,C=w?p:s,M=w?v||c:c,T=w&&"function"==typeof g?g:f,A=w?m||d:d,E=w?b||y:y,L=i!==!1&&!xi,I=T&&(T._length||T.length)>1,N=n._enterCb=tn(function(){L&&(ze(n,C),ze(n,S)),N.cancelled?(L&&ze(n,P),E&&E(n)):A&&A(n),n._enterCb=null});t.data.show||st(t.data.hook||(t.data.hook={}),"insert",function(){var e=n.parentNode,o=e&&e._pending&&e._pending[t.key];o&&o.context===t.context&&o.tag===t.tag&&o.elm._leaveCb&&o.elm._leaveCb(),T&&T(n,N)},"transition-insert"),M&&M(n),L&&(We(n,P),We(n,S),Ge(function(){We(n,C),ze(n,P),N.cancelled||I||He(n,r,N)})),t.data.show&&(e&&e(),T&&T(n,N)),L||I||N()}}}function Je(t,e){function n(){g.cancelled||(t.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[t.key]=t),p&&p(o),y&&(We(o,s),We(o,h),Ge(function(){We(o,u),ze(o,s),g.cancelled||v||He(o,a,g)})),l&&l(o,g),y||v||g())}var o=t.elm;o._enterCb&&(o._enterCb.cancelled=!0,o._enterCb());var i=Qe(t.data.transition);if(!i)return e();if(!o._leaveCb&&1===o.nodeType){var r=i.css,a=i.type,s=i.leaveClass,u=i.leaveToClass,h=i.leaveActiveClass,p=i.beforeLeave,l=i.leave,c=i.afterLeave,f=i.leaveCancelled,d=i.delayLeave,y=r!==!1&&!xi,v=l&&(l._length||l.length)>1,g=o._leaveCb=tn(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[t.key]=null),y&&(ze(o,u),ze(o,h)),g.cancelled?(y&&ze(o,s),f&&f(o)):(e(),c&&c(o)),o._leaveCb=null});d?d(n):n()}}function Qe(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&l(e,Zr(t.name||"v")),l(e,t),e}return"string"==typeof t?Zr(t):void 0}}function tn(t){var e=!1;return function(){e||(e=!0,t())}}function en(t,e){e.data.show||Ze(e)}function nn(t,e,n){var o=e.value,i=t.multiple;if(!i||Array.isArray(o)){for(var r,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)r=m(o,rn(a))>-1,a.selected!==r&&(a.selected=r);else if(g(rn(a),o))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function on(t,e){for(var n=0,o=e.length;n<o;n++)if(g(rn(e[n]),t))return!1;return!0}function rn(t){return"_value"in t?t._value:t.value}function an(t){t.target.composing=!0}function sn(t){t.target.composing=!1,un(t.target,"input")}function un(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function hn(t){return!t.child||t.data&&t.data.transition?t:hn(t.child._vnode)}function pn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?pn(dt(e.children)):t}function ln(t){var e={},n=t.$options;for(var o in n.propsData)e[o]=t[o];var i=n._parentListeners;for(var r in i)e[si(r)]=i[r].fn;return e}function cn(t,e){return/\d-keep-alive$/.test(e.tag)?t("keep-alive"):null}function fn(t){for(;t=t.parent;)if(t.data.transition)return!0}function dn(t,e){return e.key===t.key&&e.tag===t.tag}function yn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function vn(t){t.data.newPos=t.elm.getBoundingClientRect()}function gn(t){var e=t.data.pos,n=t.data.newPos,o=e.left-n.left,i=e.top-n.top;if(o||i){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+o+"px,"+i+"px)",r.transitionDuration="0s"}}function mn(t,e){var n=document.createElement("div");return n.innerHTML='<div a="'+t+'">',n.innerHTML.indexOf(e)>0}function bn(t){return pa=pa||document.createElement("div"),pa.innerHTML=t,pa.textContent}function _n(t,e){return e&&(t=t.replace(rs,"\n")),t.replace(os,"<").replace(is,">").replace(as,"&").replace(ss,'"')}function xn(t,e){function n(e){l+=e,t=t.substring(e)}function o(){var e=t.match(xa);if(e){var o={tagName:e[1],attrs:[],start:l};n(e[0].length);for(var i,r;!(i=t.match(wa))&&(r=t.match(ma));)n(r[0].length),o.attrs.push(r);if(i)return o.unarySlash=i[1],n(i[0].length),o.end=l,o}}function i(t){var n=t.tagName,o=t.unarySlash;h&&("p"===s&&da(n)&&r("",s),fa(n)&&s===n&&r("",n));for(var i=p(n)||"html"===n&&"head"===s||!!o,a=t.attrs.length,l=new Array(a),c=0;c<a;c++){var f=t.attrs[c];Ta&&f[0].indexOf('""')===-1&&(""===f[3]&&delete f[3],""===f[4]&&delete f[4],""===f[5]&&delete f[5]);var d=f[3]||f[4]||f[5]||"";l[c]={name:f[1],value:_n(d,e.shouldDecodeNewlines)}}i||(u.push({tag:n,attrs:l}),s=n,o=""),e.start&&e.start(n,l,i,t.start,t.end)}function r(t,n,o,i){var r;if(null==o&&(o=l),null==i&&(i=l),n){var a=n.toLowerCase();for(r=u.length-1;r>=0&&u[r].tag.toLowerCase()!==a;r--);}else r=0;if(r>=0){for(var h=u.length-1;h>=r;h--)e.end&&e.end(u[h].tag,o,i);u.length=r,s=r&&u[r-1].tag}else"br"===n.toLowerCase()?e.start&&e.start(n,[],!0,o,i):"p"===n.toLowerCase()&&(e.start&&e.start(n,[],!1,o,i),e.end&&e.end(n,o,i))}for(var a,s,u=[],h=e.expectHTML,p=e.isUnaryTag||fi,l=0;t;){if(a=t,s&&es(s,e.sfc,u)){var c=s.toLowerCase(),f=ns[c]||(ns[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),d=0,y=t.replace(f,function(t,n,o){return d=o.length,"script"!==c&&"style"!==c&&"noscript"!==c&&(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),e.chars&&e.chars(n),""});l+=t.length-y.length,t=y,r("</"+c+">",c,l-d,l)}else{var v=t.indexOf("<");if(0===v){if(Ca.test(t)){var g=t.indexOf("-->");if(g>=0){n(g+3);continue}}if(Ma.test(t)){var m=t.indexOf("]>");if(m>=0){n(m+2);continue}}var b=t.match(Sa);if(b){n(b[0].length);continue}var _=t.match(Pa);if(_){var x=l;n(_[0].length),r(_[0],_[1],x,l);continue}var w=o();if(w){i(w);continue}}var P=void 0,S=void 0,C=void 0;if(v>0){for(S=t.slice(v);!(Pa.test(S)||xa.test(S)||Ca.test(S)||Ma.test(S)||(C=S.indexOf("<",1),C<0));)v+=C,S=t.slice(v);P=t.substring(0,v),n(v)}v<0&&(P=t,t=""),e.chars&&P&&e.chars(P)}if(t===a&&e.chars){e.chars(t);break}}r()}function wn(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var n,o,i,r,a,s=!1,u=!1,h=!1,p=!1,l=0,c=0,f=0,d=0;for(i=0;i<t.length;i++)if(o=n,n=t.charCodeAt(i),s)39===n&&92!==o&&(s=!1);else if(u)34===n&&92!==o&&(u=!1);else if(h)96===n&&92!==o&&(h=!1);else if(p)47===n&&92!==o&&(p=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||c||f){switch(n){case 34:u=!0;break;case 39:s=!0;break;case 96:h=!0;break;case 40:f++;break;case 41:f--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--}if(47===n){for(var y=i-1,v=void 0;y>=0&&(v=t.charAt(y)," "===v);y--);v&&/[\w$]/.test(v)||(p=!0)}}else void 0===r?(d=i+1,r=t.slice(0,i).trim()):e();if(void 0===r?r=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)r=Pn(r,a[i]);return r}function Pn(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var o=e.slice(0,n),i=e.slice(n+1);return'_f("'+o+'")('+t+","+i}function Sn(t,e){var n=e?ps(e):us;if(n.test(t)){for(var o,i,r=[],a=n.lastIndex=0;o=n.exec(t);){i=o.index,i>a&&r.push(JSON.stringify(t.slice(a,i)));var s=wn(o[1].trim());r.push("_s("+s+")"),a=i+o[0].length}return a<t.length&&r.push(JSON.stringify(t.slice(a))),r.join("+")}}function Cn(t){console.error("[Vue parser]: "+t)}function Mn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Tn(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function An(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function En(t,e,n,o,i,r){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:o,arg:i,modifiers:r})}function Ln(t,e,n,o,i){o&&o.capture&&(delete o.capture,e="!"+e),o&&o.once&&(delete o.once,e="~"+e);var r;o&&o.native?(delete o.native,r=t.nativeEvents||(t.nativeEvents={})):r=t.events||(t.events={});var a={value:n,modifiers:o},s=r[e];Array.isArray(s)?i?s.unshift(a):s.push(a):s?r[e]=i?[a,s]:[s,a]:r[e]=a}function In(t,e,n){var o=Nn(t,":"+e)||Nn(t,"v-bind:"+e);if(null!=o)return wn(o);if(n!==!1){var i=Nn(t,e);if(null!=i)return JSON.stringify(i)}}function Nn(t,e){var n;if(null!=(n=t.attrsMap[e]))for(var o=t.attrsList,i=0,r=o.length;i<r;i++)if(o[i].name===e){o.splice(i,1);break}return n}function On(t){if(Ea=t,Aa=Ea.length,Ia=Na=Oa=0,t.indexOf("[")<0||t.lastIndexOf("]")<Aa-1)return{exp:t,idx:null};for(;!Rn();)La=kn(),Dn(La)?jn(La):91===La&&Fn(La);return{exp:t.substring(0,Na),idx:t.substring(Na+1,Oa)}}function kn(){return Ea.charCodeAt(++Ia)}function Rn(){return Ia>=Aa}function Dn(t){return 34===t||39===t}function Fn(t){var e=1;for(Na=Ia;!Rn();)if(t=kn(),Dn(t))jn(t);else if(91===t&&e++,93===t&&e--,0===e){Oa=Ia;break}}function jn(t){for(var e=t;!Rn()&&(t=kn(),t!==e););}function Kn(t,e){ka=e.warn||Cn,Ra=e.getTagNamespace||fi,Da=e.mustUseProp||fi,Fa=e.isPreTag||fi,ja=Mn(e.modules,"preTransformNode"),Ka=Mn(e.modules,"transformNode"),Ba=Mn(e.modules,"postTransformNode"),Xa=e.delimiters;var n,o,i=[],r=e.preserveWhitespace!==!1,a=!1,s=!1;return xn(t,{expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,shouldDecodeNewlines:e.shouldDecodeNewlines,start:function(t,r,u){function h(t){}var p=o&&o.ns||Ra(t);_i&&"svg"===p&&(r=oo(r));var l={type:1,tag:t,attrsList:r,attrsMap:eo(r),parent:o,children:[]};p&&(l.ns=p),no(l)&&!Ci()&&(l.forbidden=!0);for(var c=0;c<ja.length;c++)ja[c](l,e);if(a||(Bn(l),l.pre&&(a=!0)),Fa(l.tag)&&(s=!0),a)Xn(l);else{Gn(l),Wn(l),Vn(l),Un(l),l.plain=!l.key&&!r.length,Yn(l),$n(l),Zn(l);for(var f=0;f<Ka.length;f++)Ka[f](l,e);Jn(l)}if(n?i.length||n.if&&(l.elseif||l.else)&&(h(l),qn(n,{exp:l.elseif,block:l})):(n=l,h(n)),o&&!l.forbidden)if(l.elseif||l.else)zn(l,o);else if(l.slotScope){o.plain=!1;var d=l.slotTarget||"default";(o.scopedSlots||(o.scopedSlots={}))[d]=l}else o.children.push(l),l.parent=o;u||(o=l,i.push(l));for(var y=0;y<Ba.length;y++)Ba[y](l,e)},end:function(){var t=i[i.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&t.children.pop(),i.length-=1,o=i[i.length-1],t.pre&&(a=!1),Fa(t.tag)&&(s=!1)},chars:function(t){if(o&&(!_i||"textarea"!==o.tag||o.attrsMap.placeholder!==t)){var e=o.children;if(t=s||t.trim()?ms(t):r&&e.length?" ":""){var n;!a&&" "!==t&&(n=Sn(t,Xa))?e.push({type:2,expression:n,text:t}):" "===t&&" "===e[e.length-1].text||o.children.push({type:3,text:t})}}}}),n}function Bn(t){null!=Nn(t,"v-pre")&&(t.pre=!0)}function Xn(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),o=0;o<e;o++)n[o]={name:t.attrsList[o].name,value:JSON.stringify(t.attrsList[o].value)};else t.pre||(t.plain=!0)}function Un(t){var e=In(t,"key");e&&(t.key=e)}function Yn(t){var e=In(t,"ref");e&&(t.ref=e,t.refInFor=Qn(t))}function Gn(t){var e;if(e=Nn(t,"v-for")){var n=e.match(cs);if(!n)return;t.for=n[2].trim();var o=n[1].trim(),i=o.match(fs);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=o}}function Wn(t){var e=Nn(t,"v-if");if(e)t.if=e,qn(t,{exp:e,block:t});else{null!=Nn(t,"v-else")&&(t.else=!0);var n=Nn(t,"v-else-if");n&&(t.elseif=n)}}function zn(t,e){var n=Hn(e.children);n&&n.if&&qn(n,{exp:t.elseif,block:t})}function Hn(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function qn(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Vn(t){var e=Nn(t,"v-once");null!=e&&(t.once=!0)}function $n(t){if("slot"===t.tag)t.slotName=In(t,"name");else{var e=In(t,"slot");e&&(t.slotTarget='""'===e?'"default"':e),"template"===t.tag&&(t.slotScope=Nn(t,"scope"))}}function Zn(t){var e;(e=In(t,"is"))&&(t.component=e),null!=Nn(t,"inline-template")&&(t.inlineTemplate=!0)}function Jn(t){var e,n,o,i,r,a,s,u,h=t.attrsList;for(e=0,n=h.length;e<n;e++)if(o=i=h[e].name,r=h[e].value,ls.test(o))if(t.hasBindings=!0,s=to(o),s&&(o=o.replace(gs,"")),ds.test(o))o=o.replace(ds,""),r=wn(r),u=!1,s&&(s.prop&&(u=!0,o=si(o),"innerHtml"===o&&(o="innerHTML")),s.camel&&(o=si(o))),u||Da(t.tag,o)?Tn(t,o,r):An(t,o,r);else if(ys.test(o))o=o.replace(ys,""),Ln(t,o,r,s);else{o=o.replace(ls,"");var p=o.match(vs);p&&(a=p[1])&&(o=o.slice(0,-(a.length+1))),En(t,o,i,r,a,s)}else{An(t,o,JSON.stringify(r)),Da(t.tag,o)&&("value"===o?Tn(t,o,JSON.stringify(r)):Tn(t,o,"true"))}}function Qn(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function to(t){var e=t.match(gs);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function eo(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].name]=t[n].value;return e}function no(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function oo(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];bs.test(o.name)||(o.name=o.name.replace(_s,""),e.push(o))}return e}function io(t,e){t&&(Ua=xs(e.staticKeys||""),Ya=e.isReservedTag||fi,ao(t),so(t,!1))}function ro(t){return i("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function ao(t){if(t.static=ho(t),1===t.type){if(!Ya(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var o=t.children[e];ao(o),o.static||(t.static=!1)}}}function so(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,o=t.children.length;n<o;n++)so(t.children[n],e||!!t.for);t.ifConditions&&uo(t.ifConditions,e)}}function uo(t,e){for(var n=1,o=t.length;n<o;n++)so(t[n].block,e)}function ho(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||ii(t.tag)||!Ya(t.tag)||po(t)||!Object.keys(t).every(Ua))))}function po(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function lo(t,e){var n=e?"nativeOn:{":"on:{";for(var o in t)n+='"'+o+'":'+co(o,t[o])+",";return n.slice(0,-1)+"}"}function co(t,e){if(e){if(Array.isArray(e))return"["+e.map(function(e){return co(t,e)}).join(",")+"]";if(e.modifiers){var n="",o=[];for(var i in e.modifiers)Cs[i]?n+=Cs[i]:o.push(i);o.length&&(n=fo(o)+n);var r=Ps.test(e.value)?e.value+"($event)":e.value;return"function($event){"+n+r+"}"}return ws.test(e.value)||Ps.test(e.value)?e.value:"function($event){"+e.value+"}"}return"function(){}"}function fo(t){return"if("+t.map(yo).join("&&")+")return;"}function yo(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Ss[t];return"_k($event.keyCode,"+JSON.stringify(t)+(n?","+JSON.stringify(n):"")+")"}function vo(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+(e.modifiers&&e.modifiers.prop?",true":"")+")"}}function go(t,e){var n=Va,o=Va=[],i=$a;$a=0,Za=e,Ga=e.warn||Cn,Wa=Mn(e.modules,"transformCode"),za=Mn(e.modules,"genData"),Ha=e.directives||{},qa=e.isReservedTag||fi;var r=t?mo(t):'_c("div")';return Va=n,$a=i,{render:"with(this){return "+r+"}",staticRenderFns:o}}function mo(t){if(t.staticRoot&&!t.staticProcessed)return bo(t);if(t.once&&!t.onceProcessed)return _o(t);if(t.for&&!t.forProcessed)return Po(t);if(t.if&&!t.ifProcessed)return xo(t);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Ro(t);var e;if(t.component)e=Do(t.component,t);else{var n=t.plain?void 0:So(t),o=t.inlineTemplate?null:Eo(t,!0);e="_c('"+t.tag+"'"+(n?","+n:"")+(o?","+o:"")+")"}for(var i=0;i<Wa.length;i++)e=Wa[i](t,e);return e}return Eo(t)||"void 0"}function bo(t){return t.staticProcessed=!0,Va.push("with(this){return "+mo(t)+"}"),"_m("+(Va.length-1)+(t.staticInFor?",true":"")+")"}function _o(t){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return xo(t);if(t.staticInFor){for(var e="",n=t.parent;n;){if(n.for){e=n.key;break}n=n.parent}return e?"_o("+mo(t)+","+$a++ +(e?","+e:"")+")":mo(t)}return bo(t)}function xo(t){return t.ifProcessed=!0,wo(t.ifConditions.slice())}function wo(t){function e(t){return t.once?_o(t):mo(t)}if(!t.length)return"_e()";var n=t.shift();return n.exp?"("+n.exp+")?"+e(n.block)+":"+wo(t):""+e(n.block)}function Po(t){var e=t.for,n=t.alias,o=t.iterator1?","+t.iterator1:"",i=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+e+"),function("+n+o+i+"){return "+mo(t)+"})"}function So(t){var e="{",n=Co(t);n&&(e+=n+","),t.key&&(e+="key:"+t.key+","),t.ref&&(e+="ref:"+t.ref+","),t.refInFor&&(e+="refInFor:true,"),t.pre&&(e+="pre:true,"),t.component&&(e+='tag:"'+t.tag+'",');for(var o=0;o<za.length;o++)e+=za[o](t);if(t.attrs&&(e+="attrs:{"+Fo(t.attrs)+"},"),t.props&&(e+="domProps:{"+Fo(t.props)+"},"),t.events&&(e+=lo(t.events)+","),t.nativeEvents&&(e+=lo(t.nativeEvents,!0)+","),t.slotTarget&&(e+="slot:"+t.slotTarget+","),t.scopedSlots&&(e+=To(t.scopedSlots)+","),t.inlineTemplate){var i=Mo(t);i&&(e+=i+",")}return e=e.replace(/,$/,"")+"}",t.wrapData&&(e=t.wrapData(e)),e}function Co(t){var e=t.directives;if(e){var n,o,i,r,a="directives:[",s=!1;for(n=0,o=e.length;n<o;n++){i=e[n],r=!0;var u=Ha[i.name]||Ms[i.name];u&&(r=!!u(t,i,Ga)),r&&(s=!0,a+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return s?a.slice(0,-1)+"]":void 0}}function Mo(t){var e=t.children[0];if(1===e.type){var n=go(e,Za);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function To(t){return"scopedSlots:{"+Object.keys(t).map(function(e){return Ao(e,t[e])}).join(",")+"}"}function Ao(t,e){return t+":function("+String(e.attrsMap.scope)+"){return "+("template"===e.tag?Eo(e)||"void 0":mo(e))+"}"}function Eo(t,e){var n=t.children;if(n.length){var o=n[0];if(1===n.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag)return mo(o);var i=Lo(n);return"["+n.map(Oo).join(",")+"]"+(e&&i?","+i:"")}}function Lo(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];if(Io(o)||o.if&&o.ifConditions.some(function(t){return Io(t.block)})){e=2;break}(No(o)||o.if&&o.ifConditions.some(function(t){return No(t.block)}))&&(e=1)}return e}function Io(t){return t.for||"template"===t.tag||"slot"===t.tag}function No(t){return 1===t.type&&!qa(t.tag)}function Oo(t){return 1===t.type?mo(t):ko(t)}function ko(t){return"_v("+(2===t.type?t.expression:jo(JSON.stringify(t.text)))+")"}function Ro(t){var e=t.slotName||'"default"',n=Eo(t),o="_t("+e+(n?","+n:""),i=t.attrs&&"{"+t.attrs.map(function(t){return si(t.name)+":"+t.value}).join(",")+"}",r=t.attrsMap["v-bind"];return!i&&!r||n||(o+=",null"),i&&(o+=","+i),r&&(o+=(i?"":",null")+","+r),o+")"}function Do(t,e){var n=e.inlineTemplate?null:Eo(e,!0);return"_c("+t+","+So(e)+(n?","+n:"")+")"}function Fo(t){for(var e="",n=0;n<t.length;n++){var o=t[n];e+='"'+o.name+'":'+jo(o.value)+","}return e.slice(0,-1)}function jo(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ko(t,e){var n=Kn(t.trim(),e);io(n,e);var o=go(n,e);return{ast:n,render:o.render,staticRenderFns:o.staticRenderFns}}function Bo(t,e){var n=(e.warn||Cn,Nn(t,"class"));n&&(t.staticClass=JSON.stringify(n));var o=In(t,"class",!1);o&&(t.classBinding=o)}function Xo(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Uo(t,e){var n=(e.warn||Cn,Nn(t,"style"));if(n){t.staticStyle=JSON.stringify(Rr(n))}var o=In(t,"style",!1);o&&(t.styleBinding=o)}function Yo(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function Go(t,e,n){Ja=n;var o=e.value,i=e.modifiers,r=t.tag,a=t.attrsMap.type;return"select"===r?qo(t,o,i):"input"===r&&"checkbox"===a?Wo(t,o,i):"input"===r&&"radio"===a?zo(t,o,i):Ho(t,o,i),!0}function Wo(t,e,n){var o=n&&n.number,i=In(t,"value")||"null",r=In(t,"true-value")||"true",a=In(t,"false-value")||"false";Tn(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===r?":("+e+")":":_q("+e+","+r+")")),Ln(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+r+"):("+a+");if(Array.isArray($$a)){var $$v="+(o?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+e+"=$$a.concat($$v))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+e+"=$$c}",null,!0)}function zo(t,e,n){var o=n&&n.number,i=In(t,"value")||"null";i=o?"_n("+i+")":i,Tn(t,"checked","_q("+e+","+i+")"),Ln(t,"change",Vo(e,i),null,!0)}function Ho(t,e,n){var o=t.attrsMap.type,i=n||{},r=i.lazy,a=i.number,s=i.trim,u=r||_i&&"range"===o?"change":"input",h=!r&&"range"!==o,p="input"===t.tag||"textarea"===t.tag,l=p?"$event.target.value"+(s?".trim()":""):s?"(typeof $event === 'string' ? $event.trim() : $event)":"$event";l=a||"number"===o?"_n("+l+")":l;var c=Vo(e,l);p&&h&&(c="if($event.target.composing)return;"+c),Tn(t,"value",p?"_s("+e+")":"("+e+")"),Ln(t,u,c,null,!0),(s||a||"number"===o)&&Ln(t,"blur","$forceUpdate()")}function qo(t,e,n){var o=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(o?"_n(val)":"val")+"})"+(null==t.attrsMap.multiple?"[0]":""),r=Vo(e,i);Ln(t,"change",r,null,!0)}function Vo(t,e){var n=On(t);return null===n.idx?t+"="+e:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+t+"="+e+"}else{$$exp.splice($$idx, 1, "+e+")}"}function $o(t,e){e.value&&Tn(t,"textContent","_s("+e.value+")")}function Zo(t,e){e.value&&Tn(t,"innerHTML","_s("+e.value+")")}function Jo(t,e){return e=e?l(l({},Ns),e):Ns,Ko(t,e)}function Qo(t,e,n){var o=(e&&e.warn||Ei,e&&e.delimiters?String(e.delimiters)+t:t);if(Is[o])return Is[o];var i={},r=Jo(t,e);i.render=ti(r.render);var a=r.staticRenderFns.length;i.staticRenderFns=new Array(a);for(var s=0;s<a;s++)i.staticRenderFns[s]=ti(r.staticRenderFns[s]);return Is[o]=i}function ti(t){try{return new Function(t)}catch(t){return y}}function ei(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var ni,oi,ii=i("slot,component",!0),ri=Object.prototype.hasOwnProperty,ai=/-(\w)/g,si=u(function(t){return t.replace(ai,function(t,e){return e?e.toUpperCase():""})}),ui=u(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),hi=/([^-])([A-Z])/g,pi=u(function(t){return t.replace(hi,"$1-$2").replace(hi,"$1-$2").toLowerCase()}),li=Object.prototype.toString,ci="[object Object]",fi=function(){return!1},di=function(t){return t},yi={optionMergeStrategies:Object.create(null),silent:!1,devtools:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:fi,isUnknownElement:fi,getTagNamespace:y,parsePlatformTagName:di,mustUseProp:fi,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},vi=/[^\w.$]/,gi="__proto__"in{},mi="undefined"!=typeof window,bi=mi&&window.navigator.userAgent.toLowerCase(),_i=bi&&/msie|trident/.test(bi),xi=bi&&bi.indexOf("msie 9.0")>0,wi=bi&&bi.indexOf("edge/")>0,Pi=bi&&bi.indexOf("android")>0,Si=bi&&/iphone|ipad|ipod|ios/.test(bi),Ci=function(){return void 0===ni&&(ni=!mi&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),ni},Mi=mi&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ti=function(){function t(){o=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],o=!1;if("undefined"!=typeof Promise&&w(Promise)){var i=Promise.resolve(),r=function(t){console.error(t)};e=function(){i.then(t).catch(r),Si&&setTimeout(y)}}else if("undefined"==typeof MutationObserver||!w(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),u=document.createTextNode(String(a));s.observe(u,{characterData:!0}),e=function(){a=(a+1)%2,u.data=String(a)}}return function(t,i){var r;if(n.push(function(){t&&t.call(i),r&&r(i)}),o||(o=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}}();oi="undefined"!=typeof Set&&w(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ai,Ei=y,Li=0,Ii=function(){this.id=Li++,this.subs=[]};Ii.prototype.addSub=function(t){this.subs.push(t)},Ii.prototype.removeSub=function(t){r(this.subs,t)},Ii.prototype.depend=function(){Ii.target&&Ii.target.addDep(this)},Ii.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Ii.target=null;var Ni=[],Oi=Array.prototype,ki=Object.create(Oi);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Oi[t];_(ki,t,function(){for(var n=arguments,o=arguments.length,i=new Array(o);o--;)i[o]=n[o];var r,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":r=i;break;case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),a})});var Ri=Object.getOwnPropertyNames(ki),Di={shouldConvert:!0,isSettingProps:!1},Fi=function(t){if(this.value=t,this.dep=new Ii,this.vmCount=0,_(t,"__ob__",this),Array.isArray(t)){var e=gi?C:M;e(t,ki,Ri),this.observeArray(t)}else this.walk(t)};Fi.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)A(t,e[n],t[e[n]])},Fi.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)T(t[e])};var ji=yi.optionMergeStrategies;ji.data=function(t,e,n){return n?t||e?function(){var o="function"==typeof e?e.call(n):e,i="function"==typeof t?t.call(n):void 0;return o?N(o,i):i}:void 0:e?"function"!=typeof e?t:t?function(){return N(e.call(this),t.call(this))}:e:t},yi._lifecycleHooks.forEach(function(t){ji[t]=O}),yi._assetTypes.forEach(function(t){ji[t+"s"]=k}),ji.watch=function(t,e){if(!e)return t;if(!t)return e;var n={};l(n,t);for(var o in e){var i=n[o],r=e[o];i&&!Array.isArray(i)&&(i=[i]),n[o]=i?i.concat(r):[r]}return n},ji.props=ji.methods=ji.computed=function(t,e){if(!e)return t;if(!t)return e;var n=Object.create(null);return l(n,t),l(n,e),n};var Ki=function(t,e){return void 0===e?t:e},Bi=Object.freeze({defineReactive:A,_toString:n,toNumber:o,makeMap:i,isBuiltInTag:ii,remove:r,hasOwn:a,isPrimitive:s,cached:u,camelize:si,capitalize:ui,hyphenate:pi,bind:h,toArray:p,extend:l,isObject:c,isPlainObject:f,toObject:d,noop:y,no:fi,identity:di,genStaticKeys:v,looseEqual:g,looseIndexOf:m,isReserved:b,def:_,parsePath:x,hasProto:gi,inBrowser:mi,UA:bi,isIE:_i,isIE9:xi,isEdge:wi,isAndroid:Pi,isIOS:Si,isServerRendering:Ci,devtools:Mi,nextTick:Ti,get _Set(){return oi},mergeOptions:F,resolveAsset:j,get warn(){return Ei},get formatComponentName(){return Ai},validateProp:K}),Xi=[],Ui={},Yi=!1,Gi=!1,Wi=0,zi=0,Hi=function(t,e,n,o){this.vm=t,t._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++zi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new oi,this.newDepIds=new oi,this.expression="","function"==typeof e?this.getter=e:(this.getter=x(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Hi.prototype.get=function(){P(this);var t=this.getter.call(this.vm,this.vm);return this.deep&&z(t),S(),this.cleanupDeps(),t},Hi.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Hi.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var o=this.depIds;this.depIds=this.newDepIds,this.newDepIds=o,this.newDepIds.clear(),o=this.deps,this.deps=this.newDeps,this.newDeps=o,this.newDeps.length=0},Hi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():W(this)},Hi.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){if(!yi.errorHandler)throw t;yi.errorHandler.call(null,t,this.vm)}else this.cb.call(this.vm,t,e)}}},Hi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Hi.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},Hi.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||r(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var qi,Vi=new oi,$i={enumerable:!0,configurable:!0,get:y,set:y},Zi=function(t,e,n,o,i,r,a){this.tag=t,this.data=e,this.children=n,this.text=o,this.elm=i,this.ns=void 0,this.context=r,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.child=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},Ji=function(){var t=new Zi;return t.text="",t.isComment=!0,t},Qi=null,tr={init:Mt,prepatch:Tt,insert:At,destroy:Et},er=Object.keys(tr),nr=1,or=2,ir=0;Xt(Gt),nt(Gt),bt(Gt),xt(Gt),Kt(Gt);var rr=[String,RegExp],ar={name:"keep-alive",abstract:!0,props:{include:rr,exclude:rr},created:function(){this.cache=Object.create(null)},render:function(){var t=dt(this.$slots.default);if(t&&t.componentOptions){var e=t.componentOptions,n=e.Ctor.options.name||e.tag;if(n&&(this.include&&!Vt(this.include,n)||this.exclude&&Vt(this.exclude,n)))return t;var o=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[o]?t.child=this.cache[o].child:this.cache[o]=t,t.data.keepAlive=!0}return t},destroyed:function(){var t=this;for(var e in this.cache){var n=t.cache[e];wt(n.child,"deactivated"),n.child.$destroy()}}},sr={KeepAlive:ar};$t(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:Ci}),Gt.version="2.1.8";var ur,hr,pr=i("input,textarea,option,select"),lr=function(t,e){return"value"===e&&pr(t)||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},cr=i("contenteditable,draggable,spellcheck"),fr=i("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),dr="http://www.w3.org/1999/xlink",yr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},vr=function(t){return yr(t)?t.slice(6,t.length):""},gr=function(t){return null==t||t===!1},mr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},br=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),_r=i("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xr=function(t){return"pre"===t},wr=function(t){return br(t)||_r(t)},Pr=Object.create(null),Sr=Object.freeze({createElement:re,createElementNS:ae,createTextNode:se,createComment:ue,insertBefore:he,removeChild:pe,appendChild:le,parentNode:ce,nextSibling:fe,tagName:de,setTextContent:ye,setAttribute:ve}),Cr={create:function(t,e){ge(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ge(t,!0),ge(e))},destroy:function(t){ge(t,!0)}},Mr=new Zi("",{},[]),Tr=["create","activate","update","remove","destroy"],Ar={create:Pe,update:Pe,destroy:function(t){Pe(t,Mr)}},Er=Object.create(null),Lr=[Cr,Ar],Ir={create:Ae,update:Ae},Nr={create:Le,update:Le},Or={create:Oe,update:Oe},kr={create:ke,update:ke},Rr=u(function(t){var e={},n=/;(?![^(]*\))/g,o=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),Dr=/^--/,Fr=/\s*!important$/,jr=function(t,e,n){Dr.test(e)?t.style.setProperty(e,n):Fr.test(n)?t.style.setProperty(e,n.replace(Fr,""),"important"):t.style[Br(e)]=n},Kr=["Webkit","Moz","ms"],Br=u(function(t){if(hr=hr||document.createElement("div"),t=si(t),"filter"!==t&&t in hr.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Kr.length;n++){var o=Kr[n]+e;if(o in hr.style)return o}}),Xr={create:Xe,update:Xe},Ur=mi&&!xi,Yr="transition",Gr="animation",Wr="transition",zr="transitionend",Hr="animation",qr="animationend";
Ur&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr="WebkitTransition",zr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Hr="WebkitAnimation",qr="webkitAnimationEnd"));var Vr=mi&&window.requestAnimationFrame||setTimeout,$r=/\b(transform|all)(,|$)/,Zr=u(function(t){return{enterClass:t+"-enter",leaveClass:t+"-leave",appearClass:t+"-enter",enterToClass:t+"-enter-to",leaveToClass:t+"-leave-to",appearToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveActiveClass:t+"-leave-active",appearActiveClass:t+"-enter-active"}}),Jr=mi?{create:en,activate:en,remove:function(t,e){t.data.show?e():Je(t,e)}}:{},Qr=[Ir,Nr,Or,kr,Xr,Jr],ta=Qr.concat(Lr),ea=we({nodeOps:Sr,modules:ta});xi&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&un(t,"input")});var na={inserted:function(t,e,n){if("select"===n.tag){var o=function(){nn(t,e,n.context)};o(),(_i||wi)&&setTimeout(o,0)}else"textarea"!==n.tag&&"text"!==t.type||(t._vModifiers=e.modifiers,e.modifiers.lazy||(Pi||(t.addEventListener("compositionstart",an),t.addEventListener("compositionend",sn)),xi&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){nn(t,e,n.context);var o=t.multiple?e.value.some(function(e){return on(e,t.options)}):e.value!==e.oldValue&&on(e.value,t.options);o&&un(t,"change")}}},oa={bind:function(t,e,n){var o=e.value;n=hn(n);var i=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;o&&i&&!xi?(n.data.show=!0,Ze(n,function(){t.style.display=r})):t.style.display=o?r:"none"},update:function(t,e,n){var o=e.value,i=e.oldValue;if(o!==i){n=hn(n);var r=n.data&&n.data.transition;r&&!xi?(n.data.show=!0,o?Ze(n,function(){t.style.display=t.__vOriginalDisplay}):Je(n,function(){t.style.display="none"})):t.style.display=o?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,o,i){i||(t.style.display=t.__vOriginalDisplay)}},ia={model:na,show:oa},ra={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String},aa={name:"transition",props:ra,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag}),n.length)){var o=this.mode,i=n[0];if(fn(this.$vnode))return i;var r=pn(i);if(!r)return i;if(this._leaving)return cn(t,i);var a=r.key=null==r.key||r.isStatic?"__v"+(r.tag+this._uid)+"__":r.key,s=(r.data||(r.data={})).transition=ln(this),u=this._vnode,h=pn(u);if(r.data.directives&&r.data.directives.some(function(t){return"show"===t.name})&&(r.data.show=!0),h&&h.data&&!dn(r,h)){var p=h&&(h.data.transition=l({},s));if("out-in"===o)return this._leaving=!0,st(p,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()},a),cn(t,i);if("in-out"===o){var c,f=function(){c()};st(s,"afterEnter",f,a),st(s,"enterCancelled",f,a),st(p,"delayLeave",function(t){c=t},a)}}return i}}},sa=l({tag:String,moveClass:String},ra);delete sa.mode;var ua={props:sa,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),o=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=ln(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))r.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(o){for(var h=[],p=[],l=0;l<o.length;l++){var c=o[l];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?h.push(c):p.push(c)}this.kept=t(e,null,h),this.removed=p}return t(e,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(yn),t.forEach(vn),t.forEach(gn);document.body.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,o=n.style;We(n,e),o.transform=o.WebkitTransform=o.transitionDuration="",n.addEventListener(zr,n._moveCb=function t(o){o&&!/transform$/.test(o.propertyName)||(n.removeEventListener(zr,t),n._moveCb=null,ze(n,e))})}})}},methods:{hasMove:function(t,e){if(!Ur)return!1;if(null!=this._hasMove)return this._hasMove;We(t,e);var n=qe(t);return ze(t,e),this._hasMove=n.hasTransform}}},ha={Transition:aa,TransitionGroup:ua};Gt.config.isUnknownElement=oe,Gt.config.isReservedTag=wr,Gt.config.getTagNamespace=ne,Gt.config.mustUseProp=lr,l(Gt.options.directives,ia),l(Gt.options.components,ha),Gt.prototype.__patch__=mi?ea:y,Gt.prototype.$mount=function(t,e){return t=t&&mi?ie(t):void 0,this._mount(t,e)},setTimeout(function(){yi.devtools&&Mi&&Mi.emit("init",Gt)},0);var pa,la=!!mi&&mn("\n","&#10;"),ca=i("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr",!0),fa=i("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source",!0),da=i("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track",!0),ya=/([^\s"'<>\/=]+)/,va=/(?:=)/,ga=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],ma=new RegExp("^\\s*"+ya.source+"(?:\\s*("+va.source+")\\s*(?:"+ga.join("|")+"))?"),ba="[a-zA-Z_][\\w\\-\\.]*",_a="((?:"+ba+"\\:)?"+ba+")",xa=new RegExp("^<"+_a),wa=/^\s*(\/?)>/,Pa=new RegExp("^<\\/"+_a+"[^>]*>"),Sa=/^<!DOCTYPE [^>]+>/i,Ca=/^<!--/,Ma=/^<!\[/,Ta=!1;"x".replace(/x(.)?/g,function(t,e){Ta=""===e});var Aa,Ea,La,Ia,Na,Oa,ka,Ra,Da,Fa,ja,Ka,Ba,Xa,Ua,Ya,Ga,Wa,za,Ha,qa,Va,$a,Za,Ja,Qa=i("script,style",!0),ts=function(t){return"lang"===t.name&&"html"!==t.value},es=function(t,e,n){return!!Qa(t)||!(!e||1!==n.length)&&!("template"===t&&!n[0].attrs.some(ts))},ns={},os=/&lt;/g,is=/&gt;/g,rs=/&#10;/g,as=/&amp;/g,ss=/&quot;/g,us=/\{\{((?:.|\n)+?)\}\}/g,hs=/[-.*+?^${}()|[\]\/\\]/g,ps=u(function(t){var e=t[0].replace(hs,"\\$&"),n=t[1].replace(hs,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),ls=/^v-|^@|^:/,cs=/(.*?)\s+(?:in|of)\s+(.*)/,fs=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,ds=/^:|^v-bind:/,ys=/^@|^v-on:/,vs=/:(.*)$/,gs=/\.[^.]+/g,ms=u(bn),bs=/^xmlns:NS\d+/,_s=/^NS\d+:/,xs=u(ro),ws=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Ps=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Ss={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Cs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:"if($event.target !== $event.currentTarget)return;",ctrl:"if(!$event.ctrlKey)return;",shift:"if(!$event.shiftKey)return;",alt:"if(!$event.altKey)return;",meta:"if(!$event.metaKey)return;"},Ms={bind:vo,cloak:y},Ts=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),{staticKeys:["staticClass"],transformNode:Bo,genData:Xo}),As={staticKeys:["staticStyle"],transformNode:Uo,genData:Yo},Es=[Ts,As],Ls={model:Go,text:$o,html:Zo},Is=Object.create(null),Ns={expectHTML:!0,modules:Es,staticKeys:v(Es),directives:Ls,isReservedTag:wr,isUnaryTag:ca,mustUseProp:lr,getTagNamespace:ne,isPreTag:xr},Os=u(function(t){var e=ie(t);return e&&e.innerHTML}),ks=Gt.prototype.$mount;Gt.prototype.$mount=function(t,e){if(t=t&&ie(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var o=n.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=Os(o));else{if(!o.nodeType)return this;o=o.innerHTML}else t&&(o=ei(t));if(o){var i=Qo(o,{warn:Ei,shouldDecodeNewlines:la,delimiters:n.delimiters},this),r=i.render,a=i.staticRenderFns;n.render=r,n.staticRenderFns=a}}return ks.call(this,t,e)},Gt.compile=Qo,t.exports=Gt}).call(e,function(){return this}())},,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(125),r=o(i);e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(124),r=o(i),a=n(123),s=o(a);e.default=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,u=(0,s.default)(t);!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(128),r=o(i),a=n(127),s=o(a),u="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(r.default)?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var o=n(20),i=n(7).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){t.exports=!n(6)&&!n(16)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(21),i=n(3)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},function(t,e,n){var o=n(45);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(15);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var o=n(76),i=n(46).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e,n){var o=n(17),i=n(18),r=n(142)(!1),a=n(54)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,h=[];for(n in s)n!=a&&o(s,n)&&h.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){var o=n(13);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:o(t,i,e[i]);return t}},function(t,e,n){t.exports=n(13)},function(t,e){},function(t,e,n){var o,i;!function(r,a){o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},o=n[t]=n[t]||{};return o[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return o!=-1&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=0,i=n[o];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];i;){var a=r&&r[i];a&&(this.off(t,i),delete r[i]),i.apply(this,e),o+=a?0:1,i=n[o]}return this}},t})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function r(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var p,l,c=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var f,d=[],y=!1,v=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(129),__esModule:!0}},function(t,e,n){t.exports={default:n(130),__esModule:!0}},function(t,e,n){t.exports={default:n(131),__esModule:!0}},function(t,e,n){t.exports={default:n(134),__esModule:!0}},function(t,e,n){t.exports={default:n(136),__esModule:!0}},function(t,e,n){t.exports={default:n(137),__esModule:!0}},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){n(27),n(166),t.exports=n(2).Array.from},function(t,e,n){n(38),n(27),t.exports=n(164)},function(t,e,n){n(38),n(27),t.exports=n(165)},function(t,e,n){var o=n(2),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(168),t.exports=n(2).Object.assign},function(t,e,n){n(169);var o=n(2).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){n(170),t.exports=n(2).Object.keys},function(t,e,n){n(79),n(27),n(38),n(171),n(173),t.exports=n(2).Set},function(t,e,n){n(172),n(79),n(174),n(175),t.exports=n(2).Symbol},function(t,e,n){n(27),n(38),t.exports=n(59).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var o=n(47);t.exports=function(t,e){var n=[];return o(t,!1,n.push,n,e),n}},function(t,e,n){var o=n(18),i=n(36),r=n(163);t.exports=function(t){return function(e,n,a){var s,u=o(e),h=i(u.length),p=r(a,h);if(t&&n!=n){for(;h>p;)if(s=u[p++],s!=s)return!0}else for(;h>p;p++)if((t||p in u)&&u[p]===n)return t||p||0;return!t&&-1}}},function(t,e,n){var o=n(24),i=n(48),r=n(26),a=n(36),s=n(145);t.exports=function(t,e){var n=1==t,u=2==t,h=3==t,p=4==t,l=6==t,c=5==t||l,f=e||s;return function(e,s,d){for(var y,v,g=r(e),m=i(g),b=o(s,d,3),_=a(m.length),x=0,w=n?f(e,_):u?f(e,0):void 0;_>x;x++)if((c||x in m)&&(y=m[x],v=b(y,x,g),t))if(n)w[x]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:w.push(y)}else if(p)return!1;return l?-1:h||p?p:w}}},function(t,e,n){var o=n(20),i=n(72),r=n(3)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var o=n(144);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){"use strict";var o=n(5).f,i=n(52),r=n(77),a=n(24),s=n(68),u=n(33),h=n(47),p=n(49),l=n(74),c=n(161),f=n(6),d=n(51).fastKey,y=f?"_s":"size",v=function(t,e){var n,o=d(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,p){var l=t(function(t,o){s(t,l,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=o&&h(o,n,t[p],t)});return r(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,n=v(e,t);if(n){var o=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),e._f==n&&(e._f=o),e._l==n&&(e._l=i),e[y]--}return!!n},forEach:function(t){s(this,l,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),f&&o(l.prototype,"size",{get:function(){return u(this[y])}}),l},def:function(t,e,n){var o,i,r=v(t,e);return r?r.v=n:(t._l=r={i:i=d(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=r),o&&(o.n=r),t[y]++,"F"!==i&&(t._i[i]=r)),t},getEntry:v,setStrong:function(t,e,n){p(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var o=n(44),i=n(141);t.exports=function(t){return function(){if(o(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){"use strict";var o=n(7),i=n(12),r=n(51),a=n(16),s=n(13),u=n(77),h=n(47),p=n(68),l=n(20),c=n(35),f=n(5).f,d=n(143)(0),y=n(6);t.exports=function(t,e,n,v,g,m){var b=o[t],_=b,x=g?"set":"add",w=_&&_.prototype,P={};return y&&"function"==typeof _&&(m||w.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){p(e,_,t,"_c"),e._c=new b,void 0!=n&&h(n,g,e[x],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!m||"clear"!=t)&&s(_.prototype,t,function(n,o){if(p(this,_,t),!e&&m&&!l(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,o);return e?this:i})}),"size"in w&&f(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(e,t,g,x),u(_.prototype,n),r.NEED=!0),c(_,t),P[t]=_,i(i.G+i.W+i.F,P),m||v.setStrong(_,t,g),_}},function(t,e,n){"use strict";var o=n(5),i=n(25);t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var o=n(22),i=n(53),r=n(34);t.exports=function(t){var e=o(t),n=i.f;if(n)for(var a,s=n(t),u=r.f,h=0;s.length>h;)u.call(t,a=s[h++])&&e.push(a);return e}},function(t,e,n){t.exports=n(7).document&&document.documentElement},function(t,e,n){"use strict";var o=n(52),i=n(25),r=n(35),a={};n(13)(a,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var o=n(3)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){var o=n(22),i=n(18);t.exports=function(t,e){for(var n,r=i(t),a=o(r),s=a.length,u=0;s>u;)if(r[n=a[u++]]===e)return n}},function(t,e,n){"use strict";var o=n(22),i=n(53),r=n(34),a=n(26),s=n(48),u=Object.assign;t.exports=!u||n(16)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,h=1,p=i.f,l=r.f;u>h;)for(var c,f=s(arguments[h++]),d=p?o(f).concat(p(f)):o(f),y=d.length,v=0;y>v;)l.call(f,c=d[v++])&&(n[c]=f[c]);return n}:u},function(t,e,n){var o=n(5),i=n(15),r=n(22);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,a=r(e),s=a.length,u=0;s>u;)o.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var o=n(34),i=n(25),r=n(18),a=n(57),s=n(17),u=n(70),h=Object.getOwnPropertyDescriptor;e.f=n(6)?h:function(t,e){if(t=r(t),e=a(e,!0),u)try{return h(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(18),i=n(75).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):i(o(t))}},function(t,e,n){var o=n(17),i=n(26),r=n(54)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(12),i=n(2),r=n(16);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var o=n(7),i=n(2),r=n(5),a=n(6),s=n(3)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:o[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(56),i=n(33);t.exports=function(t){return function(e,n){var r,a,s=String(i(e)),u=o(n),h=s.length;return u<0||u>=h?t?"":void 0:(r=s.charCodeAt(u),r<55296||r>56319||u+1===h||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):r:t?s.slice(u,u+2):(r-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var o=n(56),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(15),i=n(60);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,n){var o=n(44),i=n(3)("iterator"),r=n(21);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,n){"use strict";var o=n(24),i=n(12),r=n(26),a=n(73),s=n(71),u=n(36),h=n(149),p=n(60);i(i.S+i.F*!n(153)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,c=r(t),f="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=p(c);if(v&&(y=o(y,d>2?arguments[2]:void 0,2)),void 0==m||f==Array&&s(m))for(e=u(c.length),n=new f(e);e>g;g++)h(n,g,v?y(c[g],g):c[g]);else for(l=m.call(c),n=new f;!(i=l.next()).done;g++)h(n,g,v?a(l,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var o=n(140),i=n(74),r=n(21),a=n(18);t.exports=n(49)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(12);o(o.S+o.F,"Object",{assign:n(155)})},function(t,e,n){var o=n(12);o(o.S+o.F*!n(6),"Object",{defineProperty:n(5).f})},function(t,e,n){var o=n(26),i=n(22);n(160)("keys",function(){return function(t){return i(o(t))}})},function(t,e,n){"use strict";var o=n(146);t.exports=n(148)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(this,t=0===t?0:t,t)}},o)},function(t,e,n){"use strict";var o=n(7),i=n(17),r=n(6),a=n(12),s=n(78),u=n(51).KEY,h=n(16),p=n(55),l=n(35),c=n(37),f=n(3),d=n(59),y=n(58),v=n(154),g=n(150),m=n(72),b=n(15),_=n(18),x=n(57),w=n(25),P=n(52),S=n(158),C=n(157),M=n(5),T=n(22),A=C.f,E=M.f,L=S.f,I=o.Symbol,N=o.JSON,O=N&&N.stringify,k="prototype",R=f("_hidden"),D=f("toPrimitive"),F={}.propertyIsEnumerable,j=p("symbol-registry"),K=p("symbols"),B=p("op-symbols"),X=Object[k],U="function"==typeof I,Y=o.QObject,G=!Y||!Y[k]||!Y[k].findChild,W=r&&h(function(){return 7!=P(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=A(X,e);o&&delete X[e],E(t,e,n),o&&t!==X&&E(X,e,o)}:E,z=function(t){var e=K[t]=P(I[k]);return e._k=t,e},H=U&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},q=function(t,e,n){return t===X&&q(B,e,n),b(t),e=x(e,!0),b(n),i(K,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=P(n,{enumerable:w(0,!1)})):(i(t,R)||E(t,R,w(1,{})),t[R][e]=!0),W(t,e,n)):E(t,e,n)},V=function(t,e){b(t);for(var n,o=g(e=_(e)),i=0,r=o.length;r>i;)q(t,n=o[i++],e[n]);return t},$=function(t,e){return void 0===e?P(t):V(P(t),e)},Z=function(t){var e=F.call(this,t=x(t,!0));return!(this===X&&i(K,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(K,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=_(t),e=x(e,!0),t!==X||!i(K,e)||i(B,e)){var n=A(t,e);return!n||!i(K,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=L(_(t)),o=[],r=0;n.length>r;)i(K,e=n[r++])||e==R||e==u||o.push(e);return o},tt=function(t){for(var e,n=t===X,o=L(n?B:_(t)),r=[],a=0;o.length>a;)!i(K,e=o[a++])||n&&!i(X,e)||r.push(K[e]);return r};U||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===X&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),W(this,t,w(1,n))};return r&&G&&W(X,t,{configurable:!0,set:e}),z(t)},s(I[k],"toString",function(){return this._k}),C.f=J,M.f=q,n(75).f=S.f=Q,n(34).f=Z,n(53).f=tt,r&&!n(50)&&s(X,"propertyIsEnumerable",Z,!0),d.f=function(t){return z(f(t))}),a(a.G+a.W+a.F*!U,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var et=T(f.store),nt=0;et.length>nt;)y(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=I(t)},keyFor:function(t){if(H(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:q,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!U||h(function(){var t=I();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);return e=o[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),o[1]=e,O.apply(N,o)}}}),I[k][D]||n(13)(I[k],D,I[k].valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(t,e,n){var o=n(12);o(o.P+o.R,"Set",{toJSON:n(147)("Set")})},function(t,e,n){n(58)("asyncIterator")},function(t,e,n){n(58)("observable")},,,,,,,,,,,,,function(t,e,n){function o(t,e,n,o){o?(e(o),n&&n(o)):(t(s),n&&n(void 0,s))}var i,r=n(198),a=n(194),s=null,u=[];window.$$mapsCB=function(){s=google.maps;for(var t=0,e=u.length;t<e;t++)o.apply(void 0,u[t])},t.exports=function(t,e,n){return i=t||i,"function"==typeof e&&(n=e,e=[]),function(){return new a(function(t,a){if(i){if(s)o(t,a,n);else if(u.push([t,a,n]),1==u.length){var h="";"string"==typeof i?h="&key="+i:"object"==typeof i&&(h="&"+Object.keys(i).map(function(t){return t+"="+encodeURIComponent(i[t])}).join("&"));var p="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+h;Array.isArray(e)&&e.length>0&&(p+="&libraries="+e.join(",")),r(p)}}else o(t,a,n,new Error("No API key passed to require('google-maps-api')"))})}}},function(t,e,n){var o,i;!function(r,a){o=[n(80),n(202)],i=function(t,e){return a(r,t,e)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e,n){function o(t,e){if(t=s(t),!t)throw"Bad element for Huebee: "+t;this.anchor=t,this.options={},this.option(o.defaults),this.option(e),this.create()}function i(){for(var t=document.querySelectorAll("[data-huebee]"),e=0;e<t.length;e++){var n,i=t[e],r=i.getAttribute("data-huebee");try{n=r&&JSON.parse(r)}catch(t){x&&x.error("Error parsing data-huebee on "+i.className+": "+t);continue}new o(i,n)}}function r(t){S.clearRect(0,0,1,1),S.fillStyle="#010203",S.fillStyle=t,S.fillRect(0,0,1,1);var e=S.getImageData(0,0,1,1).data;if(e=[e[0],e[1],e[2],e[3]],"1,2,3,255"!=e.join(",")){var n=p.apply(this,e);return{color:t.trim(),hue:n[0],sat:n[1],lum:n[2]}}}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function u(t,e,n){var o=h(t,e,n);return l(o)}function h(t,e,n){var o,i,r=(1-Math.abs(2*n-1))*e,a=t/60,s=r*(1-Math.abs(a%2-1));switch(Math.floor(a)){case 0:o=[r,s,0];break;case 1:o=[s,r,0];break;case 2:o=[0,r,s];break;case 3:o=[0,s,r];break;case 4:o=[s,0,r];break;case 5:o=[r,0,s];break;default:o=[0,0,0]}return i=n-r/2,o=o.map(function(t){return t+i})}function p(t,e,n){t/=255,e/=255,n/=255;var o,i=Math.max(t,e,n),r=Math.min(t,e,n),a=i-r,s=.5*(i+r),u=0===a?0:a/(1-Math.abs(2*s-1));0===a?o=0:i===t?o=(e-n)/a%6:i===e?o=(n-t)/a+2:i===n&&(o=(t-e)/a+4);var h=60*o;return[h,parseFloat(u),parseFloat(s)]}function l(t){var e=t.map(function(t){t=Math.round(255*t);var e=t.toString(16).toUpperCase();return e=e.length<2?"0"+e:e});return"#"+e.join("")}function c(t){return"#"+t[1]+t[3]+t[5]}o.defaults={hues:12,hue0:0,shades:5,saturations:3,notation:"shortHex",setText:!0,setBGColor:!0};var f=o.prototype=Object.create(e.prototype);f.option=function(t){this.options=a(this.options,t)};var d=0,y={};f.create=function(){function t(t){t.target==o&&t.preventDefault()}var e=this.guid=++d;this.anchor.huebeeGUID=e,y[e]=this,this.setBGElems=this.getSetElems(this.options.setBGColor),this.setTextElems=this.getSetElems(this.options.setText),this.outsideCloseIt=this.outsideClose.bind(this),this.onDocKeydown=this.docKeydown.bind(this),this.closeIt=this.close.bind(this),this.openIt=this.open.bind(this),this.onElemTransitionend=this.elemTransitionend.bind(this),this.isInputAnchor="INPUT"==this.anchor.nodeName,this.options.staticOpen||(this.anchor.addEventListener("click",this.openIt),this.anchor.addEventListener("focus",this.openIt)),this.isInputAnchor&&this.anchor.addEventListener("input",this.inputInput.bind(this));var n=this.element=document.createElement("div");n.className="huebee ",n.className+=this.options.staticOpen?"is-static-open ":"is-hidden ",n.className+=this.options.className||"";var o=this.container=document.createElement("div");if(o.className="huebee__container",o.addEventListener("mousedown",t),o.addEventListener("touchstart",t),this.createCanvas(),this.cursor=document.createElement("div"),this.cursor.className="huebee__cursor is-hidden",o.appendChild(this.cursor),this.createCloseButton(),n.appendChild(o),!this.options.staticOpen){var i=getComputedStyle(this.anchor.parentNode);"relative"!=i.position&&"absolute"!=i.position&&(this.anchor.parentNode.style.position="relative")}var r=this.options.hues,a=this.options.customColors,s=a&&a.length;this.satY=s?Math.ceil(s/r)+1:0,this.updateColors(),this.setAnchorColor(),this.options.staticOpen&&this.open()},f.getSetElems=function(t){return t===!0?[this.anchor]:"string"==typeof t?document.querySelectorAll(t):void 0},f.createCanvas=function(){var t=this.canvas=document.createElement("canvas");t.className="huebee__canvas",this.ctx=t.getContext("2d");var e=this.canvasPointer=new n;e._bindStartEvent(t),e.on("pointerDown",this.canvasPointerDown.bind(this)),e.on("pointerMove",this.canvasPointerMove.bind(this)),this.container.appendChild(t)};var v="http://www.w3.org/2000/svg";f.createCloseButton=function(){if(!this.options.staticOpen){var t=document.createElementNS(v,"svg");t.setAttribute("class","huebee__close-button"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","24"),t.setAttribute("height","24");var e=document.createElementNS(v,"path");e.setAttribute("d","M 7,7 L 17,17 M 17,7 L 7,17"),e.setAttribute("class","huebee__close-button__x"),t.appendChild(e),t.addEventListener("click",this.closeIt),this.container.appendChild(t)}},f.updateColors=function(){this.swatches={},this.colorGrid={},this.updateColorModer();var t=this.options.shades,e=this.options.saturations,n=this.options.hues,o=this.options.customColors;if(o&&o.length){var i=0;o.forEach(function(t){var e=i%n,o=Math.floor(i/n),a=r(t);a&&(this.addSwatch(a,e,o),i++)}.bind(this))}for(var a=0;a<e;a++){var s=1-a/e,u=t*a+this.satY;this.updateSaturationGrid(a,s,u)}for(a=0;a<t+2;a++){var h=1-a/(t+1),p=this.colorModer(0,0,h),l=r(p);this.addSwatch(l,n+1,a)}},f.updateSaturationGrid=function(t,e,n){for(var o=this.options.shades,i=this.options.hues,a=this.options.hue0,s=0;s<o;s++)for(var u=0;u<i;u++){var h=Math.round(360*u/i+a)%360,p=1-(s+1)/(o+1),l=this.colorModer(h,e,p),c=r(l),f=s+n;
this.addSwatch(c,u,f)}},f.addSwatch=function(t,e,n){this.swatches[e+","+n]=t,this.colorGrid[t.color.toUpperCase()]={x:e,y:n}};var g={hsl:function(t,e,n){return e=Math.round(100*e),n=Math.round(100*n),"hsl("+t+", "+e+"%, "+n+"%)"},hex:u,shortHex:function(t,e,n){var o=u(t,e,n);return c(o)}};f.updateColorModer=function(){this.colorModer=g[this.options.notation]||g.shortHex},f.renderColors=function(){var t=2*this.gridSize;for(var e in this.swatches){var n=this.swatches[e],o=e.split(","),i=o[0],r=o[1];this.ctx.fillStyle=n.color,this.ctx.fillRect(i*t,r*t,t,t)}},f.setAnchorColor=function(){this.isInputAnchor&&this.setColor(this.anchor.value)};var m=document.documentElement;f.open=function(){if(!this.isOpen){var t=this.anchor,e=this.element;this.options.staticOpen||(e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+t.offsetHeight+"px"),this.bindOpenEvents(!0),e.removeEventListener("transitionend",this.onElemTransitionend),t.parentNode.insertBefore(e,t.nextSibling);var n=getComputedStyle(e).transitionDuration;this.hasTransition=n&&"none"!=n&&parseFloat(n),this.isOpen=!0,this.updateSizes(),this.renderColors(),this.setAnchorColor();e.offsetHeight;e.classList.remove("is-hidden")}},f.bindOpenEvents=function(t){if(!this.options.staticOpen){var e=(t?"add":"remove")+"EventListener";m[e]("mousedown",this.outsideCloseIt),m[e]("touchstart",this.outsideCloseIt),document[e]("focusin",this.outsideCloseIt),document[e]("keydown",this.onDocKeydown),this.anchor[e]("blur",this.closeIt)}},f.updateSizes=function(){var t=this.options.hues,e=this.options.shades,n=this.options.saturations;this.cursorBorder=parseInt(getComputedStyle(this.cursor).borderTopWidth,10),this.gridSize=Math.round(this.cursor.offsetWidth-2*this.cursorBorder),this.canvasOffset={x:this.canvas.offsetLeft,y:this.canvas.offsetTop};var o=Math.max(e*n+this.satY,e+2),i=this.gridSize*(t+2);this.canvas.width=2*i,this.canvas.style.width=i+"px",this.canvas.height=this.gridSize*o*2},f.outsideClose=function(t){var e=this.anchor.contains(t.target),n=this.element.contains(t.target);e||n||this.close()};var b={13:!0,27:!0};f.docKeydown=function(t){b[t.keyCode]&&this.close()};var _="string"==typeof m.style.transform;f.close=function(){this.isOpen&&(_&&this.hasTransition?this.element.addEventListener("transitionend",this.onElemTransitionend):this.remove(),this.element.classList.add("is-hidden"),this.bindOpenEvents(!1),this.isOpen=!1)},f.remove=function(){var t=this.element.parentNode;t.contains(this.element)&&t.removeChild(this.element)},f.elemTransitionend=function(t){t.target==this.element&&(this.element.removeEventListener("transitionend",this.onElemTransitionend),this.remove())},f.inputInput=function(){this.setColor(this.anchor.value)},f.canvasPointerDown=function(t,e){t.preventDefault(),this.updateOffset(),this.canvasPointerChange(e)},f.updateOffset=function(){var e=this.canvas.getBoundingClientRect();this.offset={x:e.left+t.pageXOffset,y:e.top+t.pageYOffset}},f.canvasPointerMove=function(t,e){this.canvasPointerChange(e)},f.canvasPointerChange=function(t){var e=Math.round(t.pageX-this.offset.x),n=Math.round(t.pageY-this.offset.y),o=this.gridSize,i=Math.floor(e/o),r=Math.floor(n/o),a=this.swatches[i+","+r];this.setSwatch(a)},f.setColor=function(t){var e=r(t);this.setSwatch(e)},f.setSwatch=function(t){var e=t&&t.color;if(t){var n=e==this.color;this.color=e,this.hue=t.hue,this.sat=t.sat,this.lum=t.lum;var o=this.lum-.15*Math.cos((this.hue+70)/180*Math.PI);this.isLight=o>.5;var i=this.colorGrid[e.toUpperCase()];this.updateCursor(i),this.setTexts(),this.setBackgrounds(),n||this.emitEvent("change",[e,t.hue,t.sat,t.lum])}},f.setTexts=function(){if(this.setTextElems)for(var t=0;t<this.setTextElems.length;t++){var e=this.setTextElems[t],n="INPUT"==e.nodeName?"value":"textContent";e[n]=this.color}},f.setBackgrounds=function(){if(this.setBGElems)for(var t=this.isLight?"#222":"white",e=0;e<this.setBGElems.length;e++){var n=this.setBGElems[e];n.style.backgroundColor=this.color,n.style.color=t}},f.updateCursor=function(t){if(this.isOpen){var e=t?"remove":"add";if(this.cursor.classList[e]("is-hidden"),t){var n=this.gridSize,o=this.canvasOffset,i=this.cursorBorder;this.cursor.style.left=t.x*n+o.x-i+"px",this.cursor.style.top=t.y*n+o.y-i+"px"}}};var x=t.console,w=document.readyState;"complete"==w||"interactive"==w?i():document.addEventListener("DOMContentLoaded",i),o.data=function(t){t=s(t);var e=t&&t.huebeeGUID;return e&&y[e]};var P=document.createElement("canvas");P.width=P.height=1;var S=P.getContext("2d");return o})},function(t,e){"use strict";function n(t,e,n){ie.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new n(null)}function i(t,e,n,o,i,r){for(;--r>=0;){var a=e*this[t++]+n[o]+i;i=Math.floor(a/67108864),n[o++]=67108863&a}return i}function r(t,e,n,o,i,r){for(var a=32767&e,s=e>>15;--r>=0;){var u=32767&this[t],h=this[t++]>>15,p=s*u+h*a;u=a*u+((32767&p)<<15)+n[o]+(1073741823&i),i=(u>>>30)+(p>>>15)+s*h+(i>>>30),n[o++]=1073741823&u}return i}function a(t,e,n,o,i,r){for(var a=16383&e,s=e>>14;--r>=0;){var u=16383&this[t],h=this[t++]>>14,p=s*u+h*a;u=a*u+((16383&p)<<14)+n[o]+i,i=(u>>28)+(p>>14)+s*h,n[o++]=268435455&u}return i}function s(t){return ye.charAt(t)}function u(t,e){var n=ve[t.charCodeAt(e)];return null==n?-1:n}function h(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function p(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=o();return e.fromInt(t),e}function c(t,e){var o;if(16==e)o=4;else if(8==e)o=3;else if(256==e)o=8;else if(2==e)o=1;else if(32==e)o=5;else{if(4!=e)return void this.fromRadix(t,e);o=2}this.t=0,this.s=0;for(var i=t.length,r=!1,a=0;--i>=0;){var s=8==o?255&t[i]:u(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==a?this[this.t++]=s:a+o>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&n.ZERO.subTo(this,this)}function f(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,o=(1<<e)-1,i=!1,r="",a=this.t,u=this.DB-a*this.DB%e;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(i=!0,r=s(n));a>=0;)u<e?(n=(this[a]&(1<<u)-1)<<e-u,n|=this[--a]>>(u+=this.DB-e)):(n=this[a]>>(u-=e)&o,u<=0&&(u+=this.DB,--a)),n>0&&(i=!0),i&&(r+=s(n));return i?r:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function v(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function _(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function w(t,e){var n,o=t%this.DB,i=this.DB-o,r=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&r)<<o;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function P(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var o=t%this.DB,i=this.DB-o,r=(1<<o)-1;e[0]=this[n]>>o;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&r)<<i,e[a-n]=this[a]>>o;o>0&&(e[this.t-n-1]|=(this.s&r)<<i),e.t=this.t-n,e.clamp()}function S(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function C(t,e){var o=this.abs(),i=t.abs(),r=o.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+o.t]=o.am(0,i[r],e,r,0,o.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function M(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function T(t,e,i){var r=t.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var s=o(),u=this.s,h=t.s,p=this.DB-m(r[r.t-1]);p>0?(r.lShiftTo(p,s),a.lShiftTo(p,i)):(r.copyTo(s),a.copyTo(i));var l=s.t,c=s[l-1];if(0!=c){var f=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/f,y=(1<<this.F1)/f,v=1<<this.F2,g=i.t,b=g-l,_=null==e?o():e;for(s.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(l,_),_.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var x=i[--g]==c?this.DM:Math.floor(i[g]*d+(i[g-1]+v)*y);if((i[g]+=s.am(0,x,i,b,0,l))<x)for(s.dlShiftTo(b,_),i.subTo(_,i);i[g]<--x;)i.subTo(_,i)}null!=e&&(i.drShiftTo(l,e),u!=h&&n.ZERO.subTo(e,e)),i.t=l,i.clamp(),p>0&&i.rShiftTo(p,i),u<0&&n.ZERO.subTo(i,i)}}}function A(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function E(t){this.m=t}function L(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function N(t){t.divRemTo(this.m,null,t)}function O(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function k(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function D(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function F(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function j(t){var e=o();return t.copyTo(e),this.reduce(e),e}function K(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function B(t,e){t.squareTo(e),this.reduce(e)}function X(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function Y(t,e){if(t>4294967295||t<1)return n.ONE;var i=o(),r=o(),a=e.convert(this),s=m(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,r),(t&1<<s)>0)e.mulTo(r,a,i);else{var u=i;i=r,r=u}return e.revert(i)}function G(t,e){var n;return n=t<256||e.isEven()?new E(e):new D(e),this.exp(t,n)}function W(){var t=o();return this.copyTo(t),t}function z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function V(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),r=o(),a=o(),s="";for(this.divRemTo(i,r,a);r.signum()>0;)s=(n+a.intValue()).toString(t).substr(1)+s,r.divRemTo(i,r,a);return a.intValue().toString(t)+s}function J(t,e){this.fromInt(0),null==e&&(e=10);for(var o=this.chunkSize(e),i=Math.pow(e,o),r=!1,a=0,s=0,h=0;h<t.length;++h){var p=u(t,h);p<0?"-"==t.charAt(h)&&0==this.signum()&&(r=!0):(s=e*s+p,++a>=o&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),r&&n.ZERO.subTo(this,this)}function Q(t,e,o){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,o=this.DB-t*this.DB%8,i=0;if(t-- >0)for(o<this.DB&&(n=this[t]>>o)!=(this.s&this.DM)>>o&&(e[i++]=n|this.s<<this.DB-o);t>=0;)o<8?(n=(this[t]&(1<<o)-1)<<8-o,n|=this[--t]>>(o+=this.DB-8)):(n=this[t]>>(o-=8)&255,o<=0&&(o+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function ot(t){return this.compareTo(t)>0?this:t}function it(t,e,n){var o,i,r=Math.min(t.t,this.t);for(o=0;o<r;++o)n[o]=e(this[o],t[o]);if(t.t<this.t){for(i=t.s&this.DM,o=r;o<this.t;++o)n[o]=e(this[o],i);n.t=this.t}else{for(i=this.s&this.DM,o=r;o<t.t;++o)n[o]=e(i,t[o]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function rt(t,e){return t&e}function at(t){var e=o();return this.bitwiseTo(t,rt,e),e}function st(t,e){return t|e}function ut(t){var e=o();return this.bitwiseTo(t,st,e),e}function ht(t,e){return t^e}function pt(t){var e=o();return this.bitwiseTo(t,ht,e),e}function lt(t,e){return t&~e}function ct(t){var e=o();return this.bitwiseTo(t,lt,e),e}function ft(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function vt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+vt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=mt(this[n]^e);return t}function _t(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,e){var o=n.ONE.shiftLeft(t);return this.bitwiseTo(o,e,o),o}function wt(t){return this.changeBit(t,st)}function Pt(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ht)}function Ct(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function Mt(t){var e=o();return this.addTo(t,e),e}function Tt(t){var e=o();return this.subTo(t,e),e}function At(t){var e=o();return this.multiplyTo(t,e),e}function Et(){var t=o();return this.squareTo(t),t}function Lt(t){var e=o();return this.divRemTo(t,e,null),e}function It(t){var e=o();return this.divRemTo(t,null,e),e}function Nt(t){var e=o(),n=o();return this.divRemTo(t,e,n),new Array(e,n)}function Ot(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function kt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Rt(){}function Dt(t){return t}function Ft(t,e,n){t.multiplyTo(e,n)}function jt(t,e){t.squareTo(e)}function Kt(t){return this.exp(t,new Rt)}function Bt(t,e,n){var o=Math.min(this.t+t.t,e);for(n.s=0,n.t=o;o>0;)n[--o]=0;var i;for(i=n.t-this.t;o<i;++o)n[o+this.t]=this.am(0,t[o],n,o,0,this.t);for(i=Math.min(t.t,e);o<i;++o)this.am(0,t[o],n,o,0,e-o);n.clamp()}function Xt(t,e,n){--e;var o=n.t=this.t+t.t-e;for(n.s=0;--o>=0;)n[o]=0;for(o=Math.max(e-this.t,0);o<t.t;++o)n[this.t+o-e]=this.am(e-o,t[o],n,0,0,this.t+o-e);n.clamp(),n.drShiftTo(1,n)}function Ut(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Yt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e}function Gt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function zt(t,e){t.squareTo(e),this.reduce(e)}function Ht(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function qt(t,e){var n,i,r=t.bitLength(),a=l(1);if(r<=0)return a;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new E(e):e.isEven()?new Ut(e):new D(e);var s=new Array,u=3,h=n-1,p=(1<<n)-1;if(s[1]=i.convert(this),n>1){var c=o();for(i.sqrTo(s[1],c);u<=p;)s[u]=o(),i.mulTo(c,s[u-2],s[u]),u+=2}var f,d,y=t.t-1,v=!0,g=o();for(r=m(t[y])-1;y>=0;){for(r>=h?f=t[y]>>r-h&p:(f=(t[y]&(1<<r+1)-1)<<h-r,y>0&&(f|=t[y-1]>>this.DB+r-h)),u=n;0==(1&f);)f>>=1,--u;if((r-=u)<0&&(r+=this.DB,--y),v)s[f].copyTo(a),v=!1;else{for(;u>1;)i.sqrTo(a,g),i.sqrTo(g,a),u-=2;u>0?i.sqrTo(a,g):(d=a,a=g,g=d),i.mulTo(g,s[f],a)}for(;y>=0&&0==(t[y]&1<<r);)i.sqrTo(a,g),d=a,a=g,g=d,--r<0&&(r=this.DB-1,--y)}return i.revert(a)}function Vt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var o=e;e=n,n=o}var i=e.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function $t(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var o=this.t-1;o>=0;--o)n=(e*n+this[o])%t;return n}function Zt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var o=t.clone(),i=this.clone(),r=l(1),a=l(0),s=l(0),u=l(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),e?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);o.compareTo(i)>=0?(o.subTo(i,o),e&&r.subTo(s,r),a.subTo(u,a)):(i.subTo(o,i),e&&s.subTo(r,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Jt(t){var e,n=this.abs();if(1==n.t&&n[0]<=ge[ge.length-1]){for(e=0;e<ge.length;++e)if(n[0]==ge[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<ge.length;){for(var o=ge[e],i=e+1;i<ge.length&&o<me;)o*=ge[i++];for(o=n.modInt(o);e<i;)if(o%ge[e++]==0)return!1}return n.millerRabin(t)}function Qt(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);t=t+1>>1,t>ge.length&&(t=ge.length);for(var a=o(),s=0;s<t;++s){a.fromInt(ge[Math.floor(Math.random()*ge.length)]);var u=a.modPow(r,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var h=1;h++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}var te=!1,ee=!1,ne=!0,oe=!1,ie={},re=!1;"undefined"!=typeof t&&t.exports?(t.exports=ie,re=!0):"undefined"!=typeof document?window.ClipperLib=ie:self.ClipperLib=ie;var ae;if(re){var se="chrome";ae="Netscape"}else{var se=navigator.userAgent.toString().toLowerCase();ae=navigator.appName}var ue={};se.indexOf("chrome")!=-1&&se.indexOf("chromium")==-1?ue.chrome=1:ue.chrome=0,se.indexOf("chromium")!=-1?ue.chromium=1:ue.chromium=0,se.indexOf("safari")!=-1&&se.indexOf("chrome")==-1&&se.indexOf("chromium")==-1?ue.safari=1:ue.safari=0,se.indexOf("firefox")!=-1?ue.firefox=1:ue.firefox=0,se.indexOf("firefox/17")!=-1?ue.firefox17=1:ue.firefox17=0,se.indexOf("firefox/15")!=-1?ue.firefox15=1:ue.firefox15=0,se.indexOf("firefox/3")!=-1?ue.firefox3=1:ue.firefox3=0,se.indexOf("opera")!=-1?ue.opera=1:ue.opera=0,se.indexOf("msie 10")!=-1?ue.msie10=1:ue.msie10=0,se.indexOf("msie 9")!=-1?ue.msie9=1:ue.msie9=0,se.indexOf("msie 8")!=-1?ue.msie8=1:ue.msie8=0,se.indexOf("msie 7")!=-1?ue.msie7=1:ue.msie7=0,se.indexOf("msie ")!=-1?ue.msie=1:ue.msie=0,ie.biginteger_used=null;var he,pe=0xdeadbeefcafe,le=15715070==(16777215&pe);le&&"Microsoft Internet Explorer"==ae?(n.prototype.am=r,he=30):le&&"Netscape"!=ae?(n.prototype.am=i,he=26):(n.prototype.am=a,he=28),n.prototype.DB=he,n.prototype.DM=(1<<he)-1,n.prototype.DV=1<<he;var ce=52;n.prototype.FV=Math.pow(2,ce),n.prototype.F1=ce-he,n.prototype.F2=2*he-ce;var fe,de,ye="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(fe="0".charCodeAt(0),de=0;de<=9;++de)ve[fe++]=de;for(fe="a".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;for(fe="A".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;E.prototype.convert=L,E.prototype.revert=I,E.prototype.reduce=N,E.prototype.mulTo=O,E.prototype.sqrTo=k,D.prototype.convert=F,D.prototype.revert=j,D.prototype.reduce=K,D.prototype.mulTo=X,D.prototype.sqrTo=B,n.prototype.copyTo=h,n.prototype.fromInt=p,n.prototype.fromString=c,n.prototype.clamp=f,n.prototype.dlShiftTo=_,n.prototype.drShiftTo=x,n.prototype.lShiftTo=w,n.prototype.rShiftTo=P,n.prototype.subTo=S,n.prototype.multiplyTo=C,n.prototype.squareTo=M,n.prototype.divRemTo=T,n.prototype.invDigit=R,n.prototype.isEven=U,n.prototype.exp=Y,n.prototype.toString=d,n.prototype.negate=y,n.prototype.abs=v,n.prototype.compareTo=g,n.prototype.bitLength=b,n.prototype.mod=A,n.prototype.modPowInt=G,n.ZERO=l(0),n.ONE=l(1),Rt.prototype.convert=Dt,Rt.prototype.revert=Dt,Rt.prototype.mulTo=Ft,Rt.prototype.sqrTo=jt,Ut.prototype.convert=Yt,Ut.prototype.revert=Gt,Ut.prototype.reduce=Wt,Ut.prototype.mulTo=Ht,Ut.prototype.sqrTo=zt;var ge=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],me=(1<<26)/ge[ge.length-1];n.prototype.chunkSize=V,n.prototype.toRadix=Z,n.prototype.fromRadix=J,n.prototype.fromNumber=Q,n.prototype.bitwiseTo=it,n.prototype.changeBit=xt,n.prototype.addTo=Ct,n.prototype.dMultiply=Ot,n.prototype.dAddOffset=kt,n.prototype.multiplyLowerTo=Bt,n.prototype.multiplyUpperTo=Xt,n.prototype.modInt=$t,n.prototype.millerRabin=Qt,n.prototype.clone=W,n.prototype.intValue=z,n.prototype.byteValue=H,n.prototype.shortValue=q,n.prototype.signum=$,n.prototype.toByteArray=tt,n.prototype.equals=et,n.prototype.min=nt,n.prototype.max=ot,n.prototype.and=at,n.prototype.or=ut,n.prototype.xor=pt,n.prototype.andNot=ct,n.prototype.not=ft,n.prototype.shiftLeft=dt,n.prototype.shiftRight=yt,n.prototype.getLowestSetBit=gt,n.prototype.bitCount=bt,n.prototype.testBit=_t,n.prototype.setBit=wt,n.prototype.clearBit=Pt,n.prototype.flipBit=St,n.prototype.add=Mt,n.prototype.subtract=Tt,n.prototype.multiply=At,n.prototype.divide=Lt,n.prototype.remainder=It,n.prototype.divideAndRemainder=Nt,n.prototype.modPow=qt,n.prototype.modInverse=Zt,n.prototype.pow=Kt,n.prototype.gcd=Vt,n.prototype.isProbablePrime=Jt,n.prototype.square=Et;var be=n;if(be.prototype.IsNegative=function(){return this.compareTo(be.ZERO)==-1},be.op_Equality=function(t,e){return 0==t.compareTo(e)},be.op_Inequality=function(t,e){return 0!=t.compareTo(e)},be.op_GreaterThan=function(t,e){return t.compareTo(e)>0},be.op_LessThan=function(t,e){return t.compareTo(e)<0},be.op_Addition=function(t,e){return new be(t).add(new be(e))},be.op_Subtraction=function(t,e){return new be(t).subtract(new be(e))},be.Int128Mul=function(t,e){return new be(t).multiply(new be(e))},be.op_Division=function(t,e){return t.divide(e)},be.prototype.ToDouble=function(){return parseFloat(this.toString())},"undefined"==typeof _e)var _e=function(t,e){var n;if("undefined"==typeof Object.getOwnPropertyNames){for(n in e.prototype)"undefined"!=typeof t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var o=Object.getOwnPropertyNames(e.prototype),i=0;i<o.length;i++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,o[i])&&Object.defineProperty(t.prototype,o[i],Object.getOwnPropertyDescriptor(e.prototype,o[i]));for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}};ie.Path=function(){return[]},ie.Paths=function(){return[]},ie.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},ie.DoublePoint0=function(){this.X=0,this.Y=0},ie.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},ie.DoublePoint2=function(t,e){this.X=t,this.Y=e},ie.PolyNode=function(){this.m_Parent=null,this.m_polygon=new ie.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},ie.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},ie.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},ie.PolyNode.prototype.Contour=function(){return this.m_polygon},ie.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},ie.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},ie.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},ie.PolyNode.prototype.Childs=function(){return this.m_Childs},ie.PolyNode.prototype.Parent=function(){return this.m_Parent},ie.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},ie.PolyTree=function(){this.m_AllPolys=[],ie.PolyNode.call(this)},ie.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},ie.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},ie.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},_e(ie.PolyTree,ie.PolyNode),ie.Math_Abs_Int64=ie.Math_Abs_Int32=ie.Math_Abs_Double=function(t){return Math.abs(t)},ie.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},ue.msie||ue.opera||ue.safari?ie.Cast_Int32=function(t){return 0|t}:ie.Cast_Int32=function(t){return~~t},ue.chrome?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:ue.firefox&&"function"==typeof Number.toInteger?ie.Cast_Int64=function(t){return Number.toInteger(t)}:ue.msie7||ue.msie8?ie.Cast_Int64=function(t){return parseInt(t,10)}:ue.msie?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:ie.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},ie.Clear=function(t){t.length=0},ie.PI=3.141592653589793,ie.PI2=6.283185307179586,ie.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,ee)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y),this.Z=0}else{var o=t[0];"undefined"==typeof o.Z&&(o.Z=0),this.X=o.X,this.Y=o.Y,this.Z=o.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y)}else{var o=t[0];this.X=o.X,this.Y=o.Y}else this.X=0,this.Y=0},ie.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},ie.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},ee?(ie.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y),this.Z=0},ie.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},ie.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(ie.IntPoint0=function(){this.X=0,this.Y=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y)},ie.IntPoint2=function(t,e){this.X=t,this.Y=e}),ie.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},ie.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},ie.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},ie.IntRect4=function(t,e,n,o){this.left=t,this.top=e,this.right=n,this.bottom=o},ie.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},ie.PolyType={ptSubject:0,ptClip:1},ie.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},ie.JoinType={jtSquare:0,jtRound:1,jtMiter:2},ie.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},oe&&(ie.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3}),ie.EdgeSide={esLeft:0,esRight:1},ie.Direction={dRightToLeft:0,dLeftToRight:1},ie.TEdge=function(){this.Bot=new ie.IntPoint,this.Curr=new ie.IntPoint,this.Top=new ie.IntPoint,this.Delta=new ie.IntPoint,this.Dx=0,this.PolyTyp=ie.PolyType.ptSubject,this.Side=ie.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},ie.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new ie.IntPoint},ie.MyIntersectNodeSort=function(){},ie.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y},ie.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},ie.Scanbeam=function(){this.Y=0,this.Next=null},ie.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},ie.OutPt=function(){this.Idx=0,this.Pt=new ie.IntPoint,this.Next=null,this.Prev=null},ie.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new ie.IntPoint},ie.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.horizontal=-9007199254740992,ie.ClipperBase.Skip=-2,ie.ClipperBase.Unassigned=-1,ie.ClipperBase.tolerance=1e-20,te?(ie.ClipperBase.loRange=46340,ie.ClipperBase.hiRange=46340):(ie.ClipperBase.loRange=47453132,ie.ClipperBase.hiRange=0xfffffffffffff),ie.ClipperBase.near_zero=function(t){return t>-ie.ClipperBase.tolerance&&t<ie.ClipperBase.tolerance},ie.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},ie.ClipperBase.prototype.PointIsVertex=function(t,e){var n=e;do{if(ie.IntPoint.op_Equality(n.Pt,t))return!0;n=n.Next}while(n!=e);return!1},ie.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,o){return o?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&be.op_Equality(be.Int128Mul(t.X-e.X,n.Y-e.Y),be.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y);
},ie.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var o=e;;){if(this.PointOnLineSegment(t,o.Pt,o.Next.Pt,n))return!0;if(o=o.Next,o==e)break}return!1},ie.ClipperBase.prototype.SlopesEqual=ie.ClipperBase.SlopesEqual=function(){var t,e,n,o,i,r,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],a=s[2],a?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(n=s[0],o=s[1],i=s[2],a=s[3],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,o.X-i.X),be.Int128Mul(n.X-o.X,o.Y-i.Y)):ie.Cast_Int64((n.Y-o.Y)*(o.X-i.X))-ie.Cast_Int64((n.X-o.X)*(o.Y-i.Y))===0):(n=s[0],o=s[1],i=s[2],r=s[3],a=s[4],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,i.X-r.X),be.Int128Mul(n.X-o.X,i.Y-r.Y)):ie.Cast_Int64((n.Y-o.Y)*(i.X-r.X))-ie.Cast_Int64((n.X-o.X)*(i.Y-r.Y))===0)},ie.ClipperBase.SlopesEqual3=function(t,e,n){return n?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)},ie.ClipperBase.SlopesEqual4=function(t,e,n,o){return o?be.op_Equality(be.Int128Mul(t.Y-e.Y,e.X-n.X),be.Int128Mul(t.X-e.X,e.Y-n.Y)):ie.Cast_Int64((t.Y-e.Y)*(e.X-n.X))-ie.Cast_Int64((t.X-e.X)*(e.Y-n.Y))===0},ie.ClipperBase.SlopesEqual5=function(t,e,n,o,i){return i?be.op_Equality(be.Int128Mul(t.Y-e.Y,n.X-o.X),be.Int128Mul(t.X-e.X,n.Y-o.Y)):ie.Cast_Int64((t.Y-e.Y)*(n.X-o.X))-ie.Cast_Int64((t.X-e.X)*(n.Y-o.Y))===0},ie.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var n=0,o=this.m_edges[t].length;n<o;++n)this.m_edges[t][n]=null;ie.Clear(this.m_edges[t])}ie.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},ie.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>ie.ClipperBase.hiRange||t.Y>ie.ClipperBase.hiRange||-t.X>ie.ClipperBase.hiRange||-t.Y>ie.ClipperBase.hiRange)&&ie.Error("Coordinate outside allowed range in RangeTest()."):(t.X>ie.ClipperBase.loRange||t.Y>ie.ClipperBase.loRange||-t.X>ie.ClipperBase.loRange||-t.Y>ie.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},ie.ClipperBase.prototype.InitEdge=function(t,e,n,o){t.Next=e,t.Prev=n,t.Curr.X=o.X,t.Curr.Y=o.Y,t.OutIdx=-1},ie.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},ie.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;ie.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||ie.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=ie.ClipperBase.horizontal&&t.Prev.Dx!=ie.ClipperBase.horizontal)break;for(;t.Prev.Dx==ie.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==ie.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},ie.ClipperBase.prototype.ProcessBound=function(t,e){var n,o,i=t,r=t;if(t.Dx==ie.ClipperBase.horizontal&&(o=e?t.Prev.Bot.X:t.Next.Bot.X,t.Bot.X!=o&&this.ReverseHorizontal(t)),r.OutIdx!=ie.ClipperBase.Skip)if(e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=ie.ClipperBase.Skip;)r=r.Next;if(r.Dx==ie.ClipperBase.horizontal&&r.Next.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Prev.Dx==ie.ClipperBase.horizontal;)n=n.Prev;n.Prev.Top.X==r.Next.Top.X?e||(r=n.Prev):n.Prev.Top.X>r.Next.Top.X&&(r=n.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=ie.ClipperBase.Skip;)r=r.Prev;if(r.Dx==ie.ClipperBase.horizontal&&r.Prev.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Next.Dx==ie.ClipperBase.horizontal;)n=n.Next;n.Next.Top.X==r.Prev.Top.X?e||(r=n.Next):n.Next.Top.X>r.Prev.Top.X&&(r=n.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}if(r.OutIdx==ie.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var a=new ie.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,a.RightBound.WindDelta=0,r=this.ProcessBound(a.RightBound,e),this.InsertLocalMinima(a)}}return r},ie.ClipperBase.prototype.AddPath=function(t,e,n){ne?n||e!=ie.PolyType.ptClip||ie.Error("AddPath: Open paths must be subject."):n||ie.Error("AddPath: Open paths have been disabled.");var o=t.length-1;if(n)for(;o>0&&ie.IntPoint.op_Equality(t[o],t[0]);)--o;for(;o>0&&ie.IntPoint.op_Equality(t[o],t[o-1]);)--o;if(n&&o<2||!n&&o<1)return!1;for(var i=new Array,r=0;r<=o;r++)i.push(new ie.TEdge);var a=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var s={Value:this.m_UseFullRange};this.RangeTest(t[0],s),this.m_UseFullRange=s.Value,s.Value=this.m_UseFullRange,this.RangeTest(t[o],s),this.m_UseFullRange=s.Value,this.InitEdge(i[0],i[1],i[o],t[0]),this.InitEdge(i[o],i[0],i[o-1],t[o]);for(var r=o-1;r>=1;--r)s.Value=this.m_UseFullRange,this.RangeTest(t[r],s),this.m_UseFullRange=s.Value,this.InitEdge(i[r],i[r+1],i[r-1],t[r]);for(var u=i[0],h=u,p=u;;)if(ie.IntPoint.op_Equality(h.Curr,h.Next.Curr)){if(h==h.Next)break;h==u&&(u=h.Next),h=this.RemoveEdge(h),p=h}else{if(h.Prev==h.Next)break;if(!n||!ie.ClipperBase.SlopesEqual(h.Prev.Curr,h.Curr,h.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(h.Prev.Curr,h.Curr,h.Next.Curr)){if(h=h.Next,h==p)break}else h==u&&(u=h.Next),h=this.RemoveEdge(h),h=h.Prev,p=h}if(!n&&h==h.Next||n&&h.Prev==h.Next)return!1;n||(this.m_HasOpenPaths=!0,u.Prev.OutIdx=ie.ClipperBase.Skip);h=u;do this.InitEdge2(h,e),h=h.Next,a&&h.Curr.Y!=u.Curr.Y&&(a=!1);while(h!=u);if(a){if(n)return!1;h.Prev.OutIdx=ie.ClipperBase.Skip,h.Prev.Bot.X<h.Prev.Top.X&&this.ReverseHorizontal(h.Prev);var l=new ie.LocalMinima;for(l.Next=null,l.Y=h.Bot.Y,l.LeftBound=null,l.RightBound=h,l.RightBound.Side=ie.EdgeSide.esRight,l.RightBound.WindDelta=0;h.Next.OutIdx!=ie.ClipperBase.Skip;)h.NextInLML=h.Next,h.Bot.X!=h.Prev.Top.X&&this.ReverseHorizontal(h),h=h.Next;return this.InsertLocalMinima(l),this.m_edges.push(i),!0}this.m_edges.push(i);for(var c,f=null;h=this.FindNextLocMin(h),h!=f;){null==f&&(f=h);var l=new ie.LocalMinima;l.Next=null,l.Y=h.Bot.Y,h.Dx<h.Prev.Dx?(l.LeftBound=h.Prev,l.RightBound=h,c=!1):(l.LeftBound=h,l.RightBound=h.Prev,c=!0),l.LeftBound.Side=ie.EdgeSide.esLeft,l.RightBound.Side=ie.EdgeSide.esRight,n?l.LeftBound.Next==l.RightBound?l.LeftBound.WindDelta=-1:l.LeftBound.WindDelta=1:l.LeftBound.WindDelta=0,l.RightBound.WindDelta=-l.LeftBound.WindDelta,h=this.ProcessBound(l.LeftBound,c);var d=this.ProcessBound(l.RightBound,!c);l.LeftBound.OutIdx==ie.ClipperBase.Skip?l.LeftBound=null:l.RightBound.OutIdx==ie.ClipperBase.Skip&&(l.RightBound=null),this.InsertLocalMinima(l),c||(h=d)}return!0},ie.ClipperBase.prototype.AddPaths=function(t,e,n){for(var o=!1,i=0,r=t.length;i<r;++i)this.AddPath(t[i],e,n)&&(o=!0);return o},ie.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,n){return!(ie.IntPoint.op_Equality(t,n)||ie.IntPoint.op_Equality(t,e)||ie.IntPoint.op_Equality(n,e))&&(t.X!=n.X?e.X>t.X==e.X<n.X:e.Y>t.Y==e.Y<n.Y)},ie.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},ie.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=ie.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},ie.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},ie.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},ie.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,ee&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},ie.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esLeft,e.OutIdx=ie.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esRight,e.OutIdx=ie.ClipperBase.Unassigned),t=t.Next}},ie.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=ie.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=ie.PolyFillType.pftEvenOdd,this.m_SubjFillType=ie.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,ie.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=ie.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),ee&&(this.ZFillFunction=null)},ie.Clipper.ioReverseSolution=1,ie.Clipper.ioStrictlySimple=2,ie.Clipper.ioPreserveCollinear=4,ie.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ie.ClipperBase.prototype.Clear.call(this))},ie.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},ie.Clipper.prototype.Reset=function(){ie.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},ie.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new ie.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new ie.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var n=this.m_Scanbeam;null!==n.Next&&t<=n.Next.Y;)n=n.Next;if(t==n.Y)return;var e=new ie.Scanbeam;e.Y=t,e.Next=n.Next,n.Next=e}},ie.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,n=t[1]instanceof ie.PolyTree;if(4==e&&!n){var o=t[0],i=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&ie.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,ie.Clear(i),this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!1;try{var s=this.ExecuteInternal();s&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(4==e&&n){var o=t[0],u=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!0;try{var s=this.ExecuteInternal();s&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(2==e&&!n){var o=t[0],i=t[1];return this.Execute(o,i,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}if(2==e&&n){var o=t[0],u=t[1];return this.Execute(o,u,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}},ie.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},ie.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),ie.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{ie.Clear(this.m_Joins),ie.Clear(this.m_GhostJoins)}},ie.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t},ie.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);ie.Clear(this.m_PolyOuts)},ie.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];null!==e.Pts&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null},ie.Clipper.prototype.DisposeOutPts=function(t){if(null!==t){var e=null;for(t.Prev.Next=null;null!==t;)e=t,t=t.Next,e=null}},ie.Clipper.prototype.AddJoin=function(t,e,n){var o=new ie.Join;o.OutPt1=t,o.OutPt2=e,o.OffPt.X=n.X,o.OffPt.Y=n.Y,this.m_Joins.push(o)},ie.Clipper.prototype.AddGhostJoin=function(t,e){var n=new ie.Join;n.OutPt1=t,n.OffPt.X=e.X,n.OffPt.Y=e.Y,this.m_GhostJoins.push(n)},ee&&(ie.Clipper.prototype.SetZ=function(t,e){t.Z=0,null!==this.ZFillFunction&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))}),ie.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,n=this.m_CurrentLM.RightBound;this.PopLocalMinima();var o=null;if(null===e?(this.InsertEdgeIntoAEL(n,null),this.SetWindingCount(n),this.IsContributing(n)&&(o=this.AddOutPt(n,n.Bot))):null==n?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(o=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(n,e),this.SetWindingCount(e),n.WindCnt=e.WindCnt,n.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(o=this.AddLocalMinPoly(e,n,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=n&&(ie.ClipperBase.IsHorizontal(n)?this.AddEdgeToSEL(n):this.InsertScanbeam(n.Top.Y)),null!=e&&null!=n){if(null!==o&&ie.ClipperBase.IsHorizontal(n)&&this.m_GhostJoins.length>0&&0!==n.WindDelta)for(var i=0,r=this.m_GhostJoins.length;i<r;i++){var a=this.m_GhostJoins[i];this.HorzSegmentsOverlap(a.OutPt1.Pt,a.OffPt,n.Bot,n.Top)&&this.AddJoin(a.OutPt1,o,a.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var s=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(o,s,e.Top)}if(e.NextInAEL!=n){if(n.OutIdx>=0&&n.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(n.PrevInAEL,n,this.m_UseFullRange)&&0!==n.WindDelta&&0!==n.PrevInAEL.WindDelta){var s=this.AddOutPt(n.PrevInAEL,n.Bot);this.AddJoin(o,s,n.Top)}var u=e.NextInAEL;if(null!==u)for(;u!=n;)this.IntersectEdges(n,u,e.Curr,!1),u=u.NextInAEL}}}},ie.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},ie.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<ie.Clipper.TopX(t,e.Top.Y):t.Top.X>ie.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},ie.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_SubjFillType==ie.PolyFillType.pftEvenOdd:this.m_ClipFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_ClipFillType==ie.PolyFillType.pftEvenOdd:this.m_SubjFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsContributing=function(t){var e,n;switch(t.PolyTyp==ie.PolyType.ptSubject?(e=this.m_SubjFillType,n=this.m_ClipFillType):(e=this.m_ClipFillType,n=this.m_SubjFillType),e){case ie.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case ie.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case ie.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case ie.ClipType.ctIntersection:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctUnion:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case ie.ClipType.ctDifference:if(t.PolyTyp==ie.PolyType.ptSubject)switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},ie.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=ie.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var n=!0,o=e.PrevInAEL;null!==o;)o.PolyTyp==e.PolyTyp&&0!==o.WindDelta&&(n=!n),o=o.PrevInAEL;t.WindCnt=n?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},ie.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},ie.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},ie.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var n=e.NextInAEL;null!==n&&(n.PrevInAEL=t);var o=t.PrevInAEL;null!==o&&(o.NextInAEL=e),e.PrevInAEL=o,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n}else if(e.NextInAEL==t){var n=t.NextInAEL;null!==n&&(n.PrevInAEL=e);var o=e.PrevInAEL;null!==o&&(o.NextInAEL=t),t.PrevInAEL=o,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,o=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=o,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},ie.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){var n=e.NextInSEL;null!==n&&(n.PrevInSEL=t);var o=t.PrevInSEL;null!==o&&(o.NextInSEL=e),e.PrevInSEL=o,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n}else if(e.NextInSEL==t){var n=t.NextInSEL;null!==n&&(n.PrevInSEL=e);var o=e.PrevInSEL;null!==o&&(o.NextInSEL=t),t.PrevInSEL=o,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,o=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=o,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},ie.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},ie.Clipper.prototype.AddLocalMinPoly=function(t,e,n){var o,i,r;if(ie.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(o=this.AddOutPt(t,n),e.OutIdx=t.OutIdx,t.Side=ie.EdgeSide.esLeft,e.Side=ie.EdgeSide.esRight,i=t,r=i.PrevInAEL==e?e.PrevInAEL:i.PrevInAEL):(o=this.AddOutPt(e,n),t.OutIdx=e.OutIdx,t.Side=ie.EdgeSide.esRight,e.Side=ie.EdgeSide.esLeft,i=e,r=i.PrevInAEL==t?t.PrevInAEL:i.PrevInAEL),null!==r&&r.OutIdx>=0&&ie.Clipper.TopX(r,n.Y)==ie.Clipper.TopX(i,n.Y)&&ie.ClipperBase.SlopesEqual(i,r,this.m_UseFullRange)&&0!==i.WindDelta&&0!==r.WindDelta){var a=this.AddOutPt(r,n);this.AddJoin(o,a,i.Top)}return o},ie.Clipper.prototype.CreateOutRec=function(){var t=new ie.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},ie.Clipper.prototype.AddOutPt=function(t,e){var n=t.Side==ie.EdgeSide.esLeft;if(t.OutIdx<0){var o=this.CreateOutRec();o.IsOpen=0===t.WindDelta;var i=new ie.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=o.Idx,i}var o=this.m_PolyOuts[t.OutIdx],r=o.Pts;if(n&&ie.IntPoint.op_Equality(e,r.Pt))return r;if(!n&&ie.IntPoint.op_Equality(e,r.Prev.Pt))return r.Prev;var i=new ie.OutPt;return i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=r,i.Prev=r.Prev,i.Prev.Next=i,r.Prev=i,n&&(o.Pts=i),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i},ie.Clipper.prototype.SwapPoints=function(t,e){var n=new ie.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=n.X,e.Value.Y=n.Y},ie.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,o){return t.X>n.X==t.X<o.X||(e.X>n.X==e.X<o.X||(n.X>t.X==n.X<e.X||(o.X>t.X==o.X<e.X||(t.X==n.X&&e.X==o.X||t.X==o.X&&e.X==n.X))))},ie.Clipper.prototype.InsertPolyPtBetween=function(t,e,n){var o=new ie.OutPt;return o.Pt.X=n.X,o.Pt.Y=n.Y,e==t.Next?(t.Next=o,e.Prev=o,o.Next=e,o.Prev=t):(e.Next=o,t.Prev=o,o.Next=t,o.Prev=e),o},ie.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,o=t.PrevInAEL;null!==o;)o.OutIdx>=0&&0!=o.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[o.OutIdx])),o=o.PrevInAEL;n&&(e.IsHole=!0)},ie.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?ie.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},ie.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var n=t.Prev;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Prev;var o=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=t.Next;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Next;var i=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=e.Prev;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Prev;var r=Math.abs(this.GetDx(e.Pt,n.Pt));for(n=e.Next;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Next;var a=Math.abs(this.GetDx(e.Pt,n.Pt));return o>=r&&o>=a||i>=r&&i>=a},ie.Clipper.prototype.GetBottomPt=function(t){for(var e=null,n=t.Next;n!=t;)n.Pt.Y>t.Pt.Y?(t=n,e=null):n.Pt.Y==t.Pt.Y&&n.Pt.X<=t.Pt.X&&(n.Pt.X<t.Pt.X?(e=null,t=n):n.Next!=t&&n.Prev!=t&&(e=n)),n=n.Next;if(null!==e)for(;e!=n;)for(this.FirstIsBottomPt(n,e)||(t=e),e=e.Next;ie.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},ie.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,o=e.BottomPt;return n.Pt.Y>o.Pt.Y?t:n.Pt.Y<o.Pt.Y?e:n.Pt.X<o.Pt.X?t:n.Pt.X>o.Pt.X?e:n.Next==n?e:o.Next==o?t:this.FirstIsBottomPt(n,o)?t:e},ie.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},ie.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},ie.Clipper.prototype.AppendPolygon=function(t,e){var n,o=this.m_PolyOuts[t.OutIdx],i=this.m_PolyOuts[e.OutIdx];n=this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i);var r,a=o.Pts,s=a.Prev,u=i.Pts,h=u.Prev;t.Side==ie.EdgeSide.esLeft?(e.Side==ie.EdgeSide.esLeft?(this.ReversePolyPtLinks(u),u.Next=a,a.Prev=u,s.Next=h,h.Prev=s,o.Pts=h):(h.Next=a,a.Prev=h,u.Prev=s,s.Next=u,o.Pts=u),r=ie.EdgeSide.esLeft):(e.Side==ie.EdgeSide.esRight?(this.ReversePolyPtLinks(u),s.Next=h,h.Prev=s,u.Next=a,a.Prev=u):(s.Next=u,u.Prev=s,a.Prev=h,h.Next=a),r=ie.EdgeSide.esRight),o.BottomPt=null,n==i&&(i.FirstLeft!=o&&(o.FirstLeft=i.FirstLeft),o.IsHole=i.IsHole),i.Pts=null,i.BottomPt=null,i.FirstLeft=o;var p=t.OutIdx,l=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var c=this.m_ActiveEdges;null!==c;){if(c.OutIdx==l){c.OutIdx=p,c.Side=r;break}c=c.NextInAEL}i.Idx=o.Idx},ie.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do n=e.Next,e.Next=e.Prev,e.Prev=n,e=n;while(e!=t)}},ie.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},ie.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},ie.Clipper.prototype.IntersectEdges=function(t,e,n,o){var i=!o&&null===t.NextInLML&&t.Top.X==n.X&&t.Top.Y==n.Y,r=!o&&null===e.NextInLML&&e.Top.X==n.X&&e.Top.Y==n.Y,a=t.OutIdx>=0,s=e.OutIdx>=0;if(ne&&(0===t.WindDelta||0===e.WindDelta))return 0===t.WindDelta&&0===e.WindDelta?(i||r)&&a&&s&&this.AddLocalMaxPoly(t,e,n):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==ie.ClipType.ctUnion?0===t.WindDelta?s&&(this.AddOutPt(t,n),a&&(t.OutIdx=-1)):a&&(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):(this.AddOutPt(t,n),a&&(t.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):ie.Error("Error intersecting polylines")),void(r&&(e.OutIdx<0?this.DeleteFromAEL(e):ie.Error("Error intersecting polylines")));if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var u=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=u}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var h,p,l,c;t.PolyTyp==ie.PolyType.ptSubject?(h=this.m_SubjFillType,l=this.m_ClipFillType):(h=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==ie.PolyType.ptSubject?(p=this.m_SubjFillType,c=this.m_ClipFillType):(p=this.m_ClipFillType,c=this.m_SubjFillType);var f,d;switch(h){case ie.PolyFillType.pftPositive:f=t.WindCnt;break;case ie.PolyFillType.pftNegative:f=-t.WindCnt;break;default:f=Math.abs(t.WindCnt)}switch(p){case ie.PolyFillType.pftPositive:d=e.WindCnt;break;case ie.PolyFillType.pftNegative:d=-e.WindCnt;break;default:d=Math.abs(e.WindCnt)}if(a&&s)i||r||0!==f&&1!=f||0!==d&&1!=d||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=ie.ClipType.ctXor?this.AddLocalMaxPoly(t,e,n):(this.AddOutPt(t,n),this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(a)0!==d&&1!=d||(this.AddOutPt(t,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(s)0!==f&&1!=f||(this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(!(0!==f&&1!=f||0!==d&&1!=d||i||r)){var y,v;switch(l){case ie.PolyFillType.pftPositive:y=t.WindCnt2;break;case ie.PolyFillType.pftNegative:y=-t.WindCnt2;break;default:y=Math.abs(t.WindCnt2)}switch(c){case ie.PolyFillType.pftPositive:v=e.WindCnt2;break;case ie.PolyFillType.pftNegative:v=-e.WindCnt2;break;default:v=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,n);else if(1==f&&1==d)switch(this.m_ClipType){case ie.ClipType.ctIntersection:y>0&&v>0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctUnion:y<=0&&v<=0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctDifference:(t.PolyTyp==ie.PolyType.ptClip&&y>0&&v>0||t.PolyTyp==ie.PolyType.ptSubject&&y<=0&&v<=0)&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctXor:this.AddLocalMinPoly(t,e,n)}else ie.Clipper.SwapSides(t,e)}i!=r&&(i&&t.OutIdx>=0||r&&e.OutIdx>=0)&&(ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),r&&this.DeleteFromAEL(e)},ie.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},ie.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},ie.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&ie.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,n=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==n&&(n.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=n,ie.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},ie.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},ie.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=ie.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=ie.Direction.dRightToLeft)},ie.Clipper.prototype.PrepareHorzJoins=function(t,e){var n=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=ie.EdgeSide.esLeft&&(n=n.Prev),e&&(ie.IntPoint.op_Equality(n.Pt,t.Top)?this.AddGhostJoin(n,t.Bot):this.AddGhostJoin(n,t.Top))},ie.Clipper.prototype.ProcessHorizontal=function(t,e){var n={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,n);for(var o=n.Dir,i=n.Left,r=n.Right,a=t,s=null;null!==a.NextInLML&&ie.ClipperBase.IsHorizontal(a.NextInLML);)a=a.NextInLML;for(null===a.NextInLML&&(s=this.GetMaximaPair(a));;){for(var u=t==a,h=this.GetNextInAEL(t,o);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(h,o);if(o==ie.Direction.dLeftToRight&&h.Curr.X<=r||o==ie.Direction.dRightToLeft&&h.Curr.X>=i){
if(t.OutIdx>=0&&0!=t.WindDelta&&this.PrepareHorzJoins(t,e),h==s&&u)return o==ie.Direction.dLeftToRight?this.IntersectEdges(t,h,h.Top,!1):this.IntersectEdges(h,t,h.Top,!1),void(s.OutIdx>=0&&ie.Error("ProcessHorizontal error"));if(o==ie.Direction.dLeftToRight){var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,l,!0)}else{var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,l,!0)}this.SwapPositionsInAEL(t,h)}else if(o==ie.Direction.dLeftToRight&&h.Curr.X>=r||o==ie.Direction.dRightToLeft&&h.Curr.X<=i)break;h=p}if(t.OutIdx>=0&&0!==t.WindDelta&&this.PrepareHorzJoins(t,e),null===t.NextInLML||!ie.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var n={Dir:o,Left:i,Right:r};this.GetHorzDirection(t,n),o=n.Dir,i=n.Left,r=n.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var c=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var f=t.PrevInAEL,p=t.NextInAEL;if(null!==f&&f.Curr.X==t.Bot.X&&f.Curr.Y==t.Bot.Y&&0!==f.WindDelta&&f.OutIdx>=0&&f.Curr.Y>f.Top.Y&&ie.ClipperBase.SlopesEqual(t,f,this.m_UseFullRange)){var d=this.AddOutPt(f,t.Bot);this.AddJoin(c,d,t.Top)}else if(null!==p&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&0!==p.WindDelta&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&ie.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var d=this.AddOutPt(p,t.Bot);this.AddJoin(c,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else null!==s?s.OutIdx>=0?(o==ie.Direction.dLeftToRight?this.IntersectEdges(t,s,t.Top,!1):this.IntersectEdges(s,t,t.Top,!1),s.OutIdx>=0&&ie.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(s)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))},ie.Clipper.prototype.GetNextInAEL=function(t,e){return e==ie.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},ie.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},ie.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},ie.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},ie.Clipper.prototype.GetMaximaPair=function(t){var e=null;return ie.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:ie.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||ie.ClipperBase.IsHorizontal(e))?e:null},ie.Clipper.prototype.ProcessIntersections=function(t,e){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t,e),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,ie.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},ie.Clipper.prototype.BuildIntersectList=function(t,e){if(null!==this.m_ActiveEdges){var n=this.m_ActiveEdges;for(this.m_SortedEdges=n;null!==n;)n.PrevInSEL=n.PrevInAEL,n.NextInSEL=n.NextInAEL,n.Curr.X=ie.Clipper.TopX(n,e),n=n.NextInAEL;for(var o=!0;o&&null!==this.m_SortedEdges;){for(o=!1,n=this.m_SortedEdges;null!==n.NextInSEL;){var i=n.NextInSEL,r=new ie.IntPoint;if(n.Curr.X>i.Curr.X){!this.IntersectPoint(n,i,r)&&n.Curr.X>i.Curr.X+1&&ie.Error("Intersection error"),r.Y>t&&(r.Y=t,Math.abs(n.Dx)>Math.abs(i.Dx)?r.X=ie.Clipper.TopX(i,t):r.X=ie.Clipper.TopX(n,t));var a=new ie.IntersectNode;a.Edge1=n,a.Edge2=i,a.Pt.X=r.X,a.Pt.Y=r.Y,this.m_IntersectList.push(a),this.SwapPositionsInSEL(n,i),o=!0}else n=i}if(null===n.PrevInSEL)break;n.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},ie.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},ie.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},ie.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var o=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=o}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},ie.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt,!0),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};var xe=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},we=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Pe=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Se=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};ue.msie?ie.Clipper.Round=xe:ue.chromium?ie.Clipper.Round=Pe:ue.safari?ie.Clipper.Round=Se:ie.Clipper.Round=we,ie.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+ie.Clipper.Round(t.Dx*(e-t.Bot.Y))},ie.Clipper.prototype.IntersectPoint=function(t,e,n){n.X=0,n.Y=0;var o,i;if(ie.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(n.X=e.Bot.X,n.Y=e.Bot.Y):(n.X=t.Bot.X,n.Y=t.Bot.Y),!1;if(0===t.Delta.X)n.X=t.Bot.X,ie.ClipperBase.IsHorizontal(e)?n.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,n.Y=ie.Clipper.Round(n.X/e.Dx+i));else if(0===e.Delta.X)n.X=e.Bot.X,ie.ClipperBase.IsHorizontal(t)?n.Y=t.Bot.Y:(o=t.Bot.Y-t.Bot.X/t.Dx,n.Y=ie.Clipper.Round(n.X/t.Dx+o));else{o=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var r=(i-o)/(t.Dx-e.Dx);n.Y=ie.Clipper.Round(r),Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.Round(t.Dx*r+o):n.X=ie.Clipper.Round(e.Dx*r+i)}if(n.Y<t.Top.Y||n.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return n.Y=t.Top.Y,n.X=ie.Clipper.TopX(e,t.Top.Y),n.X<t.Top.X;n.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.TopX(t,n.Y):n.X=ie.Clipper.TopX(e,n.Y)}return!0},ie.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var n=this.IsMaxima(e,t);if(n){var o=this.GetMaximaPair(e);n=null===o||!ie.ClipperBase.IsHorizontal(o)}if(n){var i=e.PrevInAEL;this.DoMaxima(e),e=null===i?this.m_ActiveEdges:i.NextInAEL}else{if(this.IsIntermediate(e,t)&&ie.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=ie.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==i&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&0!==i.WindDelta){var r=this.AddOutPt(i,e.Curr),a=this.AddOutPt(e,e.Curr);this.AddJoin(r,a,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var r=null;e.OutIdx>=0&&(r=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,s=e.NextInAEL;if(null!==i&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&null!==r&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&ie.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&0!==e.WindDelta&&0!==i.WindDelta){var a=this.AddOutPt(i,e.Bot);this.AddJoin(r,a,e.Top)}else if(null!==s&&s.Curr.X==e.Bot.X&&s.Curr.Y==e.Bot.Y&&null!==r&&s.OutIdx>=0&&s.Curr.Y>s.Top.Y&&ie.ClipperBase.SlopesEqual(e,s,this.m_UseFullRange)&&0!==e.WindDelta&&0!==s.WindDelta){var a=this.AddOutPt(s,e.Bot);this.AddJoin(r,a,e.Top)}}e=e.NextInAEL}},ie.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var n=t.NextInAEL,o=!0;null!==n&&n!=e;)this.IntersectEdges(t,n,t.Top,!0),this.SwapPositionsInAEL(t,n),n=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):o&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):ie.Error("DoMaxima error")},ie.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},ie.Clipper.Orientation=function(t){return ie.Clipper.Area(t)>=0},ie.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do e++,n=n.Next;while(n!=t);return e},ie.Clipper.prototype.BuildResult=function(t){ie.Clear(t);for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];if(null!==o.Pts){var i=o.Pts.Prev,r=this.PointCount(i);if(!(r<2)){for(var a=new Array(r),s=0;s<r;s++)a[s]=i.Pt,i=i.Prev;t.push(a)}}}},ie.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e],i=this.PointCount(o.Pts);if(!(o.IsOpen&&i<2||!o.IsOpen&&i<3)){this.FixHoleLinkage(o);var r=new ie.PolyNode;t.m_AllPolys.push(r),o.PolyNode=r,r.m_polygon.length=i;for(var a=o.Pts.Prev,s=0;s<i;s++)r.m_polygon[s]=a.Pt,a=a.Prev}}for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];null!==o.PolyNode&&(o.IsOpen?(o.PolyNode.IsOpen=!0,t.AddChild(o.PolyNode)):null!==o.FirstLeft&&null!=o.FirstLeft.PolyNode?o.FirstLeft.PolyNode.AddChild(o.PolyNode):t.AddChild(o.PolyNode))}},ie.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var n=t.Pts;;){if(n.Prev==n||n.Prev==n.Next)return this.DisposeOutPts(n),void(t.Pts=null);if(ie.IntPoint.op_Equality(n.Pt,n.Next.Pt)||ie.IntPoint.op_Equality(n.Pt,n.Prev.Pt)||ie.ClipperBase.SlopesEqual(n.Prev.Pt,n.Pt,n.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(n.Prev.Pt,n.Pt,n.Next.Pt))){e=null;var o=n;n.Prev.Next=n.Next,n.Next.Prev=n.Prev,n=n.Prev,o=null}else{if(n==e)break;null===e&&(e=n),n=n.Next}}t.Pts=n},ie.Clipper.prototype.DupOutPt=function(t,e){var n=new ie.OutPt;return n.Pt.X=t.Pt.X,n.Pt.Y=t.Pt.Y,n.Idx=t.Idx,e?(n.Next=t.Next,n.Prev=t,t.Next.Prev=n,t.Next=n):(n.Prev=t.Prev,n.Next=t,t.Prev.Next=n,t.Prev=n),n},ie.Clipper.prototype.GetOverlap=function(t,e,n,o,i){return t<e?n<o?(i.Left=Math.max(t,n),i.Right=Math.min(e,o)):(i.Left=Math.max(t,o),i.Right=Math.min(e,n)):n<o?(i.Left=Math.max(e,n),i.Right=Math.min(t,o)):(i.Left=Math.max(e,o),i.Right=Math.min(t,n)),i.Left<i.Right},ie.Clipper.prototype.JoinHorz=function(t,e,n,o,i,r){var a=t.Pt.X>e.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight,s=n.Pt.X>o.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight;if(a==s)return!1;if(a==ie.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!r))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r||t.Pt.X==i.X||(t=t.Next),e=this.DupOutPt(t,r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,r))}if(s==ie.Direction.dLeftToRight){for(;n.Next.Pt.X<=i.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r&&n.Pt.X!=i.X&&(n=n.Next),o=this.DupOutPt(n,!r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,!r))}else{for(;n.Next.Pt.X>=i.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r||n.Pt.X==i.X||(n=n.Next),o=this.DupOutPt(n,r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,r))}return a==ie.Direction.dLeftToRight==r?(t.Prev=n,n.Next=t,e.Next=o,o.Prev=e):(t.Next=n,n.Prev=t,e.Prev=o,o.Next=e),!0},ie.Clipper.prototype.JoinPoints=function(t,e,n){var o=t.OutPt1,i=new ie.OutPt,r=t.OutPt2,a=new ie.OutPt,s=t.OutPt1.Pt.Y==t.OffPt.Y;if(s&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=o&&ie.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var u=i.Pt.Y>t.OffPt.Y;for(a=t.OutPt2.Next;a!=r&&ie.IntPoint.op_Equality(a.Pt,t.OffPt);)a=a.Next;var h=a.Pt.Y>t.OffPt.Y;return u!=h&&(u?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))}if(s){for(i=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=i&&o.Prev!=r;)o=o.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=o&&i.Next!=r;)i=i.Next;if(i.Next==o||i.Next==r)return!1;for(a=r;r.Prev.Pt.Y==r.Pt.Y&&r.Prev!=a&&r.Prev!=i;)r=r.Prev;for(;a.Next.Pt.Y==a.Pt.Y&&a.Next!=r&&a.Next!=o;)a=a.Next;if(a.Next==r||a.Next==o)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(o.Pt.X,i.Pt.X,r.Pt.X,a.Pt.X,p))return!1;var l,c=p.Left,f=p.Right,d=new ie.IntPoint;return o.Pt.X>=c&&o.Pt.X<=f?(d.X=o.Pt.X,d.Y=o.Pt.Y,l=o.Pt.X>i.Pt.X):r.Pt.X>=c&&r.Pt.X<=f?(d.X=r.Pt.X,d.Y=r.Pt.Y,l=r.Pt.X>a.Pt.X):i.Pt.X>=c&&i.Pt.X<=f?(d.X=i.Pt.X,d.Y=i.Pt.Y,l=i.Pt.X>o.Pt.X):(d.X=a.Pt.X,d.Y=a.Pt.Y,l=a.Pt.X>r.Pt.X),t.OutPt1=o,t.OutPt2=r,this.JoinHorz(o,i,r,a,d,l)}for(i=o.Next;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Next;var y=i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(y){for(i=o.Prev;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Prev;if(i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(a=r.Next;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Next;var v=a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange);if(v){for(a=r.Prev;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Prev;if(a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange))return!1}return i!=o&&a!=r&&i!=a&&(e!=n||y!=v)&&(y?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))},ie.Clipper.GetBounds=function(t){for(var e=0,n=t.length;e<n&&0==t[e].length;)e++;if(e==n)return new ie.IntRect(0,0,0,0);var o=new ie.IntRect;for(o.left=t[e][0].X,o.right=o.left,o.top=t[e][0].Y,o.bottom=o.top;e<n;e++)for(var i=0,r=t[e].length;i<r;i++)t[e][i].X<o.left?o.left=t[e][i].X:t[e][i].X>o.right&&(o.right=t[e][i].X),t[e][i].Y<o.top?o.top=t[e][i].Y:t[e][i].Y>o.bottom&&(o.bottom=t[e][i].Y);return o},ie.Clipper.prototype.GetBounds2=function(t){var e=t,n=new ie.IntRect;for(n.left=t.Pt.X,n.right=t.Pt.X,n.top=t.Pt.Y,n.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<n.left&&(n.left=t.Pt.X),t.Pt.X>n.right&&(n.right=t.Pt.X),t.Pt.Y<n.top&&(n.top=t.Pt.Y),t.Pt.Y>n.bottom&&(n.bottom=t.Pt.Y),t=t.Next;return n},ie.Clipper.PointInPolygon=function(t,e){var n=0,o=e.length;if(o<3)return 0;for(var i=e[0],r=1;r<=o;++r){var a=r==o?e[0]:e[r];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},ie.Clipper.prototype.PointInPolygon=function(t,e){for(var n=0,o=e;;){var i=e.Pt.X,r=e.Pt.Y,a=e.Next.Pt.X,s=e.Next.Pt.Y;if(s==t.Y&&(a==t.X||r==t.Y&&a>t.X==i<t.X))return-1;if(r<t.Y!=s<t.Y)if(i>=t.X)if(a>t.X)n=1-n;else{var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}else if(a>t.X){var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}if(e=e.Next,o==e)break}return n},ie.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var o=this.PointInPolygon(n.Pt,e);if(o>=0)return 0!=o;n=n.Next}while(n!=t);return!0},ie.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null!==i.Pts&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},ie.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,o=this.m_PolyOuts,i=o.length,r=o[n];n<i;n++,r=o[n])r.FirstLeft==t&&(r.FirstLeft=e)},ie.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},ie.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var n=this.m_Joins[t],o=this.GetOutRec(n.OutPt1.Idx),i=this.GetOutRec(n.OutPt2.Idx);if(null!=o.Pts&&null!=i.Pts){var r;if(r=o==i?o:this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i),this.JoinPoints(n,o,i))if(o==i){if(o.Pts=n.OutPt1,o.BottomPt=null,i=this.CreateOutRec(),i.Pts=n.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var a=0,s=this.m_PolyOuts.length;a<s-1;a++){var u=this.m_PolyOuts[a];null!=u.Pts&&ie.Clipper.ParseFirstLeft(u.FirstLeft)==o&&u.IsHole!=o.IsHole&&this.Poly2ContainsPoly1(u.Pts,n.OutPt2)&&(u.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,o.Pts)?(i.IsHole=!o.IsHole,i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(o.Pts,i.Pts)?(i.IsHole=o.IsHole,o.IsHole=!i.IsHole,i.FirstLeft=o.FirstLeft,o.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,i),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(i.IsHole=o.IsHole,i.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,i))}else i.Pts=null,i.BottomPt=null,i.Idx=o.Idx,o.IsHole=r.IsHole,r==i&&(o.FirstLeft=i.FirstLeft),i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o)}}},ie.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},ie.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],n=e.Pts;if(null!==n)do{for(var o=n.Next;o!=e.Pts;){if(ie.IntPoint.op_Equality(n.Pt,o.Pt)&&o.Next!=n&&o.Prev!=n){var i=n.Prev,r=o.Prev;n.Prev=r,r.Next=n,o.Prev=i,i.Next=o,e.Pts=n;var a=this.CreateOutRec();a.Pts=o,this.UpdateOutPtIdxs(a),this.Poly2ContainsPoly1(a.Pts,e.Pts)?(a.IsHole=!e.IsHole,a.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,a.Pts)?(a.IsHole=e.IsHole,e.IsHole=!a.IsHole,a.FirstLeft=e.FirstLeft,e.FirstLeft=a):(a.IsHole=e.IsHole,a.FirstLeft=e.FirstLeft),o=n}o=o.Next}n=n.Next}while(n!=e.Pts)}},ie.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,o=0,i=e-1;o<e;++o)n+=(t[i].X+t[o].X)*(t[i].Y-t[o].Y),i=o;return.5*-n},ie.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*n},oe&&(ie.Clipper.OffsetPaths=function(t,e,n,o,i){var r=new ie.Paths,a=new ie.ClipperOffset(i,i);return a.AddPaths(t,n,o),a.Execute(r,e),r}),ie.Clipper.SimplifyPolygon=function(t,e){var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPath(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=ie.PolyFillType.pftEvenOdd);var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPaths(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,o=t.Y-e.Y;return n*n+o*o},ie.Clipper.DistanceFromLineSqrd=function(t,e,n){var o=e.Y-n.Y,i=n.X-e.X,r=o*e.X+i*e.Y;return r=o*t.X+i*t.Y-r,r*r/(o*o+i*i)},ie.Clipper.SlopesNearCollinear=function(t,e,n,o){return ie.Clipper.DistanceFromLineSqrd(e,t,n)<o},ie.Clipper.PointsAreClose=function(t,e,n){var o=t.X-e.X,i=t.Y-e.Y;return o*o+i*i<=n},ie.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},ie.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var n=t.length;if(0==n)return new Array;for(var o=new Array(n),i=0;i<n;++i)o[i]=new ie.OutPt;for(var i=0;i<n;++i)o[i].Pt=t[i],o[i].Next=o[(i+1)%n],o[i].Next.Prev=o[i],o[i].Idx=0;for(var r=e*e,a=o[0];0==a.Idx&&a.Next!=a.Prev;)ie.Clipper.PointsAreClose(a.Pt,a.Prev.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):ie.Clipper.PointsAreClose(a.Prev.Pt,a.Next.Pt,r)?(ie.Clipper.ExcludeOp(a.Next),a=ie.Clipper.ExcludeOp(a),n-=2):ie.Clipper.SlopesNearCollinear(a.Prev.Pt,a.Pt,a.Next.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):(a.Idx=1,a=a.Next);n<3&&(n=0);for(var s=new Array(n),i=0;i<n;++i)s[i]=new ie.IntPoint(a.Pt),a=a.Next;return o=null,s},ie.Clipper.CleanPolygons=function(t,e){for(var n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=ie.Clipper.CleanPolygon(t[o],e);return n},ie.Clipper.Minkowski=function(t,e,n,o){var i=o?1:0,r=t.length,a=e.length,s=new Array;if(n)for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X+c.X,e[u].Y+c.Y);s.push(h)}else for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X-c.X,e[u].Y-c.Y);s.push(h)}for(var f=new Array,u=0;u<a-1+i;u++)for(var p=0;p<r;p++){var d=new Array;d.push(s[u%a][p%r]),d.push(s[(u+1)%a][p%r]),d.push(s[(u+1)%a][(p+1)%r]),d.push(s[u%a][(p+1)%r]),ie.Clipper.Orientation(d)||d.reverse(),f.push(d)}var y=new ie.Clipper(0);return y.AddPaths(f,ie.PolyType.ptSubject,!0),y.Execute(ie.ClipType.ctUnion,s,ie.PolyFillType.pftNonZero,ie.PolyFillType.pftNonZero),s},ie.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(3==e){var n=t[0],o=t[1],i=t[2];return ie.Clipper.Minkowski(n,o,!0,i)}if(4==e){for(var r,n=t[0],a=t[1],s=t[2],i=t[3],u=new ie.Clipper,h=0,p=a.length;h<p;++h){var r=ie.Clipper.Minkowski(n,a[h],!0,i);u.AddPaths(r,ie.PolyType.ptSubject,!0)}i&&u.AddPaths(a,ie.PolyType.ptClip,!0);var l=new ie.Paths;return u.Execute(ie.ClipType.ctUnion,l,s,s),l}},ie.Clipper.MinkowskiDiff=function(t,e,n){return ie.Clipper.Minkowski(t,e,!1,n)},ie.Clipper.PolyTreeToPaths=function(t){var e=new Array;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntAny,e),e},ie.Clipper.AddPolyNodeToPaths=function(t,e,n){var o=!0;switch(e){case ie.Clipper.NodeType.ntOpen:return;case ie.Clipper.NodeType.ntClosed:o=!t.IsOpen}t.m_polygon.length>0&&o&&n.push(t.m_polygon);for(var i=0,r=t.Childs(),a=r.length,s=r[i];i<a;i++,s=r[i])ie.Clipper.AddPolyNodeToPaths(s,e,n)},ie.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new ie.Paths,n=0,o=t.ChildCount();n<o;n++)t.Childs()[n].IsOpen&&e.push(t.Childs()[n].m_polygon);return e},ie.Clipper.ClosedPathsFromPolyTree=function(t){var e=new ie.Paths;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntClosed,e),e},_e(ie.Clipper,ie.ClipperBase),ie.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},ie.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=ie.ClipperOffset.def_arc_tolerance),this.m_destPolys=new ie.Paths,this.m_srcPoly=new ie.Path,this.m_destPoly=new ie.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new ie.IntPoint,this.m_polyNodes=new ie.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},ie.ClipperOffset.two_pi=6.28318530717959,ie.ClipperOffset.def_arc_tolerance=.25,ie.ClipperOffset.prototype.Clear=function(){ie.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},ie.ClipperOffset.Round=ie.Clipper.Round,ie.ClipperOffset.prototype.AddPath=function(t,e,n){var o=t.length-1;if(!(o<0)){var i=new ie.PolyNode;if(i.m_jointype=e,i.m_endtype=n,n==ie.EndType.etClosedLine||n==ie.EndType.etClosedPolygon)for(;o>0&&ie.IntPoint.op_Equality(t[0],t[o]);)o--;i.m_polygon.push(t[0]);for(var r=0,a=0,s=1;s<=o;s++)ie.IntPoint.op_Inequality(i.m_polygon[r],t[s])&&(r++,i.m_polygon.push(t[s]),(t[s].Y>i.m_polygon[a].Y||t[s].Y==i.m_polygon[a].Y&&t[s].X<i.m_polygon[a].X)&&(a=r));if(!(n==ie.EndType.etClosedPolygon&&r<2||n!=ie.EndType.etClosedPolygon&&r<0)&&(this.m_polyNodes.AddChild(i),n==ie.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new ie.IntPoint(0,a);else{var u=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[a].Y>u.Y||i.m_polygon[a].Y==u.Y&&i.m_polygon[a].X<u.X)&&(this.m_lowest=new ie.IntPoint(this.m_polyNodes.ChildCount()-1,a))}}},ie.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var o=0,i=t.length;o<i;o++)this.AddPath(t[o],e,n)},ie.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!ie.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==ie.EndType.etClosedPolygon||e.m_endtype==ie.EndType.etClosedLine&&ie.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=ie.EndType.etClosedLine||ie.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},ie.ClipperOffset.GetUnitNormal=function(t,e){var n=e.X-t.X,o=e.Y-t.Y;if(0==n&&0==o)return new ie.DoublePoint(0,0);var i=1/Math.sqrt(n*n+o*o);return n*=i,o*=i,new ie.DoublePoint(o,-n)},ie.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,ie.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];n.m_endtype==ie.EndType.etClosedPolygon&&this.m_destPolys.push(n.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var o;o=this.ArcTolerance<=0?ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*ie.ClipperOffset.def_arc_tolerance?Math.abs(t)*ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-o/Math.abs(t));this.m_sin=Math.sin(ie.ClipperOffset.two_pi/i),this.m_cos=Math.cos(ie.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/ie.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];this.m_srcPoly=n.m_polygon;var r=this.m_srcPoly.length;if(!(0==r||t<=0&&(r<3||n.m_endtype!=ie.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=r){this.m_normals.length=0;for(var a=0;a<r-1;a++)this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[a],this.m_srcPoly[a+1]));if(n.m_endtype==ie.EndType.etClosedLine||n.m_endtype==ie.EndType.etClosedPolygon?this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[r-1],this.m_srcPoly[0])):this.m_normals.push(new ie.DoublePoint(this.m_normals[r-2])),n.m_endtype==ie.EndType.etClosedPolygon){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(n.m_endtype==ie.EndType.etClosedLine){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var u=this.m_normals[r-1],a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-u.X,-u.Y),s=0;for(var a=r-1;a>=0;a--)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var s=0,a=1;a<r-1;++a)s=this.OffsetPoint(a,s,n.m_jointype);var h;if(n.m_endtype==ie.EndType.etOpenButt){var a=r-1;h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X+this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y+this.m_normals[a].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X-this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y-this.m_normals[a].Y*t)),this.m_destPoly.push(h)}else{var a=r-1;s=r-2,this.m_sinA=0,this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a].X,-this.m_normals[a].Y),n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(a,s):this.DoRound(a,s)}for(var a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),s=r-1;for(var a=s-1;a>0;--a)s=this.OffsetPoint(a,s,n.m_jointype);n.m_endtype==ie.EndType.etOpenButt?(h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(h)):(s=1,this.m_sinA=0,n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(n.m_jointype==ie.JoinType.jtRound)for(var p=1,l=0,a=1;a<=i;a++){this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t)));var c=p;p=p*this.m_cos-this.m_sin*l,l=c*this.m_sin+l*this.m_cos}else for(var p=-1,l=-1,a=0;a<4;++a)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t))),p<0?p=1:l<0?l=1:p=-1;this.m_destPolys.push(this.m_destPoly)}}}},ie.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof ie.PolyTree;if(e){var n=t[0],o=t[1];n.Clear(),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;if(a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),1==n.ChildCount()&&n.Childs()[0].ChildCount()>0){var s=n.Childs()[0];n.Childs()[0]=s.Childs()[0];for(var u=1;u<s.ChildCount();u++)n.AddChild(s.Childs()[u])}else n.Clear()}}else{var n=t[0],o=t[1];ie.Clear(n),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),n.length>0&&n.splice(0,1)}}},ie.ClipperOffset.prototype.OffsetPoint=function(t,e,n){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new ie.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(n){case ie.JoinType.jtMiter:var o=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);o>=this.m_miterLim?this.DoMiter(t,e,o):this.DoSquare(t,e);break;case ie.JoinType.jtSquare:this.DoSquare(t,e);break;case ie.JoinType.jtRound:this.DoRound(t,e)}return e=t},ie.ClipperOffset.prototype.DoSquare=function(t,e){var n=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*n)))),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*n))))},ie.ClipperOffset.prototype.DoMiter=function(t,e,n){var o=this.m_delta/n;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*o),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*o)))},ie.ClipperOffset.prototype.DoRound=function(t,e){for(var n,o=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),i=ie.Cast_Int32(ie.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(o))),r=this.m_normals[e].X,a=this.m_normals[e].Y,s=0;s<i;++s)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+r*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+a*this.m_delta))),
n=r,r=r*this.m_cos-this.m_sin*a,a=n*this.m_sin+a*this.m_cos;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},ie.Error=function(t){try{throw new Error(t)}catch(t){alert(t.message)}},ie.JS={},ie.JS.AreaOfPolygon=function(t,e){return e||(e=1),ie.Clipper.Area(t)/(e*e)},ie.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var n=0,o=0;o<t.length;o++)n+=ie.Clipper.Area(t[o]);return n/(e*e)},ie.JS.BoundsOfPath=function(t,e){return ie.JS.BoundsOfPaths([t],e)},ie.JS.BoundsOfPaths=function(t,e){e||(e=1);var n=ie.Clipper.GetBounds(t);return n.left/=e,n.bottom/=e,n.right/=e,n.top/=e,n},ie.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var n=t[0]instanceof Array,t=ie.JS.Clone(t);if("number"!=typeof e||null===e)return ie.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;n||(t=[t]);for(var o,i,r,a,s,u,h,p=t.length,l=[],c=0;c<p;c++)if(i=t[c],o=i.length,0!==o)if(o<3)r=i,l.push(r);else{for(r=i,a=e*e,s=i[0],u=1,h=1;h<o;h++)(i[h].X-s.X)*(i[h].X-s.X)+(i[h].Y-s.Y)*(i[h].Y-s.Y)<=a||(r[u]=i[h],s=i[h],u++);s=i[u-1],(i[0].X-s.X)*(i[0].X-s.X)+(i[0].Y-s.Y)*(i[0].Y-s.Y)<=a&&u--,u<o&&r.splice(u,o-u),r.length&&l.push(r)}return!n&&l.length?l=l[0]:n||0!==l.length?n&&0===l.length&&(l=[[]]):l=[],l},ie.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,o,i,r,a=t.length,s=new Array(a);for(o=0;o<a;o++){for(n=t[o].length,r=new Array(n),i=0;i<n;i++)r[i]={X:t[o][i].X,Y:t[o][i].Y};s[o]=r}return e||(s=s[0]),s},ie.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return ie.Error("Tolerance is not a number in Lighten()."),ie.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return ie.JS.Clone(t);t[0]instanceof Array||(t=[t]);var n,o,i,r,a,s,u,h,p,l,c,f,d,y,v,g,m,b=t.length,_=e*e,x=[];for(n=0;n<b;n++)if(i=t[n],s=i.length,0!=s){for(r=0;r<1e6;r++){for(a=[],s=i.length,i[s-1].X!=i[0].X||i[s-1].Y!=i[0].Y?(f=1,i.push({X:i[0].X,Y:i[0].Y}),s=i.length):f=0,c=[],o=0;o<s-2;o++)u=i[o],p=i[o+1],h=i[o+2],g=u.X,m=u.Y,d=h.X-g,y=h.Y-m,0===d&&0===y||(v=((p.X-g)*d+(p.Y-m)*y)/(d*d+y*y),v>1?(g=h.X,m=h.Y):v>0&&(g+=d*v,m+=y*v)),d=p.X-g,y=p.Y-m,l=d*d+y*y,l<=_&&(c[o+1]=1,o++);for(a.push({X:i[0].X,Y:i[0].Y}),o=1;o<s-1;o++)c[o]||a.push({X:i[o].X,Y:i[o].Y});if(a.push({X:i[s-1].X,Y:i[s-1].Y}),f&&i.pop(),!c.length)break;i=a}s=a.length,a[s-1].X==a[0].X&&a[s-1].Y==a[0].Y&&a.pop(),a.length>2&&x.push(a)}return!t[0]instanceof Array&&(x=x[0]),"undefined"==typeof x&&(x=[[]]),x},ie.JS.PerimeterOfPath=function(t,e,n){if("undefined"==typeof t)return 0;var o,i,r=Math.sqrt,a=0,s=0,u=0,h=0,p=0,l=t.length;if(l<2)return 0;for(e&&(t[l]=t[0],l++);--l;)o=t[l],s=o.X,u=o.Y,i=t[l-1],h=i.X,p=i.Y,a+=r((s-h)*(s-h)+(u-p)*(u-p));return e&&t.pop(),a/n},ie.JS.PerimeterOfPaths=function(t,e,n){n||(n=1);for(var o=0,i=0;i<t.length;i++)o+=ie.JS.PerimeterOfPath(t[i],e,n);return o},ie.JS.ScaleDownPath=function(t,e){var n,o;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=o.X/e,o.Y=o.Y/e},ie.JS.ScaleDownPaths=function(t,e){var n,o,i;Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=i.X/e,i.Y=i.Y/e},ie.JS.ScaleUpPath=function(t,e){var n,o,i=Math.round;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=i(o.X*e),o.Y=i(o.Y*e)},ie.JS.ScaleUpPaths=function(t,e){var n,o,i,r=Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=r(i.X*e),i.Y=r(i.Y*e)},ie.ExPolygons=function(){return[]},ie.ExPolygon=function(){this.outer=null,this.holes=null},ie.JS.AddOuterPolyNodeToExPolygons=function(t,e){var n=new ie.ExPolygon;n.outer=t.Contour();var o=t.Childs(),i=o.length;n.holes=new Array(i);var r,a,s,u,h,p;for(s=0;s<i;s++)for(r=o[s],n.holes[s]=r.Contour(),u=0,h=r.Childs(),p=h.length;u<p;u++)a=h[u],ie.JS.AddOuterPolyNodeToExPolygons(a,e);e.push(n)},ie.JS.ExPolygonsToPaths=function(t){var e,n,o,i,r=new ie.Paths;for(e=0,o=t.length;e<o;e++)for(r.push(t[e].outer),n=0,i=t[e].holes.length;n<i;n++)r.push(t[e].holes[n]);return r},ie.JS.PolyTreeToExPolygons=function(t){var e,n,o,i,r=new ie.ExPolygons;for(n=0,o=t.Childs(),i=o.length;n<i;n++)e=o[n],ie.JS.AddOuterPolyNodeToExPolygons(e,r);return r},t.exports=ie},function(t,e,n){(function(o){/*
	 * Konva JavaScript Framework v1.6.0
	 * http://konvajs.github.io/
	 * Licensed under the MIT or GPL Version 2 licenses.
	 * Date: Fri Apr 21 2017
	 *
	 * Original work Copyright (C) 2011 - 2013 by Eric Rowell (KineticJS)
	 * Modified work Copyright (C) 2014 - 2017 by Anton Lavrenov (Konva)
	 *
	 * @license
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
!function(e){"use strict";var o=Math.PI/180,i={version:"1.6.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var t=i.DD;return!!t&&t.isDragging},isDragReady:function(){var t=i.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){e&&(this.names[e]||(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(t){var n=this.names[t];if(n){for(var o=0;o<n.length;o++){var i=n[o];i._id===e&&n.splice(o,1)}0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*o:t},_detectIE:function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("trident/");if(n>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var i=t.indexOf("edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i._detectIE(e),mobile:o,ieMobile:r}},UA:void 0},r="undefined"!=typeof e?e:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};if(i.UA=i._parseUA(r.navigator&&r.navigator.userAgent||""),r.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),r.Konva=i,i.global=r,r.window&&r.window.document)i.document=r.window.document,i.window=r.window;else{var a=n(226),s=n(227).jsdom;i.window=s("<!DOCTYPE html><html><head></head><body></body></html>").defaultView,i.document=i.window.document,i.window.Image=a.Image,i._nodeCanvas=a}return void(t.exports=i)}("undefined"!=typeof o?o:window),function(){"use strict";Konva.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;n<e;n++)this[n]=t[n];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Konva.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e},Konva.Collection.toCollection=function(t){var e,n=new Konva.Collection,o=t.length;for(e=0;e<o;e++)n.push(t[e]);return n},Konva.Collection._mapMethod=function(t){Konva.Collection.prototype[t]=function(){var e,n=this.length,o=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],o);return this}},Konva.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Konva.Collection._mapMethod(n)},Konva.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=o,this.m[1]=i,this.m[2]=r,this.m[3]=a,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=o,this.m[2]=i,this.m[3]=r,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,o=-this.m[2]*t,i=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],o=this.m[1],i=this.m[2],r=this.m[3],a=this.m[4],s=this.m[5],u=(n*(e-s)-o*(t-a))/(n*r-o*i),h=(t-a-i*u)/n;return this.translate(h,u)}};var t="2d",n="[object Array]",o="[object Number]",i="[object String]",r=Math.PI/180,a=180/Math.PI,s="#",u="",h="0",p="Konva warning: ",l="Konva error: ",c="rgb(",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===n},_isNumber:function(t){return Object.prototype.toString.call(t)===o},_isString:function(t){return Object.prototype.toString.call(t)===i},_throttle:function(t,e,n){var o,i,r,a=null,s=0,u=n||{},h=function(){s=u.leading===!1?0:(new Date).getTime(),a=null,r=t.apply(o,i),o=i=null};return function(){var n=(new Date).getTime();s||u.leading!==!1||(s=n);var p=e-(n-s);return o=this,i=arguments,p<=0?(clearTimeout(a),a=null,s=n,r=t.apply(o,i),o=i=null):a||u.trailing===!1||(a=setTimeout(h,p)),r}},_hasMethods:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&this._isFunction(t[e])&&n.push(e);return n.length>0},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},createCanvasElement:function(){var t=Konva.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof e},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Konva.document)return!0;return!1},_simplifyArray:function(t){var e,n,o=[],i=t.length,r=Konva.Util;for(e=0;e<i;e++)n=t[e],r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n=n.toString()),o.push(n);return o},_getImage:function(e,n){var o,i;if(e)if(this._isElement(e))n(e);else if(this._isString(e))o=new Konva.window.Image,o.onload=function(){n(o)},o.src=e;else if(e.data){i=Konva.Util.createCanvasElement(),i.width=e.width,i.height=e.height;var r=i.getContext(t);r.putImageData(e,0,0),this._getImage(i.toDataURL(),n)}else n(null);else n(null)},_getRGBAString:function(t){var e=t.red||0,n=t.green||0,o=t.blue||0,i=t.alpha||1;return["rgba(",e,",",n,",",o,",",i,")"].join(u)},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(s,u);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=h+t;return s+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in f?(e=f[t],{r:e[0],g:e[1],b:e[2]}):t[0]===s?this._hexToRgb(t.substring(1)):t.substr(0,4)===c?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",Konva.Util._namedColorToRBA(t)||Konva.Util._hex3ColorToRGBA(t)||Konva.Util._hex6ColorToRGBA(t)||Konva.Util._rgbColorToRGBA(t)||Konva.Util._rgbaColorToRGBA(t)},_namedColorToRBA:function(t){var e=f[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_merge:function(t,e){var n=this._clone(e);for(var o in t)this._isObject(t[o])?n[o]=this._merge(t[o],n[o]):n[o]=t[o];return n},cloneObject:function(t){var e={};for(var n in t)this._isObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(l+t)},error:function(t){console.error(l+t)},warn:function(t){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn(p+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var o=t.prototype;t.prototype=new n;for(var i in o)o.hasOwnProperty(i)&&(t.prototype[i]=o[i]);t.__super__=e.prototype,t.super=e},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,o,i,r,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(r-o,2)),h=a*s/(s+u),p=a*u/(s+u),l=n-h*(i-t),c=o-h*(r-e),f=n+p*(i-t),d=o+p*(r-e);return[l,c,f,d]},_expandPoints:function(t,e){var n,o,i=t.length,r=[];for(n=2;n<i-2;n+=2)o=Konva.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),r.push(o[0]),r.push(o[1]),r.push(t[n]),r.push(t[n+1]),r.push(o[2]),r.push(o[3]);return r},_removeLastLetter:function(t){return t.substring(0,t.length-1)},each:function(t,e){for(var n in t)e(n,t[n])},_getProjectionToSegment:function(t,e,n,o,i,r){var a,s,u,h=(t-n)*(t-n)+(e-o)*(e-o);if(0==h)a=t,s=e,u=(i-n)*(i-n)+(r-o)*(r-o);else{var p=((i-t)*(n-t)+(r-e)*(o-e))/h;p<0?(a=t,s=e,u=(t-i)*(t-i)+(e-r)*(e-r)):p>1?(a=n,s=o,u=(n-i)*(n-i)+(o-r)*(o-r)):(a=t+p*(n-t),s=e+p*(o-e),u=(a-i)*(a-i)+(s-r)*(s-r))}return[a,s,u]},_getProjectionToLine:function(t,e,n){var o=Konva.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(r,a){if(n||a!==e.length-1){var s=e[(a+1)%e.length],u=Konva.Util._getProjectionToSegment(r.x,r.y,s.x,s.y,t.x,t.y),h=u[0],p=u[1],l=u[2];l<i&&(o.x=h,o.y=p,i=l)}}),o},_prepareArrayForTween:function(t,e,n){var o,i=[],r=[];if(t.length>e.length){var a=e;e=t,t=a}for(o=0;o<t.length;o+=2)i.push({x:t[o],y:t[o+1]});for(o=0;o<e.length;o+=2)r.push({x:e[o],y:e[o+1]});var s=[];return r.forEach(function(t){var e=Konva.Util._getProjectionToLine(t,i,n);s.push(e.x),s.push(e.y)}),s},_prepareToStringify:function(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Konva.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===Konva.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t}}}(),function(){"use strict";var t=Konva.Util.createCanvasElement(),e=t.getContext("2d"),n=function(){var t=Konva.window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}();Konva.Canvas=function(t){this.init(t)},Konva.Canvas.prototype={init:function(t){var e=t||{},o=e.pixelRatio||Konva.pixelRatio||n;this.pixelRatio=o,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return Konva.Util.warn("Unable to get data URL. "+t.message),""}}}},Konva.SceneCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.SceneContext(this),this.setSize(n,o)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.HitContext(this),this.setSize(n,o),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var t=",",e="(",n=")",o="([",i="])",r=";",a="()",s="=",u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"];Konva.Context=function(t){this.init(t)},Konva.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(u){var h,p,l,c,f=this.traceArr,d=f.length,y="";for(h=0;h<d;h++)p=f[h],l=p.method,l?(c=p.args,y+=l,y+=u?a:Konva.Util._isArray(c[0])?o+c.join(t)+i:e+c.join(t)+n):(y+=p.property,u||(y+=s+p.val)),y+=r;return y},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e,n=this.traceArr;n.push(t),e=n.length,e>=Konva.traceArrMax&&n.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},isPointInPath:function(t,e){return this._context.isPointInPath(t,e)},fill:function(){this._context.fill()},fillRect:function(t,e,n,o){this._context.fillRect(t,e,n,o)},strokeRect:function(t,e,n,o){this._context.strokeRect(t,e,n,o)},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},measureText:function(t){return this._context.measureText(t)},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,o=u.length,i=Konva.Util._simplifyArray,r=this.setAttr,a=function(t){var o,r=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:t,args:e}),o}};for(t=0;t<o;t++)a(u[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}},h.forEach(function(t){Object.defineProperty(Konva.Context.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),Konva.SceneContext=function(t){Konva.Context.call(this,t)},Konva.SceneContext.prototype={_fillColor:function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),o=t.getFillPatternScale(),i=Konva.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffset();(e||n)&&this.translate(e||0,n||0),i&&this.rotate(i),o&&this.scale(o.x,o.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(t.getFillPatternImage(),t.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),o=t.getFillLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(o){for(var r=0;r<o.length;r+=2)i.addColorStop(o[r],o[r+1]);this.setAttr("fillStyle",i),t._fillFunc(this)}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),o=t.getFillRadialGradientStartRadius(),i=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,o,n.x,n.y,i),s=0;s<r.length;s+=2)a.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill(),n=t.getFillPatternImage(),o=t.getFillLinearGradientColorStops(),i=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):n&&"pattern"===r?this._fillPattern(t):o&&"linear-gradient"===r?this._fillLinearGradient(t):i&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):o?this._fillLinearGradient(t):i&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled()||t instanceof Konva.Text;t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Konva.Util,n=e.get(t.getShadowRGBA(),"black"),o=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),r=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=r.x*a,u=r.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",o*a*Math.min(s,u)),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*u)},_applyGlobalCompositeOperation:function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(t){Konva.Context.call(this,t)},Konva.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){if(t.hasStroke()&&t.strokeHitEnabled()){var e=t.getStrokeScaleEnabled()||t instanceof Konva.Text;e||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";var t="get",e="set";Konva.Factory={addGetterSetter:function(t,e,n,o,i){this.addGetter(t,e,n),this.addSetter(t,e,o,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,o){var i=t+Konva.Util._capitalize(n);e.prototype[i]=function(){var t=this.attrs[n];return void 0===t?o:t}},addSetter:function(t,n,o,i){var r=e+Konva.Util._capitalize(n);t.prototype[r]=function(t){return o&&(t=o.call(this,t)),this._setAttr(n,t),i&&i.call(this),this}},addComponentsGetterSetter:function(n,o,i,r,a){var s,u,h=i.length,p=Konva.Util._capitalize,l=t+p(o),c=e+p(o);n.prototype[l]=function(){var t={};for(s=0;s<h;s++)u=i[s],t[u]=this.getAttr(o+p(u));return t},n.prototype[c]=function(t){var e,n=this.attrs[o];r&&(t=r.call(this,t));for(e in t)t.hasOwnProperty(e)&&this._setAttr(o+p(e),t[e]);return this._fireChangeEvent(o,n,t),a&&a.call(this),this},this.addOverloadedGetterSetter(n,o)},addOverloadedGetterSetter:function(n,o){var i=Konva.Util._capitalize(o),r=e+i,a=t+i;n.prototype[o]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(e,n,o,i){var r=t+Konva.Util._capitalize(n),a=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Konva.Util.error(a);var t=this.attrs[n];return void 0===t?o:t},this.addSetter(e,n,i,function(){Konva.Util.error(a)}),this.addOverloadedGetterSetter(e,n)},backCompat:function(t,e){Konva.Util.each(e,function(e,n){var o=t.prototype[n];t.prototype[e]=function(){o.apply(this,arguments),Konva.Util.error(e+" method is deprecated and will be removed soon. Use "+n+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}}}(),function(t){"use strict";var e="absoluteOpacity",n="absoluteTransform",o="absoluteScale",i="Change",r="children",a=".",s="",u="get",h="id",p="konva",l="listening",c="mouseenter",f="mouseleave",d="name",y="set",v="Shape",g=" ",m="stage",b="transform",_="Stage",x="visible",w=["id"],P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(g),S=["scaleXChange.konva","scaleYChange.konva"].join(g);t.Node=function(t){this._init(t)},t.Util.addMethods(t.Node,{_init:function(i){var r=this;this._id=t.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(i),this.on(P,function(){this._clearCache(b),r._clearSelfAndDescendantCache(n)}),this.on(S,function(){r._clearSelfAndDescendantCache(o)}),this.on("visibleChange.konva",function(){r._clearSelfAndDescendantCache(x)}),this.on("listeningChange.konva",function(){r._clearSelfAndDescendantCache(l)}),this.on("opacityChange.konva",function(){r._clearSelfAndDescendantCache(e)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){var n=this._cache[t];return void 0===n&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(n){var i=n||{},r=this.getClientRect(!0),a=i.width||r.width,s=i.height||r.height,u=i.pixelRatio,h=i.x||r.x,p=i.y||r.y,l=i.offset||0,c=i.drawBorder||!1;if(!a||!s)throw new Error("Width or height of caching configuration equals 0.");a+=2*l,s+=2*l,h-=l,p-=l;var f=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),d=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),y=new t.HitCanvas({pixelRatio:1,width:a,height:s}),v=f.getContext(),g=y.getContext();return y.isCache=!0,this.clearCache(),v.save(),g.save(),v.translate(-h,-p),g.translate(-h,-p),this._isUnderCache=!0,this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(o),this.drawScene(f,this,!0),this.drawHit(y,this,!0),this._isUnderCache=!1,v.restore(),g.restore(),c&&(v.save(),v.beginPath(),v.rect(0,0,a,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.canvas={scene:f,filter:d,hit:y,x:h,y:p},this},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(t){var e,n,o,i,r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getTransform();return r.forEach(function(t){var r=a.point(t);void 0===e&&(e=o=r.x,n=i=r.y),e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x),i=Math.max(i,r.y)}),{x:e,y:n,width:o-e,height:i-n}},_drawCachedSceneCanvas:function(t){t.save(),t._applyOpacity(this),t.translate(this._cache.canvas.x,this._cache.canvas.y);var e=this._getCachedSceneCanvas(),n=e.pixelRatio;t.drawImage(e._canvas,0,0,e.width/n,e.height/n),t.restore()},_drawCachedHitCanvas:function(t){var e=this._cache.canvas,n=e.hit;t.save(),t.translate(this._cache.canvas.x,this._cache.canvas.y),t.drawImage(n._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var e,n,o,i,r=this.filters(),a=this._cache.canvas,s=a.scene,u=a.filter,h=u.getContext();if(r){if(!this._filterUpToDate){var p=s.pixelRatio;try{for(e=r.length,h.clear(),h.drawImage(s._canvas,0,0,s.getWidth()/p,s.getHeight()/p),n=h.getImageData(0,0,u.getWidth(),u.getHeight()),o=0;o<e;o++)i=r[o],"function"==typeof i?(i.call(this,n),h.putImageData(n,0,0)):t.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(e){t.Util.error("Unable to apply filter. "+e.message)}this._filterUpToDate=!0}return u}return s},on:function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,o,i,r,u,h=t.split(g),p=h.length;for(n=0;n<p;n++)o=h[n],i=o.split(a),r=i[0],u=i[1]||s,this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:u,handler:e});return this},off:function(t){var e,n,o,i,r,s,u=(t||"").split(g),h=u.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;e<h;e++)if(o=u[e],i=o.split(a),r=i[0],s=i[1],r)this.eventListeners[r]&&this._off(r,s);else for(n in this.eventListeners)this._off(n,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},addEventListener:function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},removeEventListener:function(t){return this.off(t),this},_delegate:function(e,n,o){var i=this;this.on(e,function(e){for(var r=e.target.findAncestors(n,!0,i),a=0;a<r.length;a++)e=t.Util.cloneObject(e),e.currentTarget=r[a],o.call(r[a],e)})},remove:function(){var t=this.getParent();
return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(e),this},destroy:function(){t._removeId(this.getId());for(var e=(this.getName()||"").split(/\s/g),n=0;n<e.length;n++){var o=e[n];t._removeName(o,this._id)}return this.remove(),this},getAttr:function(e){var n=u+t.Util._capitalize(e);return t.Util._isFunction(this[n])?this[n]():this.attrs[e]},getAncestors:function(){for(var e=this.getParent(),n=new t.Collection;e;)n.push(e),e=e.getParent();return n},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var n,o;if(!e)return this;for(n in e)n!==r&&(o=y+t.Util._capitalize(n),t.Util._isFunction(this[o])?this[o](e[n]):this._setAttr(n,e[n]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(x,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(u){for(e=[],n=u.length,o=0;o<n;o++)i=u[o],s++,i.nodeType!==v&&(e=e.concat(i.getChildren().toArray())),i._id===a._id&&(o=n);e.length>0&&e[0].getDepth()<=r&&t(e)}var e,n,o,i,r=this.getDepth(),a=this,s=0;return a.nodeType!==_&&t(a.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(e){var n=this.getAbsoluteTransform(e).getMatrix(),o=new t.Transform,i=this.offset();return o.m=n.slice(),o.translate(i.x,i.y),o.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(b),this._clearSelfAndDescendantCache(n)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(b),this._clearSelfAndDescendantCache(n),t},move:function(t){var e=t.x,n=t.y,o=this.getX(),i=this.getY();return void 0!==e&&(o+=e),void 0!==n&&(i+=n),this.setPosition({x:o,y:i}),this},_eachAncestorReverse:function(t,e){var n,o,i=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(i.unshift(this);r&&(!e||r._id!==e._id);)i.unshift(r),r=r.parent;for(n=i.length,o=0;o<n;o++)t(i[o])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(e){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(e,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&((this.__originalRemove||this.remove).call(this),t.add(this)),this},toObject:function(){var e,n,o,i,r={},a=this.getAttrs();r.attrs={};for(e in a)n=a[e],o=this[e],delete a[e],i=o?o.call(this):null,a[e]=n,i!==n&&(r.attrs[e]=n);return r.className=this.getClassName(),t.Util._prepareToStringify(r)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(t,e,n){var o=[];e&&this._isMatch(t)&&o.push(this);for(var i=this.parent;i;){if(i===n)return o;i._isMatch(t)&&o.push(i),i=i.parent}return o},findAncestor:function(t,e,n){return this.findAncestors(t,e,n)[0]},_isMatch:function(e){if(!e)return!1;var n,o,i=e.replace(/ /g,"").split(","),r=i.length;for(n=0;n<r;n++)if(o=i[n],t.Util.isValidSelector(o)||(t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0)){if(this.id()===o.slice(1))return!0}else if("."===o.charAt(0)){if(this.hasName(o.slice(1)))return!0}else if(0!==this._get(o).length)return!0;return!1},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(m,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return e=e||{},e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(n,this._getAbsoluteTransform)},_getAbsoluteTransform:function(e){var n,o,i=new t.Transform;return this._eachAncestorReverse(function(t){n=t.transformsEnabled(),o=t.getTransform(),"all"===n?i.multiply(o):"position"===n&&i.translate(t.x(),t.y())},e),i},getAbsoluteScale:function(t){return t?this._getAbsoluteTransform(t):this._getCache(o,this._getAbsoluteScale)},_getAbsoluteScale:function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,o=1;return this._eachAncestorReverse(function(t){n*=t.scaleX(),o*=t.scaleY()},t),{x:n,y:o}},getTransform:function(){return this._getCache(b,this._getTransform)},_getTransform:function(){var e=new t.Transform,n=this.getX(),o=this.getY(),i=t.getAngle(this.getRotation()),r=this.getScaleX(),a=this.getScaleY(),s=this.getSkewX(),u=this.getSkewY(),h=this.getOffsetX(),p=this.getOffsetY();return 0===n&&0===o||e.translate(n,o),0!==i&&e.rotate(i),0===s&&0===u||e.skew(s,u),1===r&&1===a||e.scale(r,a),0===h&&0===p||e.translate(-1*h,-1*p),e},clone:function(e){var n,o,i,r,a,s=t.Util.cloneObject(this.attrs);for(var u in w){var h=w[u];delete s[h]}for(n in e)s[n]=e[n];var l=new this.constructor(s);for(n in this.eventListeners)for(o=this.eventListeners[n],i=o.length,r=0;r<i;r++)a=o[r],a.name.indexOf(p)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l},_toKonvaCanvas:function(e){e=e||{};var n=this.getStage(),o=e.x||0,i=e.y||0,r=e.pixelRatio||1,a=new t.SceneCanvas({width:e.width||this.getWidth()||(n?n.getWidth():0),height:e.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:r}),s=a.getContext();return s.save(),(o||i)&&s.translate(-1*o,-1*i),this.drawScene(a),s.restore(),a},toCanvas:function(t){return this._toKonvaCanvas(t)._canvas},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null;return this._toKonvaCanvas(t).toDataURL(e,n)},toImage:function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";t.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():t.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,o,i=this.eventListeners[t];for(n=0;n<i.length;n++)if(o=i[n].name,!("konva"===o&&"konva"!==e||e&&o!==e)){if(i.splice(n,1),0===i.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+i,{oldVal:e,newVal:n})},setId:function(e){var n=this.getId();return t._removeId(n),t._addId(this,e),this._setAttr(h,e),this},setName:function(e){var n,o,i=(this.getName()||"").split(/\s/g),r=(e||"").split(/\s/g);for(o=0;o<i.length;o++)n=i[o],r.indexOf(n)===-1&&n&&t._removeName(n,this._id);for(o=0;o<r.length;o++)n=r[o],i.indexOf(n)===-1&&n&&t._addName(this,n);return this._setAttr(d,e),this},addName:function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},hasName:function(t){var e=(this.name()||"").split(/\s/g);return e.indexOf(t)!==-1},removeName:function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return n!==-1&&(e.splice(n,1),this.setName(e.join(" "))),this},setAttr:function(e,n){var o=y+t.Util._capitalize(e),i=this[o];return t.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this},_setAttr:function(t,e){var n;n=this.attrs[t],n!==e&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var o;void 0!==n&&(o=this.attrs[t],o||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,o,n))},_fireAndBubble:function(t,e,n){var o=!0;if(e&&this.nodeType===v&&(e.target=this),t===c&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?o=!1:t===f&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(o=!1),o){this._fire(t,e);var i=(t===c||t===f)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,o=this.eventListeners[t];if(e=e||{},e.currentTarget=this,e.type=t,o)for(n=0;n<o.length;n++)o[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),t.Node.create=function(e,n){return t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)},t.Node._createNode=function(e,n){var o,i,r,a=t.Node.prototype.getClassName.call(e),s=e.children;if(n&&(e.attrs.container=n),o=new t[a](e.attrs),s)for(i=s.length,r=0;r<i;r++)o.add(this._createNode(s[r]));return o},t.Factory.addOverloadedGetterSetter(t.Node,"position"),t.Factory.addGetterSetter(t.Node,"x",0),t.Factory.addGetterSetter(t.Node,"y",0),t.Factory.addGetterSetter(t.Node,"opacity",1),t.Factory.addGetter(t.Node,"name"),t.Factory.addOverloadedGetterSetter(t.Node,"name"),t.Factory.addGetter(t.Node,"id"),t.Factory.addOverloadedGetterSetter(t.Node,"id"),t.Factory.addGetterSetter(t.Node,"rotation",0),t.Factory.addComponentsGetterSetter(t.Node,"scale",["x","y"]),t.Factory.addGetterSetter(t.Node,"scaleX",1),t.Factory.addGetterSetter(t.Node,"scaleY",1),t.Factory.addComponentsGetterSetter(t.Node,"skew",["x","y"]),t.Factory.addGetterSetter(t.Node,"skewX",0),t.Factory.addGetterSetter(t.Node,"skewY",0),t.Factory.addComponentsGetterSetter(t.Node,"offset",["x","y"]),t.Factory.addGetterSetter(t.Node,"offsetX",0),t.Factory.addGetterSetter(t.Node,"offsetY",0),t.Factory.addSetter(t.Node,"dragDistance"),t.Factory.addOverloadedGetterSetter(t.Node,"dragDistance"),t.Factory.addSetter(t.Node,"width",0),t.Factory.addOverloadedGetterSetter(t.Node,"width"),t.Factory.addSetter(t.Node,"height",0),t.Factory.addOverloadedGetterSetter(t.Node,"height"),t.Factory.addGetterSetter(t.Node,"listening","inherit"),t.Factory.addGetterSetter(t.Node,"preventDefault",!0),t.Factory.addGetterSetter(t.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),t.Factory.addGetterSetter(t.Node,"visible","inherit"),t.Factory.addGetterSetter(t.Node,"transformsEnabled","all"),t.Factory.addOverloadedGetterSetter(t.Node,"size"),t.Factory.backCompat(t.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),t.Collection.mapMethods(t.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(t){var e,n,o=t.data,i=o.length;for(e=0;e<i;e+=4)n=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=n,o[e+1]=n,o[e+2]=n}}(),function(){"use strict";Konva.Filters.Brighten=function(t){var e,n=255*this.brightness(),o=t.data,i=o.length;for(e=0;e<i;e+=4)o[e]+=n,o[e+1]+=n,o[e+2]+=n},Konva.Factory.addGetterSetter(Konva.Node,"brightness",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Invert=function(t){var e,n=t.data,o=n.length;for(e=0;e<o;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}}(),function(){"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,i){var r,a,s,u,h,p,l,c,f,d,y,v,g,m,b,_,x,w,P,S,C,M,T,A,E=e.data,L=e.width,I=e.height,N=i+i+1,O=L-1,k=I-1,R=i+1,D=R*(R+1)/2,F=new t,j=null,K=F,B=null,X=null,U=n[i],Y=o[i];for(s=1;s<N;s++)K=K.next=new t,s===R&&(j=K);for(K.next=F,l=p=0,a=0;a<I;a++){for(_=x=w=P=c=f=d=y=0,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(s=1;s<R;s++)u=p+((O<s?O:s)<<2),c+=(K.r=S=E[u])*(A=R-s),f+=(K.g=C=E[u+1])*A,d+=(K.b=M=E[u+2])*A,y+=(K.a=T=E[u+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next;for(B=F,X=j,r=0;r<L;r++)E[p+3]=T=y*U>>Y,0!==T?(T=255/T,E[p]=(c*U>>Y)*T,E[p+1]=(f*U>>Y)*T,E[p+2]=(d*U>>Y)*T):E[p]=E[p+1]=E[p+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=l+((u=r+i+1)<O?u:O)<<2,_+=B.r=E[u],x+=B.g=E[u+1],w+=B.b=E[u+2],P+=B.a=E[u+3],c+=_,f+=x,d+=w,y+=P,B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=4;l+=L}for(r=0;r<L;r++){for(x=w=P=_=f=d=y=c=0,p=r<<2,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(h=L,s=1;s<=i;s++)p=h+r<<2,c+=(K.r=S=E[p])*(A=R-s),f+=(K.g=C=E[p+1])*A,d+=(K.b=M=E[p+2])*A,y+=(K.a=T=E[p+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next,s<k&&(h+=L);for(p=r,B=F,X=j,a=0;a<I;a++)u=p<<2,E[u+3]=T=y*U>>Y,T>0?(T=255/T,E[u]=(c*U>>Y)*T,E[u+1]=(f*U>>Y)*T,E[u+2]=(d*U>>Y)*T):E[u]=E[u+1]=E[u+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=r+((u=a+R)<k?u:k)*L<<2,c+=_+=B.r=E[u],f+=x+=B.g=E[u+1],d+=w+=B.b=E[u+2],y+=P+=B.a=E[u+3],B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=L}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Konva.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Konva.Factory.addGetterSetter(Konva.Node,"blurRadius",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n){var o=4*(n*t.width+e),i=[];return i.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),i}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function o(o,i){var r=t(o,0,0),a=t(o,o.width-1,0),s=t(o,0,o.height-1),u=t(o,o.width-1,o.height-1),h=i||10;if(e(r,a)<h&&e(a,u)<h&&e(u,s)<h&&e(s,r)<h){for(var p=n([a,r,u,s]),l=[],c=0;c<o.width*o.height;c++){var f=e(p,[o.data[4*c],o.data[4*c+1],o.data[4*c+2]]);l[c]=f<h?0:255}return l}}function i(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function r(t,e,n){for(var o=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=2040===p?255:0}return a}function a(t,e,n){for(var o=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p>=1020?255:0}return a}function s(t,e,n){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p}return a}Konva.Filters.Mask=function(t){var e=this.threshold(),n=o(t,e);return n&&(n=r(n,t.width,t.height),n=a(n,t.width,t.height),n=s(n,t.width,t.height),i(t,n)),t},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=n*r,o[e+1]=n*a,o[e+2]=n*s,o[e+3]=o[e+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue(),u=this.alpha();for(e=0;e<i;e+=4)n=1-u,o[e]=r*u+o[e]*n,o[e+1]=a*u+o[e+1]*n,o[e+2]=s*u+o[e+2]*n},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})}(),function(){"use strict";Konva.Filters.HSV=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=u*h*Math.cos(p*Math.PI/180),c=u*h*Math.sin(p*Math.PI/180),f=.299*u+.701*l+.167*c,d=.587*u-.587*l+.33*c,y=.114*u-.114*l-.497*c,v=.299*u-.299*l-.328*c,g=.587*u+.413*l+.035*c,m=.114*u-.114*l+.293*c,b=.299*u-.3*l+1.25*c,_=.587*u-.586*l-1.05*c,x=.114*u+.886*l-.2*c;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=f*n+d*o+y*i,a[e+1]=v*n+g*o+m*i,a[e+2]=b*n+_*o+x*i,a[e+3]=r},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=1,h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=127*this.luminance(),c=u*h*Math.cos(p*Math.PI/180),f=u*h*Math.sin(p*Math.PI/180),d=.299*u+.701*c+.167*f,y=.587*u-.587*c+.33*f,v=.114*u-.114*c-.497*f,g=.299*u-.299*c-.328*f,m=.587*u+.413*c+.035*f,b=.114*u-.114*c+.293*f,_=.299*u-.3*c+1.25*f,x=.587*u-.586*c-1.05*f,w=.114*u+.886*c-.2*f;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=d*n+y*o+v*i+l,a[e+1]=g*n+m*o+b*i+l,a[e+2]=_*n+x*o+w*i+l,a[e+3]=r}}(),function(){"use strict";Konva.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),o=this.embossDirection(),i=this.embossBlend(),r=0,a=0,s=t.data,u=t.width,h=t.height,p=4*u,l=h;switch(o){case"top-left":r=-1,a=-1;break;case"top":r=-1,a=0;break;case"top-right":r=-1,a=1;break;case"right":r=0,a=1;break;case"bottom-right":r=1,a=1;break;case"bottom":r=1,a=0;break;case"bottom-left":r=1,a=-1;break;case"left":r=0,a=-1;break;default:Konva.Util.error("Unknown emboss direction: "+o)}do{var c=(l-1)*p,f=r;l+f<1&&(f=0),l+f>h&&(f=0);var d=(l-1+f)*u*4,y=u;do{var v=c+4*(y-1),g=a;y+g<1&&(g=0),y+g>u&&(g=0);var m=d+4*(y-1+g),b=s[v]-s[m],_=s[v+1]-s[m+1],x=s[v+2]-s[m+2],w=b,P=w>0?w:-w,S=_>0?_:-_,C=x>0?x:-x;if(S>P&&(w=_),C>P&&(w=x),w*=e,i){var M=s[v]+w,T=s[v+1]+w,A=s[v+2]+w;s[v]=M>255?255:M<0?0:M,s[v+1]=T>255?255:T<0?0:T,s[v+2]=A>255?255:A<0?0:A}else{var E=n-w;E<0?E=0:E>255&&(E=255),s[v]=s[v+1]=s[v+2]=E}}while(--y)}while(--l)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n,o,i){var r,a=n-e,s=i-o;return 0===a?o+s/2:0===s?o:(r=(t-e)/a,r=s*r+o)}Konva.Filters.Enhance=function(e){var n,o,i,r,a=e.data,s=a.length,u=a[0],h=u,p=a[1],l=p,c=a[2],f=c,d=this.enhance();if(0!==d){for(r=0;r<s;r+=4)n=a[r+0],n<u?u=n:n>h&&(h=n),o=a[r+1],o<p?p=o:o>l&&(l=o),i=a[r+2],i<c?c=i:i>f&&(f=i);h===u&&(h=255,u=0),l===p&&(l=255,p=0),f===c&&(f=255,c=0);var y,v,g,m,b,_,x,w,P;for(d>0?(v=h+d*(255-h),g=u-d*(u-0),b=l+d*(255-l),_=p-d*(p-0),w=f+d*(255-f),P=c-d*(c-0)):(y=.5*(h+u),v=h+d*(h-y),g=u+d*(u-y),m=.5*(l+p),b=l+d*(l-m),_=p+d*(p-m),x=.5*(f+c),w=f+d*(f-x),P=c+d*(c-x)),r=0;r<s;r+=4)a[r+0]=t(a[r+0],u,h,g,v),a[r+1]=t(a[r+1],p,l,_,b),a[r+2]=t(a[r+2],c,f,P,w)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,o=t.data,i=o.length,r=255/n;for(e=0;e<i;e+=1)o[e]=Math.floor(o[e]/r)*r},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(t){var e,n=255*this.noise(),o=t.data,i=o.length,r=n/2;for(e=0;e<i;e+=4)o[e+0]+=r-2*r*Math.random(),o[e+1]+=r-2*r*Math.random(),o[e+2]+=r-2*r*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(t){var e,n,o,i,r,a,s,u,h,p,l,c,f,d,y=Math.ceil(this.pixelSize()),v=t.width,g=t.height,m=Math.ceil(v/y),b=Math.ceil(g/y);if(t=t.data,y<=0)return void Konva.Util.error("pixelSize value can not be <= 0");for(c=0;c<m;c+=1)for(f=0;f<b;f+=1){for(i=0,r=0,a=0,s=0,u=c*y,h=u+y,p=f*y,l=p+y,d=0,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),i+=t[o+0],r+=t[o+1],a+=t[o+2],s+=t[o+3],d+=1);for(i/=d,r/=d,a/=d,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),t[o+0]=i,t[o+1]=r,t[o+2]=a,t[o+3]=s)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(t){var e,n=255*this.threshold(),o=t.data,i=o.length;for(e=0;e<i;e+=1)o[e]=o[e]<n?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";/**
	     * Sepia Filter
	     * Based on: Pixastic Lib - Sepia filter - v0.1.0
	     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
	     * @function
	     * @name Sepia
	     * @memberof Konva.Filters
	     * @param {Object} imageData
	     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
	     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
	     * @example
	     * node.cache();
	     * node.filters([Konva.Filters.Sepia]);
	     */
Konva.Filters.Sepia=function(t){var e,n,o,i,r,a,s,u,h,p=t.data,l=t.width,c=t.height,f=4*l;do{e=(c-1)*f,n=l;do o=e+4*(n-1),i=p[o],r=p[o+1],a=p[o+2],s=.393*i+.769*r+.189*a,u=.349*i+.686*r+.168*a,h=.272*i+.534*r+.131*a,p[o]=s>255?255:s,p[o+1]=u>255?255:u,p[o+2]=h>255?255:h,p[o+3]=p[o+3];while(--n)}while(--c)}}(),function(){"use strict";Konva.Filters.Solarize=function(t){var e=t.data,n=t.width,o=t.height,i=4*n,r=o;do{var a=(r-1)*i,s=n;do{var u=a+4*(s-1),h=e[u],p=e[u+1],l=e[u+2];h>127&&(h=255-h),p>127&&(p=255-p),l>127&&(l=255-l),e[u]=h,e[u+1]=p,e[u+2]=l}while(--s)}while(--r)}}(),function(){"use strict";var t=function(t,e,n){var o,i,r,a,s=t.data,u=e.data,h=t.width,p=t.height,l=n.polarCenterX||h/2,c=n.polarCenterY||p/2,f=0,d=0,y=0,v=0,g=Math.sqrt(l*l+c*c);i=h-l,r=p-c,a=Math.sqrt(i*i+r*r),g=a>g?a:g;var m,b,_,x,w=p,P=h,S=360/P*Math.PI/180;for(b=0;b<P;b+=1)for(_=Math.sin(b*S),x=Math.cos(b*S),m=0;m<w;m+=1)i=Math.floor(l+g*m/w*x),r=Math.floor(c+g*m/w*_),o=4*(r*h+i),f=s[o+0],d=s[o+1],y=s[o+2],v=s[o+3],o=4*(b+m*h),u[o+0]=f,u[o+1]=d,u[o+2]=y,u[o+3]=v},e=function(t,e,n){var o,i,r,a,s,u,h=t.data,p=e.data,l=t.width,c=t.height,f=n.polarCenterX||l/2,d=n.polarCenterY||c/2,y=0,v=0,g=0,m=0,b=Math.sqrt(f*f+d*d);i=l-f,r=c-d,u=Math.sqrt(i*i+r*r),b=u>b?u:b;var _,x,w,P,S=c,C=l,M=n.polarRotation||0;for(i=0;i<l;i+=1)for(r=0;r<c;r+=1)a=i-f,s=r-d,_=Math.sqrt(a*a+s*s)*S/b,x=(180*Math.atan2(s,a)/Math.PI+360+M)%360,x=x*C/360,w=Math.floor(x),P=Math.floor(_),o=4*(P*l+w),y=h[o+0],v=h[o+1],g=h[o+2],m=h[o+3],o=4*(r*l+i),p[o+0]=y,p[o+1]=v,p[o+2]=g,p[o+3]=m},n=Konva.Util.createCanvasElement();Konva.Filters.Kaleidoscope=function(o){var i,r,a,s,u,h,p,l,c,f,d=o.width,y=o.height,v=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(d*(g%360)/360);if(!(v<1)){n.width=d,n.height=y;var b=n.getContext("2d").getImageData(0,0,d,y);t(o,b,{polarCenterX:d/2,polarCenterY:y/2});for(var _=d/Math.pow(2,v);_<=8;)_*=2,v-=1;_=Math.ceil(_);var x=_,w=0,P=x,S=1;for(m+_>d&&(w=x,P=0,S=-1),r=0;r<y;r+=1)for(i=w;i!==P;i+=S)a=Math.round(i+m)%d,c=4*(d*r+a),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+i),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;for(r=0;r<y;r+=1)for(x=Math.floor(_),s=0;s<v;s+=1){for(i=0;i<x+1;i+=1)c=4*(d*r+i),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+2*x-i-1),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;x*=2}e(b,o,{polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Container=function(t){this.__init(t)},Konva.Util.addMethods(Konva.Container,{__init:function(t){this.children=new Konva.Collection,Konva.Node.call(this,t)},getChildren:function(t){if(!t)return this.children;var e=new Konva.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.remove();return e=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.destroy();return e=null,this.children=new Konva.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),Konva.DD&&t.isDragging()&&Konva.DD.anim.setLayers(t.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(t){var e,n,o,i,r,a,s,u=[],h=t.replace(/ /g,"").split(","),p=h.length;for(e=0;e<p;e++)if(o=h[e],Konva.Util.isValidSelector(o)||(Konva.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0))r=this._getNodeById(o.slice(1)),r&&u.push(r);else if("."===o.charAt(0))i=this._getNodesByName(o.slice(1)),u=u.concat(i);else for(a=this.getChildren(),s=a.length,n=0;n<s;n++)u=u.concat(a[n]._get(o));return Konva.Collection.toCollection(u)},findOne:function(t){return this.find(t)[0]},_getNodeById:function(t){var e=Konva.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=Konva.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=Konva.Node.prototype._get.call(this,t),n=this.getChildren(),o=n.length,i=0;i<o;i++)e=e.concat(n[i]._get(t));return e},toObject:function(){var t=Konva.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,o=0;o<n;o++){var i=e[o];t.children.push(i.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,o=0;o<n;o++){var i=t[o];this.isAncestorOf(i)&&e.push(i)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Konva.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e,n){var o=this.getLayer(),i=t||o&&o.getCanvas(),r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.scene;return this.isVisible()&&(!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(i,"drawScene",e,!1,n)),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o&&o.hitCanvas,r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.hit;return this.shouldDrawHit(i)&&(o&&o.clearHitCache(),!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n,o,i){var r,a,s=this.getLayer(),u=t&&t.getContext(),h=this.getClipWidth(),p=this.getClipHeight(),l=this.getClipFunc(),c=h&&p||l;if(c&&s){u.save();var f=this.getAbsoluteTransform(n),d=f.getMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),u.beginPath(),l?l.call(this,u,this):(r=this.getClipX(),a=this.getClipY(),u.rect(r,a,h,p)),u.clip(),d=f.copy().invert().getMatrix(),u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}this.children.each(function(r){r[e](t,n,o,i)}),c&&u.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=Konva.DD,o=n&&Konva.isDragging()&&Konva.DD.anim.getLayers().indexOf(e)!==-1;return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!o},getClientRect:function(t){var e,n,o,i,r={x:0,y:0,width:0,height:0};return this.children.each(function(t){var r=t.getClientRect();void 0===e?(e=r.x,n=r.y,o=r.x+r.width,i=r.y+r.height):(e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x+r.width),i=Math.max(i,r.y+r.height))}),0!==this.children.length&&(r={x:e,y:n,width:o-e,height:i-n}),t?r:this._transformedRect(r)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(t){"use strict";function e(t){t.fill()}function n(t){t.stroke()}function o(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(s)}function a(){this._clearCache(u)}var s="hasShadow",u="shadowRGBA";t.Shape=function(t){this.__init(t)},t.Util.addMethods(t.Shape,{__init:function(s){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=n,this._fillFuncHit=o,this._strokeFuncHit=i;for(var u,h=t.shapes;;)if(u=t.Util.getRandomColor(),u&&!(u in h))break;this.colorKey=u,h[u]=this,t.Node.call(this,s),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",r),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",a)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(s,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(u,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var e=t.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!!this.stroke()},intersects:function(t){var e,n=this.getStage(),o=n.bufferHitCanvas;return o.getContext().clear(),this.drawHit(o),e=o.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},destroy:function(){return t.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],this},_useBufferCanvas:function(t){return!t&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var t=this.getSize();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},getClientRect:function(t){var e=this.getSelfRect(),n=this.hasStroke()&&this.strokeWidth()||0,o=e.width+n,i=e.height+n,r=this.hasShadow()?this.shadowOffsetX():0,a=this.hasShadow()?this.shadowOffsetY():0,s=o+Math.abs(r),u=i+Math.abs(a),h=this.hasShadow()&&this.shadowBlur()||0,p=s+2*h,l=u+2*h,c=0;Math.round(n/2)!==n/2&&(c=1);var f={width:p+c,height:l+c,x:-Math.round(n/2+h)+Math.min(r,0)+e.x,y:-Math.round(n/2+h)+Math.min(a,0)+e.y};return t?f:this._transformedRect(f)},drawScene:function(t,e,n,o){var i,r,a,s=this.getLayer(),u=t||s.getCanvas(),h=u.getContext(),p=this._cache.canvas,l=this.sceneFunc(),c=this.hasShadow(),f=this.hasStroke();if(!this.isVisible())return this;if(p)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!l)return this;if(h.save(),this._useBufferCanvas(n)&&!o){if(i=this.getStage(),r=i.bufferCanvas,a=r.getContext(),a.clear(),a.save(),a._applyLineJoin(this),!n)if(s)s._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();h.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.call(this,a),a.restore();var y=r.pixelRatio;c&&!u.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y))}else{if(h._applyLineJoin(this),!n)if(s)s._applyTransform(this,h,e);else{var v=this.getAbsoluteTransform(e).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5])}c&&f&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&l.call(this,h)):c&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore()):(n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),l.call(this,h))}return h.restore(),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o.hitCanvas,r=i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,u=s&&s.hit;if(!this.shouldDrawHit(i))return this;if(o&&o.clearHitCache(),u)return r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore(),this;if(!a)return this;if(r.save(),r._applyLineJoin(this),!n)if(o)o._applyTransform(this,r,e);else{var h=this.getAbsoluteTransform(e).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,r),r.restore(),this},drawHitFromCache:function(e){var n,o,i,r,a,s,u=e||0,h=this._cache.canvas,p=this._getCachedSceneCanvas(),l=h.hit,c=l.getContext(),f=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(p._canvas,0,0,f,d);try{for(n=c.getImageData(0,0,f,d),o=n.data,i=o.length,r=t.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)s=o[a+3],s>u?(o[a]=r.r,o[a+1]=r.g,o[a+2]=r.b,o[a+3]=255):o[a+3]=0;c.putImageData(n,0,0)}catch(e){t.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}}),t.Util.extend(t.Shape,t.Node),t.Factory.addGetterSetter(t.Shape,"stroke"),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"strokeWidth",2),t.Factory.addGetterSetter(t.Shape,"strokeHitEnabled",!0),t.Factory.addGetterSetter(t.Shape,"perfectDrawEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowForStrokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"lineJoin"),t.Factory.addGetterSetter(t.Shape,"lineCap"),t.Factory.addGetterSetter(t.Shape,"sceneFunc"),t.Factory.addGetterSetter(t.Shape,"hitFunc"),t.Factory.addGetterSetter(t.Shape,"dash"),t.Factory.addGetterSetter(t.Shape,"dashOffset",0),t.Factory.addGetterSetter(t.Shape,"shadowColor"),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"globalCompositeOperation","source-over"),t.Factory.addGetterSetter(t.Shape,"shadowBlur"),t.Factory.addGetterSetter(t.Shape,"shadowOpacity"),t.Factory.addComponentsGetterSetter(t.Shape,"shadowOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"shadowOffsetX",0),t.Factory.addGetterSetter(t.Shape,"shadowOffsetY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternImage"),t.Factory.addGetterSetter(t.Shape,"fill"),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"fillPatternX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternY",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillPatternRepeat","repeat"),t.Factory.addGetterSetter(t.Shape,"fillEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowEnabled",!0),t.Factory.addGetterSetter(t.Shape,"dashEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeScaleEnabled",!0),t.Factory.addGetterSetter(t.Shape,"fillPriority","color"),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternScale",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleX",1),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleY",1),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternRotation",0),t.Factory.backCompat(t.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),t.Collection.mapMethods(t.Shape)}(Konva),function(){"use strict";function t(t,e){t.content.addEventListener(e,function(n){t[B+e](n)},!1)}var e="Stage",n="string",o="px",i="mouseout",r="mouseleave",a="mouseover",s="mouseenter",u="mousemove",h="mousedown",p="mouseup",l="contextmenu",c="click",f="dblclick",d="touchstart",y="touchend",v="tap",g="dbltap",m="touchmove",b="DOMMouseScroll",_="mousewheel",x="wheel",w="contentMouseout",P="contentMouseover",S="contentMousemove",C="contentMousedown",M="contentMouseup",T="contentContextmenu",A="contentClick",E="contentDblclick",L="contentTouchstart",I="contentTouchend",N="contentDbltap",O="contentTap",k="contentTouchmove",R="contentWheel",D="div",F="relative",j="konvajs-content",K=" ",B="_",X="container",U="",Y=[h,u,p,i,d,m,y,a,b,_,x,l],G=Y.length;Konva.Stage=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Stage,{___init:function(t){this.nodeType=e,Konva.Container.call(this,t),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(t){if(typeof t===n){if("."===t.charAt(0)){var e=t.slice(1);t=Konva.document.getElementsByClassName(e)[0]}else{var o;o="#"!==t.charAt(0)?t:t.slice(1),t=Konva.document.getElementById(o)}if(!t)throw"Can not find container in document with id "+o}return this._setAttr(X,t),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(t){return Konva.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Konva.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Konva.document.createElement(D),Konva.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Konva.Container.prototype.destroy.call(this),t&&Konva.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Konva.stages.indexOf(this);return e>-1&&Konva.stages.splice(e,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null,o=t.x||0,i=t.y||0,r=new Konva.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:t.pixelRatio}),a=r.getContext()._context,s=this.children;(o||i)&&a.translate(-1*o,-1*i),s.each(function(t){var e=t.getCanvas().getWidth(),n=t.getCanvas().getHeight(),o=t.getCanvas().getPixelRatio();a.drawImage(t.getCanvas()._canvas,0,0,e/o,n/o)});var u=r.toDataURL(e,n);return t.callback&&t.callback(u),u},toImage:function(t){var e=t.callback;t.callback=function(t){Konva.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t,e){var n,o,i=this.getChildren(),r=i.length,a=r-1;for(n=a;n>=0;n--)if(o=i[n].getIntersection(t,e))return o;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),a=r.length;for(this.content.style.width=n+o,this.content.style.height=i+o,this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<a;t++)e=r[t],e.setSize(n,i),e.batchDraw()}},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return Konva.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;e<G;e++)t(this,Y[e])},_mouseover:function(t){Konva.UA.mobile||(this._setPointerPosition(t),this._fire(P,{evt:t}))},_mouseout:function(t){if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!Konva.isDragging()&&(e._fireAndBubble(i,{evt:t}),e._fireAndBubble(r,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire(w,{evt:t})}},_mousemove:function(t){if(Konva.UA.ieMobile)return this._touchmove(t);if(("undefined"!=typeof t.movementX||"undefined"!=typeof t.movementY)&&0===t.movementY&&0===t.movementX)return null;if(Konva.UA.mobile)return null;this._setPointerPosition(t);var e;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble(u,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(i,{evt:t},e),this.targetShape._fireAndBubble(r,{evt:t},e)),e._fireAndBubble(a,{evt:t},this.targetShape),e._fireAndBubble(s,{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble(i,{evt:t}),this.targetShape._fireAndBubble(r,{evt:t}),this.targetShape=null),this._fire(S,{evt:t})),t.preventDefault&&t.preventDefault()},_mousedown:function(t){if(Konva.UA.ieMobile)return this._touchstart(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(h,{evt:t})),this._fire(C,{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(Konva.UA.ieMobile)return this._touchend(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,o=!1,i=Konva.DD;Konva.inDblClickWindow?(o=!0,Konva.inDblClickWindow=!1):i&&i.justDragged?i&&(i.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(p,{evt:t}),Konva.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble(c,{evt:t}),o&&e._fireAndBubble(f,{evt:t}))),this._fire(M,{evt:t}),Konva.listenClickTap&&(this._fire(A,{evt:t}),o&&this._fire(E,{evt:t})),Konva.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_contextmenu:function(t){this._fire(T,{evt:t})},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(d,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(L,{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Konva.inDblClickWindow?(n=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(y,{evt:t}),Konva.listenClickTap&&this.tapStartShape&&e._id===this.tapStartShape._id&&(e._fireAndBubble(v,{evt:t}),n&&e._fireAndBubble(g,{evt:t})),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(I,{evt:t}),Konva.listenClickTap&&(this._fire(O,{evt:t}),n&&this._fire(N,{evt:t})),Konva.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=Konva.DD;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()&&(e._fireAndBubble(m,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(k,{evt:t})),n&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&t.preventDefault()},_DOMMouseScroll:function(t){this._mousewheel(t)},_mousewheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble(x,{evt:t}),this._fire(R,{evt:t})},_wheel:function(t){this._mousewheel(t)},_setPointerPosition:function(t){var e=null,n=null;if(t=t?t:window.event,void 0!==t.touches){if(t.touches.length>0){var o=t.touches[0];e=o.offsetX,n=o.offsetY}}else e=t.offsetX,n=t.offsetY;null!==e&&null!==n&&(this.pointerPos={x:e,y:n})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Konva.Util.isBrowser())throw"Stage has no container. A container is required.";t=Konva.document.createElement(D)}t.innerHTML=U,this.content=Konva.document.createElement(D),this.content.style.position=F,this.content.className=j,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),this._resizeDOM()},_onContent:function(t,e){var n,o,i=t.split(K),r=i.length;for(n=0;n<r;n++)o=i[n],this.content.addEventListener(o,e,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(){"use strict";Konva.BaseLayer=function(t){this.___init(t)},Konva.Util.addMethods(Konva.BaseLayer,{___init:function(t){this.nodeType="Layer",Konva.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){Konva.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Konva.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){var t=Konva.Node.prototype.moveUp.call(this);if(!t)return this;var e=this.getStage();return e?(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(Konva.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(Konva.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Konva.Node.prototype.remove.call(this),t&&t.parentNode&&Konva.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){return this.canvas.setSize(t,e),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){Konva.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){Konva.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(t,e,n){var o=t.getAbsoluteTransform(n).getMatrix();e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}),Konva.Util.extend(Konva.BaseLayer,Konva.Container),Konva.Factory.addGetterSetter(Konva.BaseLayer,"clearBeforeDraw",!0),Konva.Collection.mapMethods(Konva.BaseLayer)}(),function(){"use strict";var t="#",e="beforeDraw",n="draw",o=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],i=o.length;Konva.Layer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(t,e){var n,r,a,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var u=1,h=!1;;){for(r=0;r<i;r++){if(a=o[r],n=this._getIntersection({x:t.x+a.x*u,y:t.y+a.y*u}),s=n.shape,s&&e)return s.findAncestor(e,!0);if(s)return s;if(h=!!n.antialiased,!n.antialiased)break}if(!h)return null;u+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,o=this.hitCanvas.height||1,i=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,o)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var n,o,i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,a=r[3];return 255===a?(n=Konva.Util._rgbToHex(r[0],r[1],r[2]),o=Konva.shapes[t+n],o?{shape:o}:{antialiased:!0}):a>0?{antialiased:!0}:{}},drawScene:function(t,o){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(e,{node:this}),this.getClearBeforeDraw()&&r.getContext().clear(),Konva.Container.prototype.drawScene.call(this,r,o),this._fire(n,{node:this}),this},drawHit:function(t,e){var n=this.getLayer(),o=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,o,e),this.imageData=null,this},clear:function(t){return Konva.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),
this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(t,e){return Konva.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,t)},_validateAdd:function(t){var e=t.getType();"Shape"!==e&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n),this},draw:function(){return this.drawScene(),this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?this.getCanvas()._canvas.style.display="block":this.getCanvas()._canvas.style.display="none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Group,{___init:function(t){this.nodeType="Group",Konva.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(t){"use strict";function e(t){setTimeout(t,1e3/60)}function n(){return i.apply(t.global,arguments)}var o=function(){return t.global.performance&&t.global.performance.now?function(){return t.global.performance.now()}:function(){return(new Date).getTime()}}(),i=function(){return t.global.requestAnimationFrame||t.global.webkitRequestAnimationFrame||t.global.mozRequestAnimationFrame||t.global.oRequestAnimationFrame||t.global.msRequestAnimationFrame||e}();t.Animation=function(e,n){var i=t.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o()}},t.Animation.prototype={setLayers:function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},getLayers:function(){return this.layers},addLayer:function(t){var e,n=this.layers,o=n.length;for(e=0;e<o;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},isRunning:function(){var e,n=t.Animation,o=n.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===this.id)return!0;return!1},start:function(){var e=t.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),e._addAnimation(this),this},stop:function(){return t.Animation._removeAnimation(this),this},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},t.Animation.animations=[],t.Animation.animIdCounter=0,t.Animation.animRunning=!1,t.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t.Animation._removeAnimation=function(t){var e,n=t.id,o=this.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===n){this.animations.splice(e,1);break}},t.Animation._runFrames=function(){var t,e,n,i,r,a,s,u,h,p={},l=this.animations;for(i=0;i<l.length;i++)if(t=l[i],e=t.layers,n=t.func,t._updateFrameObject(o()),a=e.length,h=!n||n.call(t,t.frame)!==!1)for(r=0;r<a;r++)s=e[r],void 0!==s._id&&(p[s._id]=s);for(u in p)p.hasOwnProperty(u)&&p[u].draw()},t.Animation._animationLoop=function(){var e=t.Animation;e.animations.length?(e._runFrames(),n(e._animationLoop)):e.animRunning=!1},t.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,n(this._animationLoop))},t.BaseLayer.prototype.batchDraw=function(){var e=this,n=t.Animation;return this.batchAnim||(this.batchAnim=new n(function(){e.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},t.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(t){t.batchDraw()}),this}}(Konva),function(){"use strict";var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=1,n=2,o=3,i=0,r=["fill","stroke","shadowColor"],a=function(t,e,n,o,i,r,a){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};a.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=o,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===o&&this.setTime(this.duration-t)},pause:function(){this.state=e,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(e){var n,o,r=this,s=e.node,u=s._id,h=e.easing||Konva.Easings.Linear,p=!!e.yoyo;n="undefined"==typeof e.duration?1:0===e.duration?.001:e.duration,this.node=s,this._id=i++;var l=s.getLayer()||(s instanceof Konva.Stage?s.getLayers():null);l||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){r.tween.onEnterFrame()},l),this.tween=new a(o,function(t){r._tweenFunc(t)},h,0,1,1e3*n,p),this._addListeners(),Konva.Tween.attrs[u]||(Konva.Tween.attrs[u]={}),Konva.Tween.attrs[u][this._id]||(Konva.Tween.attrs[u][this._id]={}),Konva.Tween.tweens[u]||(Konva.Tween.tweens[u]={});for(o in e)void 0===t[o]&&this._addAttr(o,e[o]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(t,e){var n,o,i,a,s,u,h,p=this.node,l=p._id;if(i=Konva.Tween.tweens[l][t],i&&delete Konva.Tween.attrs[l][i][t],n=p.getAttr(t),Konva.Util._isArray(e))for(o=[],s=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(h=n,n=Konva.Util._prepareArrayForTween(n,e,p.closed())):(u=e,e=Konva.Util._prepareArrayForTween(e,n,p.closed()))),a=0;a<s;a++)o.push(e[a]-n[a]);else if(r.indexOf(t)!==-1){n=Konva.Util.colorToRGBA(n);var c=Konva.Util.colorToRGBA(e);o={r:c.r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}}else o=e-n;Konva.Tween.attrs[l][this._id][t]={start:n,diff:o,end:e,trueEnd:u,trueStart:h},Konva.Tween.tweens[l][t]=this._id},_tweenFunc:function(t){var e,n,o,i,a,s,u,h,p=this.node,l=Konva.Tween.attrs[p._id][this._id];for(e in l){if(n=l[e],o=n.start,i=n.diff,h=n.end,Konva.Util._isArray(o))for(a=[],u=Math.max(o.length,h.length),s=0;s<u;s++)a.push((o[s]||0)+i[s]*t);else a=r.indexOf(e)!==-1?"rgba("+Math.round(o.r+i.r*t)+","+Math.round(o.g+i.g*t)+","+Math.round(o.b+i.b*t)+","+(o.a+i.a*t)+")":o+i*t;p.setAttr(e,a)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueEnd&&e.points(n.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,o=Konva.Tween.tweens[e];this.pause();for(t in o)delete Konva.Tween.tweens[e][t];delete Konva.Tween.attrs[e][n]}},Konva.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Konva.Tween(t);n.play()},Konva.Easings={BackEaseIn:function(t,e,n,o){var i=1.70158;return n*(t/=o)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,o){var i=1.70158;return n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,o){var i=1.70158;return(t/=o/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e)},ElasticEaseOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*o-a)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:2===(t/=o/2)?e+n:(r||(r=o*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut:function(t,e,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,o){return n-Konva.Easings.BounceEaseOut(o-t,0,n,o)+e},BounceEaseInOut:function(t,e,n,o){return t<o/2?.5*Konva.Easings.BounceEaseIn(2*t,0,n,o)+e:.5*Konva.Easings.BounceEaseOut(2*t-o,0,n,o)+.5*n+e},EaseIn:function(t,e,n,o){return n*(t/=o)*t+e},EaseOut:function(t,e,n,o){return-n*(t/=o)*(t-2)+e},EaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},StrongEaseOut:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,o){return n*t/o+e}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Konva.DD,n=e.node;if(n){if(!e.isDragging){var o=n.getStage().getPointerPosition(),i=n.dragDistance(),r=Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y));if(r<i)return}n.getStage()._setPointerPosition(t),n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=Konva.DD,o=n.node;o&&(e=o.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Konva.listenClickTap=!1,t&&(t.dragEndNode=o)),delete n.node,(o.getLayer()||e||o instanceof Konva.Stage)&&(e||o).draw())},_endDragAfter:function(t){t=t||{};var e=t.dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Konva.Node.prototype.startDrag=function(){var t=Konva.DD,e=this.getStage(),n=this.getLayer(),o=e.getPointerPosition(),i=this.getAbsolutePosition();o&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=o,t.offset.x=o.x-i.x,t.offset.y=o.y-i.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(t){var e=Konva.DD,n=this.getStage().getPointerPosition(),o=this.getDragBoundFunc();if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==o&&(i=o.call(this,i,t)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(e.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var t=Konva.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Konva.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=t,Konva.Node.prototype.remove=function(){var e=Konva.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Konva.Node.prototype.isDragging=function(){var t=Konva.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},Konva.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(e){Konva.DD.node||t.startDrag(e)}):this.on("mousedown.konva touchstart.konva",function(e){1!==e.evt.button&&2!==e.evt.button&&(Konva.DD.node||t.startDrag(e))})},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Konva.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable");var e=Konva.document.documentElement;e.addEventListener("mouseup",Konva.DD._endDragBefore,!0),e.addEventListener("touchend",Konva.DD._endDragBefore,!0),e.addEventListener("mousemove",Konva.DD._drag),e.addEventListener("touchmove",Konva.DD._drag),e.addEventListener("mouseup",Konva.DD._endDragAfter,!1),e.addEventListener("touchend",Konva.DD._endDragAfter,!1)}(),function(){"use strict";Konva.Rect=function(t){this.___init(t)},Konva.Rect.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),o=this.getHeight();t.beginPath(),e?(e=Math.min(e,n/2,o/2),t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,o-e),t.arc(n-e,o-e,e,0,Math.PI/2,!1),t.lineTo(e,o),t.arc(e,o-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,o),t.closePath(),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Circle";Konva.Circle=function(t){this.___init(t)},Konva.Circle.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Circle,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Circle,"radius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Circle,"radius"),Konva.Collection.mapMethods(Konva.Circle)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Ellipse";Konva.Ellipse=function(t){this.___init(t)},Konva.Ellipse.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),o=this.getRadiusY();e.beginPath(),e.save(),n!==o&&e.scale(1,o/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var t=2*Math.PI-1e-4;Konva.Ring=function(t){this.___init(t)},Konva.Ring.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(t){this.___init(t)},Konva.Wedge.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(){"use strict";Konva.Arc=function(t){this.___init(t)},Konva.Arc.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Arc,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Arc,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"outerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"angle",0),Konva.Factory.addGetterSetter(Konva.Arc,"clockwise",!1),Konva.Collection.mapMethods(Konva.Arc)}(),function(){"use strict";var t="Image";Konva.Image=function(t){this.___init(t)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,o,i=this.getWidth(),r=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),o=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,i,r]:[a,0,0,i,r]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,o)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(t,e){var n=new Image;n.onload=function(){var t=new Konva.Image({image:n});e(t)},n.src=t}}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",o="center",i="justify",r="Change.konva",a="2d",s="-",u="",h="left",p="text",l="Text",c="middle",f="normal",d="px ",y=" ",v="right",g="word",m="char",b="none",_=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","letterSpacing"],x=_.length,w=Konva.Util.createCanvasElement().getContext(a);Konva.Text=function(t){this.___init(t)},Konva.Text.prototype={___init:function(n){n=n||{},n.fillLinearGradientColorStops||n.fillRadialGradientColorStops||(n.fill=n.fill||"black"),Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this.className=l;for(var o=0;o<x;o++)this.on(_[o]+r,this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),a=this.getLineHeight()*r,s=this.textArr,u=s.length,p=this.getAlign(),l=this.getWidth(),f=this.getLetterSpacing(),d=this.textDecoration(),y=this.fill(),g=this.fontSize();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",c),t.setAttr("textAlign",h),t.save(),n?(t.translate(n,0),t.translate(0,n+r/2)):t.translate(0,r/2),e=0;e<u;e++){var m=s[e],b=m.text,_=m.width;if(t.save(),p===v?t.translate(l-_-2*n,0):p===o&&t.translate((l-_-2*n)/2,0),d.indexOf("underline")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,Math.round(a/2)),t.lineTo(Math.round(_),Math.round(a/2)),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),d.indexOf("line-through")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(Math.round(_),0),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),0!==f||p===i)for(var x=b.split(" ").length-1,w=0;w<b.length;w++){var P=b[w];" "===P&&e!==u-1&&p===i&&t.translate(Math.floor((l-_)/x),0),this.partialText=P,t.fillStrokeShape(this),t.translate(Math.round(this._getTextSize(P).width)+f,0)}else this.partialText=b,t.fillStrokeShape(this);t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Konva.Util._isString(t)?t:(t||"").toString();return this._setAttr(p,e),this},getWidth:function(){var t=this.attrs.width===n||void 0===this.attrs.width;return t?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){var t=this.attrs.height===n||void 0===this.attrs.height;return t?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=w,o=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(o,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+y+this.getFontSize()+d+this.getFontFamily():this.getFontStyle()+y+this.getFontVariant()+y+this.getFontSize()+d+this.getFontFamily()},_addTextLine:function(t){this.align()===i&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){var e=this.getLetterSpacing(),n=t.length;return w.measureText(t).width+(n?e*(n-1):0)},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),o=0,i=this.getLineHeight()*e,r=this.attrs.width,a=this.attrs.height,u=r!==n,h=a!==n,p=this.getPadding(),l=r-2*p,c=a-2*p,f=0,d=this.getWrap(),v=d!==b,g=d!==m&&v;this.textArr=[],w.save(),w.font=this._getContextFont();for(var _=0,x=t.length;_<x;++_){var P=t[_],S=this._getTextWidth(P);if(u&&S>l)for(;P.length>0;){for(var C=0,M=P.length,T="",A=0;C<M;){var E=C+M>>>1,L=P.slice(0,E+1),I=this._getTextWidth(L);I<=l?(C=E+1,T=L,A=I):M=E}if(!T)break;if(g){var N=Math.max(T.lastIndexOf(y),T.lastIndexOf(s))+1;N>0&&(C=N,T=T.slice(0,C),A=this._getTextWidth(T))}if(this._addTextLine(T),o=Math.max(o,A),f+=i,!v||h&&f+i>c)break;if(P=P.slice(C),P.length>0&&(S=this._getTextWidth(P),S<=l)){this._addTextLine(P),f+=i,o=Math.max(o,S);break}}else this._addTextLine(P),f+=i,o=Math.max(o,S);if(h&&f+i>c)break}w.restore(),this.textHeight=e,this.textWidth=o}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle",f),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant",f),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align",h),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap",g),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",u),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",u),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(t){this.___init(t)},Konva.Line.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.getPoints(),r=i.length,a=this.getTension(),s=this.getClosed();if(r){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&r>4){for(e=this.getTensionPoints(),n=e.length,o=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<n-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[r-2],i[r-1])}else for(o=2;o<r;o+=2)t.lineTo(i[o],i[o+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),o=Konva.Util,i=o._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=o._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=Konva.Util._expandPoints(t,n),s=[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]]);return s},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){var t;t=0!==this.getTension()?this._getTensionPoints():this.getPoints();for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(t){this.___init(t)},Konva.Sprite.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new Konva.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+0],s=i[o+1],u=i[o+2],h=i[o+3],p=this.getImage();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,u,h),t.closePath(),t.fillStrokeShape(this)),p)if(r){var l=r[e],c=2*n;t.drawImage(p,a,s,u,h,l[c+0],l[c+1],u,h)}else t.drawImage(p,a,s,u,h,0,0,u,h)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+2],s=i[o+3];if(t.beginPath(),r){var u=r[e],h=2*n;t.rect(u[h+0],u[h+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations(),o=n[e],i=o.length/4;t<i-1?this.frameIndex(t+1):this.frameIndex(0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(t){this.___init(t)},Konva.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Konva.Shape.call(this,t),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){e.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var o=e[n].command,i=e[n].points;switch(o){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var r=i[0],a=i[1],s=i[2],u=i[3],h=i[4],p=i[5],l=i[6],c=i[7],f=s>u?s:u,d=s>u?1:s/u,y=s>u?u/s:1;t.translate(r,a),t.rotate(l),t.scale(d,y),t.arc(0,0,f,h,h+p,1-c),t.scale(1/d,1/y),t.rotate(-l),t.translate(-r,-a);break;case"z":t.closePath()}}t.fillStrokeShape(this)},getSelfRect:function(){var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],
n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(t,e,n,o){return Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))},Konva.Path.getPointOnLine=function(t,e,n,o,i,r,a){void 0===r&&(r=e),void 0===a&&(a=n);var s=(i-n)/(o-e+1e-8),u=Math.sqrt(t*t/(1+s*s));o<e&&(u*=-1);var h,p=s*u;if(o===e)h={x:r,y:a+p};else if((a-n)/(r-e+1e-8)===s)h={x:r+u,y:a+p};else{var l,c,f=this.getLineLength(e,n,o,i);if(f<1e-8)return;var d=(r-e)*(o-e)+(a-n)*(i-n);d/=f*f,l=e+d*(o-e),c=n+d*(i-n);var y=this.getLineLength(r,a,l,c),v=Math.sqrt(t*t-y*y);u=Math.sqrt(v*v/(1+s*s)),o<e&&(u*=-1),p=s*u,h={x:l+u,y:c+p}}return h},Konva.Path.getPointOnCubicBezier=function(t,e,n,o,i,r,a,s,u){function h(t){return t*t*t}function p(t){return 3*t*t*(1-t)}function l(t){return 3*t*(1-t)*(1-t)}function c(t){return(1-t)*(1-t)*(1-t)}var f=s*h(t)+r*p(t)+o*l(t)+e*c(t),d=u*h(t)+a*p(t)+i*l(t)+n*c(t);return{x:f,y:d}},Konva.Path.getPointOnQuadraticBezier=function(t,e,n,o,i,r,a){function s(t){return t*t}function u(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}var p=r*s(t)+o*u(t)+e*h(t),l=a*s(t)+i*u(t)+n*h(t);return{x:p,y:l}},Konva.Path.getPointOnEllipticalArc=function(t,e,n,o,i,r){var a=Math.cos(r),s=Math.sin(r),u={x:n*Math.cos(i),y:o*Math.sin(i)};return{x:t+(u.x*a-u.y*s),y:e+(u.x*s+u.y*a)}},Konva.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<n.length;o++)e=e.replace(new RegExp(n[o],"g"),"|"+n[o]);var i=e.split("|"),r=[],a=0,s=0;for(o=1;o<i.length;o++){var u=i[o],h=u.charAt(0);u=u.slice(1),u=u.replace(new RegExp(",-","g"),"-"),u=u.replace(new RegExp("-","g"),",-"),u=u.replace(new RegExp("e,-","g"),"e-");var p=u.split(",");p.length>0&&""===p[0]&&p.shift();for(var l=0;l<p.length;l++)p[l]=parseFloat(p[l]);for(;p.length>0&&!isNaN(p[0]);){var c,f,d,y,v,g,m,b,_,x,w=null,P=[],S=a,C=s;switch(h){case"l":a+=p.shift(),s+=p.shift(),w="L",P.push(a,s);break;case"L":a=p.shift(),s=p.shift(),P.push(a,s);break;case"m":var M=p.shift(),T=p.shift();if(a+=M,s+=T,w="M",r.length>2&&"z"===r[r.length-1].command)for(var A=r.length-2;A>=0;A--)if("M"===r[A].command){a=r[A].points[0]+M,s=r[A].points[1]+T;break}P.push(a,s),h="l";break;case"M":a=p.shift(),s=p.shift(),w="M",P.push(a,s),h="L";break;case"h":a+=p.shift(),w="L",P.push(a,s);break;case"H":a=p.shift(),w="L",P.push(a,s);break;case"v":s+=p.shift(),w="L",P.push(a,s);break;case"V":s=p.shift(),w="L",P.push(a,s);break;case"C":P.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"c":P.push(a+p.shift(),s+p.shift(),a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"S":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,p.shift(),p.shift()),a=p.shift(),s=p.shift(),w="C",P.push(a,s);break;case"s":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"Q":P.push(p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"q":P.push(a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="Q",P.push(a,s);break;case"T":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a=p.shift(),s=p.shift(),w="Q",P.push(f,d,a,s);break;case"t":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a+=p.shift(),s+=p.shift(),w="Q",P.push(f,d,a,s);break;case"A":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a=p.shift(),s=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g);break;case"a":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a+=p.shift(),s+=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g)}r.push({command:w||h,points:P,start:{x:S,y:C},pathLength:this.calcLength(S,C,w||h,P)})}"z"!==h&&"Z"!==h||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},Konva.Path.calcLength=function(t,e,n,o){var i,r,a,s,u=Konva.Path;switch(n){case"L":return u.getLineLength(t,e,o[0],o[1]);case"C":for(i=0,r=u.getPointOnCubicBezier(0,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),s=.01;s<=1;s+=.01)a=u.getPointOnCubicBezier(s,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"Q":for(i=0,r=u.getPointOnQuadraticBezier(0,t,e,o[0],o[1],o[2],o[3]),s=.01;s<=1;s+=.01)a=u.getPointOnQuadraticBezier(s,t,e,o[0],o[1],o[2],o[3]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"A":i=0;var h=o[4],p=o[5],l=o[4]+p,c=Math.PI/180;if(Math.abs(h-l)<c&&(c=Math.abs(h-l)),r=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),p<0)for(s=h-c;s>l;s-=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;else for(s=h+c;s<l;s+=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),i+=u.getLineLength(r.x,r.y,a.x,a.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(t,e,n,o,i,r,a,s,u){var h=u*(Math.PI/180),p=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-o)/2,l=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-o)/2,c=p*p/(a*a)+l*l/(s*s);c>1&&(a*=Math.sqrt(c),s*=Math.sqrt(c));var f=Math.sqrt((a*a*(s*s)-a*a*(l*l)-s*s*(p*p))/(a*a*(l*l)+s*s*(p*p)));i===r&&(f*=-1),isNaN(f)&&(f=0);var d=f*a*l/s,y=f*-s*p/a,v=(t+n)/2+Math.cos(h)*d-Math.sin(h)*y,g=(e+o)/2+Math.sin(h)*d+Math.cos(h)*y,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=_([1,0],[(p-d)/a,(l-y)/s]),w=[(p-d)/a,(l-y)/s],P=[(-1*p-d)/a,(-1*l-y)/s],S=_(w,P);return b(w,P)<=-1&&(S=Math.PI),b(w,P)>=1&&(S=0),0===r&&S>0&&(S-=2*Math.PI),1===r&&S<0&&(S+=2*Math.PI),[v,g,a,s,x,S,h,r]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="",o="normal";Konva.TextPath=function(t){this.___init(t)},Konva.TextPath.prototype={___init:function(n){var o=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){o.dataArray=Konva.Path.parsePathData(this.attrs.data),o._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",o._setTextData),o._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.getTextBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),o=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<i.length;r++){t.save();var a=i[r].p0;t.translate(a.x,a.y),t.rotate(i[r].rotation),this.partialText=i[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=o/20,t.stroke()),t.restore()},_hitFunc:function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var o=0;o<e.length;o++){var i=e[o].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.getFontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Konva.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,n=e.getContext("2d");n.save(),n.font=this._getContextFont();var o=n.measureText(t);return n.restore(),{width:o.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.getLetterSpacing(),o=this.align();this.textWidth=e.width,this.textHeight=e.height;var i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var r=0,a=0;a<t.dataArray.length;a++)t.dataArray[a].pathLength>0&&(r+=t.dataArray[a].pathLength);var s=0;"center"===o&&(s=Math.max(0,r/2-i/2)),"right"===o&&(s=Math.max(0,r-i));for(var u,h,p,l=this.getText().split(""),c=this.getText().split(" ").length-1,f=-1,d=0,y=function(){d=0;for(var e=t.dataArray,n=f+1;n<e.length;n++){if(e[n].pathLength>0)return f=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var a=t._getTextSize(e).width+n;" "===e&&"justify"===o&&(a+=(r-i)/c);var s=0,l=0;for(h=void 0;Math.abs(a-s)/a>.01&&l<25;){l++;for(var f=s;void 0===p;)p=y(),p&&f+p.pathLength<a&&(f+=p.pathLength,p=void 0);if(p==={}||void 0===u)return;var v=!1;switch(p.command){case"L":Konva.Path.getLineLength(u.x,u.y,p.points[0],p.points[1])>a?h=Konva.Path.getPointOnLine(a,u.x,u.y,p.points[0],p.points[1],u.x,u.y):p=void 0;break;case"A":var g=p.points[4],m=p.points[5],b=p.points[4]+m;0===d?d=g+1e-8:a>s?d+=Math.PI/180*m/Math.abs(m):d-=Math.PI/360*m/Math.abs(m),(m<0&&d<b||m>=0&&d>b)&&(d=b,v=!0),h=Konva.Path.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],d,p.points[6]);break;case"C":0===d?d=a>p.pathLength?1e-8:a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnCubicBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);break;case"Q":0===d?d=a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnQuadraticBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3])}void 0!==h&&(s=Konva.Path.getLineLength(u.x,u.y,h.x,h.y)),v&&(v=!1,p=void 0)}},g="C",m=t._getTextSize(g).width+n,b=0;b<s/m&&(v(g),void 0!==u&&void 0!==h);b++)u=h;for(var _=0;_<l.length&&(v(l[_]),void 0!==u&&void 0!==h);_++){var x=Konva.Path.getLineLength(u.x,u.y,h.x,h.y),w=0,P=Konva.Path.getPointOnLine(w+x/2,u.x,u.y,h.x,h.y),S=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:l[_],rotation:S,p0:u,p1:h}),u=h}},getSelfRect:function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,n,o=t[0],i=t[0],r=t[0],a=t[0],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);var u=this.fontSize();return{x:Math.round(o)-u/2,y:Math.round(r)-u/2,width:Math.round(i-o)+u,height:Math.round(a-r)+u}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle",o),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant",o),Konva.Factory.addGetter(Konva.TextPath,"text",n),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(t){this.___init(t)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<i;e++)n=r*Math.sin(2*e*Math.PI/i),o=-1*r*Math.cos(2*e*Math.PI/i),t.lineTo(n,o);t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(t){this.___init(t)},Konva.Star.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*o;i++){var r=i%2===0?n:e,a=r*Math.sin(i*Math.PI/o),s=-1*r*Math.cos(i*Math.PI/o);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],e="Change.konva",n="none",o="up",i="right",r="down",a="left",s="Label",u=t.length;Konva.Label=function(t){this.____init(t)},Konva.Label.prototype={____init:function(t){var e=this;Konva.Group.call(this,t),this.className=s,this.on("add.konva",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var o,i=this,r=function(){i._sync()};for(o=0;o<u;o++)n.on(t[o]+e,r)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,s,u,h,p,l=this.getText(),c=this.getTag();if(l&&c){switch(t=l.getWidth(),e=l.getHeight(),n=c.getPointerDirection(),s=c.getPointerWidth(),p=c.getPointerHeight(),u=0,h=0,n){case o:u=t/2,h=-1*p;break;case i:u=t+s,h=e/2;break;case r:u=t/2,h=e+p;break;case a:u=-1*s,h=e/2}c.setAttrs({x:-1*u,y:-1*h,width:t,height:e}),l.setAttrs({x:-1*u,y:-1*h})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(t){this.___init(t)},Konva.Tag.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),s=this.getPointerDirection(),u=this.getPointerWidth(),h=this.getPointerHeight(),p=Math.min(this.getCornerRadius(),e/2,n/2);t.beginPath(),p?t.moveTo(p,0):t.moveTo(0,0),s===o&&(t.lineTo((e-u)/2,0),t.lineTo(e/2,-1*h),t.lineTo((e+u)/2,0)),p?(t.lineTo(e-p,0),t.arc(e-p,p,p,3*Math.PI/2,0,!1)):t.lineTo(e,0),s===i&&(t.lineTo(e,(n-h)/2),t.lineTo(e+u,n/2),t.lineTo(e,(n+h)/2)),p?(t.lineTo(e,n-p),t.arc(e-p,n-p,p,0,Math.PI/2,!1)):t.lineTo(e,n),s===r&&(t.lineTo((e+u)/2,n),t.lineTo(e/2,n+h),t.lineTo((e-u)/2,n)),p?(t.lineTo(p,n),t.arc(p,n-p,p,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),s===a&&(t.lineTo(0,(n+h)/2),t.lineTo(-1*u,n/2),t.lineTo(0,(n-h)/2)),p&&(t.lineTo(0,p),t.arc(p,p,p,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},getSelfRect:function(){var t=0,e=0,n=this.getPointerWidth(),s=this.getPointerHeight(),u=this.pointerDirection(),h=this.getWidth(),p=this.getHeight();return u===o?(e-=s,p+=s):u===r?p+=s:u===a?(t-=1.5*n,h+=n):u===i&&(h+=1.5*n),{x:t,y:e,width:h,height:p}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection",n),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(){"use strict";Konva.Arrow=function(t){this.____init(t)},Konva.Arrow.prototype={____init:function(t){Konva.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){Konva.Line.prototype._sceneFunc.apply(this,arguments);var e=2*Math.PI,n=this.points(),o=n.length,i=n[o-2]-n[o-4],r=n[o-1]-n[o-3],a=(Math.atan2(r,i)+e)%e,s=this.pointerLength(),u=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[o-2],n[o-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),i=n[2]-n[0],r=n[3]-n[1],t.rotate((Math.atan2(-r,-i)+e)%e),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore()),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Arrow,Konva.Line),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerLength",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerWidth",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerAtBeginning",!1),Konva.Collection.mapMethods(Konva.Arrow)}()}).call(e,function(){return this}())},function(t,e,n){var o,o,o,o,o,o,o,o;(function(e){!function(e,n){t.exports=n()}(this,function(){function t(t,e){var n=rv,o=t.split("."),n=n||av;o[0]in n||!n.execScript||n.execScript("var "+o[0]);for(var i;o.length&&(i=o.shift());)o.length||void 0===e?n=n[i]&&Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]={}:n[i]=e}function n(t,e){return t>e?1:t<e?-1:0}function i(t,e){return 0<=t.indexOf(e)}function r(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<n){for(n=1;n<o;++n)if(t[n]<e)return n-1}else if(0>n){for(n=1;n<o;++n)if(t[n]<=e)return n}else for(n=1;n<o;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return o-1}function a(t,e){var n,o=Array.isArray(e)?e:[e],i=o.length;for(n=0;n<i;n++)t[t.length]=o[n]}function s(t,e){for(var n,o=t.length>>>0,i=0;i<o;i++)if(n=t[i],e(n,i,t))return n;return null}function u(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function h(t){var e,n=Sr,o=t.length,i=Array(t.length);for(e=0;e<o;e++)i[e]={index:e,value:t[e]};for(i.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=i[e].value}function p(t,e){var n;return t.every(function(o,i){return n=i,!e(o,i,t)})?-1:n}function l(t,e){var o=e||n;return t.every(function(e,n){if(!n)return!0;var i=o(t[n-1],e);return!(0<i||0===i)})}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function f(){}function d(t){return t.Lo||(t.Lo=++sv)}function y(t){this.message="Assertion failed. See https://openlayers.org/en/v4.1.0/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function v(t,e){if(!t)throw new y(e)}function g(t,e,n,o){this.da=t,this.ba=e,this.ga=n,this.ja=o}function m(t,e,n){return t.da<=e&&e<=t.ba&&t.ga<=n&&n<=t.ja}function b(t,e){return t.da==e.da&&t.ga==e.ga&&t.ba==e.ba&&t.ja==e.ja}function _(t,e){return t.da<=e.ba&&t.ba>=e.da&&t.ga<=e.ja&&t.ja>=e.ga}function x(t,e,n){return Math.min(Math.max(t,e),n)}function w(t){return v(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function P(t,e,n,o,i,r){var a=i-n,s=r-o;if(a||s){var u=((t-n)*a+(e-o)*s)/(a*a+s*s);1<u?(n=i,o=r):0<u&&(n+=a*u,o+=s*u)}return S(t,e,n,o)}function S(t,e,n,o){return t=n-t,e=o-e,t*t+e*e}function C(t){return t*Math.PI/180}function M(t,e){var n=t%e;return 0>n*e?n+e:n}function T(t,e,n){return t+n*(e-t)}function A(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function E(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function L(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function I(t){for(var e=K(),n=0,o=t.length;n<o;++n)W(e,t[n]);return e}function N(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function O(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function k(t,e,n){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,e*e+t*t}function R(t,e){return F(t,e[0],e[1])}function D(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function F(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function j(t,e){var n=t[1],o=t[2],i=t[3],r=e[0],a=e[1],s=0;return r<t[0]?s|=16:r>o&&(s|=4),a<n?s|=8:a>i&&(s|=2),s||(s=1),s}function K(){return[1/0,1/0,-(1/0),-(1/0)]}function B(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function X(t,e){var n=t[0],o=t[1];return B(n,o,n,o,e)}function U(t,e,n,o,i){return i=B(1/0,1/0,-(1/0),-(1/0),i),z(i,t,e,n,o)}function Y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function G(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function W(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function z(t,e,n,o,i){for(;n<o;n+=i){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function H(t,e,n){var o;return(o=e.call(n,V(t)))||(o=e.call(n,$(t)))||(o=e.call(n,nt(t)))?o:!!(o=e.call(n,et(t)))&&o}function q(t){var e=0;return rt(t)||(e=ot(t)*Q(t)),e}function V(t){return[t[0],t[1]]}function $(t){return[t[2],t[1]]}function Z(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function J(t,e,n,o,i){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=o;var s=o*a,u=t[0],h=t[1];t=u-n+s,o=u-n-s,a=u+n-s,n=u+n+s;var s=h-r-e,u=h-r+e,p=h+r+e,r=h+r-e;return B(Math.min(t,o,a,n),Math.min(s,u,p,r),Math.max(t,o,a,n),Math.max(s,u,p,r),i)}function Q(t){return t[3]-t[1]}function tt(t,e,n){return n=n?n:K(),it(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function et(t){return[t[0],t[3]]}function nt(t){return[t[2],t[3]]}function ot(t){return t[2]-t[0]}function it(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function rt(t){return t[2]<t[0]||t[3]<t[1]}function at(t,e){var n=(t[2]-t[0])/2*(e-1),o=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=o,t[3]+=o}function st(t,e,n){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var o=[t[0],t[2],t[4],t[6]],i=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,o),t=Math.min.apply(null,i),o=Math.max.apply(null,o),i=Math.max.apply(null,i),B(e,t,o,i,n)}function ut(t){for(var e in t)delete t[e]}function ht(t){var e,n=[];for(e in t)n.push(t[e]);return n}function pt(t){for(var e in t)return!1;return!e}function lt(t){this.radius=t}function ct(t){this.nb=t.code,this.i=t.units,this.c=void 0!==t.extent?t.extent:null,this.f=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.g=void 0!==t.global&&t.global,this.a=!(!this.g||!this.c),this.l=t.getPointResolution,this.j=null,this.o=t.metersPerUnit;var e=t.code,n=cv||window.proj4;"function"==typeof n&&(e=n.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.o=e.to_meter),void 0===t.units&&(this.i=e.units)))}function ft(t){ct.call(this,{code:t,units:"m",extent:dv,global:!0,worldExtent:yv,getPointResolution:function(t,e){return t/uv(e[1]/6378137)}})}function dt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n){e[i]=fv*t[i]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[i+1]+90)/360));r>fv?r=fv:r<-fv&&(r=-fv),e[i+1]=r}return e}function yt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n)e[i]=180*t[i]/fv,e[i+1]=360*Math.atan(Math.exp(t[i+1]/6378137))/Math.PI-90;return e}function vt(t,e){ct.call(this,{code:t,units:"degrees",extent:mv,axisOrientation:e,global:!0,metersPerUnit:bv,worldExtent:mv})}function gt(t,e,n){t=t.nb,e=e.nb,t in wv||(wv[t]={}),wv[t][e]=n}function mt(t,e){var n;return t in wv&&e in wv[t]&&(n=wv[t][e]),n}function bt(t,e,n){var o=t.l;return o?e=o(e,n):"degrees"!=t.Kb()&&(o=Lt(t,Tt("EPSG:4326")),e=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2],e=o(e,e,2),e=(pv.b(e.slice(0,2),e.slice(2,4))+pv.b(e.slice(4,6),e.slice(6,8)))/2,t=t.uc(),void 0!==t&&(e/=t)),e}function _t(t){Pt(t),t.forEach(function(e){t.forEach(function(t){e!==t&&gt(e,t,Nt)})})}function xt(){_v.forEach(function(t){vv.forEach(function(e){gt(t,e,dt),gt(e,t,yt)})})}function wt(t){xv[t.nb]=t,gt(t,t,Nt)}function Pt(t){var e=[];t.forEach(function(t){e.push(wt(t))})}function St(t){return t?"string"==typeof t?Tt(t):t:Tt("EPSG:3857")}function Ct(t,e,n,o){t=Tt(t),e=Tt(e),gt(t,e,Mt(n)),gt(e,t,Mt(o))}function Mt(t){return function(e,n,o){var i=e.length;o=void 0!==o?o:2,n=void 0!==n?n:Array(i);var r,a;for(a=0;a<i;a+=o)for(r=t([e[a],e[a+1]]),n[a]=r[0],n[a+1]=r[1],r=o-1;2<=r;--r)n[a+r]=e[a+r];return n}}function Tt(t){var e=null;if(t instanceof ct)e=t;else if("string"==typeof t){var e=xv[t]||null,n=cv||window.proj4;e||"function"!=typeof n||void 0===n.defs(t)||(e=new ct({code:t}),wt(e))}return e}function At(t,e){if(t===e)return!0;var n=t.Kb()===e.Kb();return t.nb===e.nb?n:Lt(t,e)===Nt&&n}function Et(t,e){var n=Tt(t),o=Tt(e);return Lt(n,o)}function Lt(t,e){var n=t.nb,o=e.nb,i=mt(n,o);if(!i){var r=cv||window.proj4;if("function"==typeof r){var a=r.defs(n),s=r.defs(o);void 0!==a&&void 0!==s&&(a===s?_t([e,t]):(i=r(o,n),Ct(e,t,i.forward,i.inverse)),i=mt(n,o))}}return i||(i=It),i}function It(t,e){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function Nt(t,e){var n;if(void 0!==e){n=0;for(var o=t.length;n<o;++n)e[n]=t[n];n=e}else n=t.slice();return n}function Ot(t,e,n){return Et(e,n)(t,void 0,t.length)}function kt(t,e,n){return e=Et(e,n),st(t,e)}function Rt(){_t(vv),_t(_v),xt()}function Dt(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function Ft(t){var e,n,o=t[0],i=Array(o),r=1<<o-1;for(e=0;e<o;++e)n=48,t[1]&r&&(n+=1),t[2]&r&&(n+=2),i[e]=String.fromCharCode(n),r>>=1;return i.join("")}function jt(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,v(l(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,v(this.c.length==this.b.length,20));var e=t.extent;void 0===e||this.g||this.c||(this.g=et(e)),v(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,v(this.i.length==this.b.length,19)),this.f=void 0!==t.tileSize?t.tileSize:this.i?null:256,v(!this.f&&this.i||this.f&&!this.i,22),this.u=void 0!==e?e:null,this.a=null,this.j=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new g(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&Wt(this,e)}function Kt(t,e,n,o,i){for(i=t.Ua(e,i),e=e[0]-1;e>=t.minZoom;){if(n.call(null,e,Ut(t,i,e,o)))return!0;--e}return!1}function Bt(t,e,n,o){return e[0]<t.maxZoom?(o=t.Ua(e,o),Ut(t,o,e[0]+1,n)):null}function Xt(t,e,n,o){Gt(t,e[0],e[1],n,!1,Pv);var i=Pv[1],r=Pv[2];return Gt(t,e[2],e[3],n,!0,Pv),t=Pv[1],e=Pv[2],void 0!==o?(o.da=i,o.ba=t,o.ga=r,o.ja=e):o=new g(i,t,r,e),o}function Ut(t,e,n,o){return Xt(t,e,t.La(n),o)}function Yt(t,e){var n=t.Uc(e[0]),o=t.La(e[0]),i=L(t.eb(e[0]),t.j);return[n[0]+(e[1]+.5)*i[0]*o,n[1]+(e[2]+.5)*i[1]*o]}function Gt(t,e,n,o,i,r){var a=t.Qc(o),s=o/t.La(a),u=t.Uc(a);return t=L(t.eb(a),t.j),e=s*Math.floor((e-u[0])/o+(i?.5:0))/t[0],n=s*Math.floor((n-u[1])/o+(i?0:.5))/t[1],i?(e=Math.ceil(e)-1,n=Math.ceil(n)-1):(e=Math.floor(e),n=Math.floor(n)),Dt(a,e,n,r)}function Wt(t,e){for(var n=t.b.length,o=Array(n),i=t.minZoom;i<n;++i)o[i]=Ut(t,e,i);t.a=o}function zt(t){var e=t.j;if(!e){var e=Vt(t),n=qt(e,void 0,void 0),e=new jt({extent:e,origin:et(e),resolutions:n,tileSize:void 0});t.j=e}return e}function Ht(t){var e={};return hv(e,t?t:{}),void 0===e.extent&&(e.extent=Tt("EPSG:3857").D()),e.resolutions=qt(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new jt(e)}function qt(t,e,n){e=void 0!==e?e:42;var o=Q(t);for(t=ot(t),n=L(void 0!==n?n:256),n=Math.max(t/n[0],o/n[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=n/Math.pow(2,t);return o}function Vt(t){t=Tt(t);var e=t.D();return e||(t=180*lv.degrees/t.uc(),e=B(-t,-t,t,t)),e}function $t(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function Zt(t){return function(e){if(e)return[x(e[0],t[0],t[2]),x(e[1],t[1],t[3])]}}function Jt(t){return t}function Qt(t){function e(e){var n=t.listener,o=t.dh||t.target;return t.fh&&se(t),n.call(o,e)}return t.eh=e}function te(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if(i=t[r],i.listener===e&&i.dh===n)return o&&(i.deleteIndex=r),i}function ee(t,e){var n=t.mb;return n?n[e]:void 0}function ne(t){var e=t.mb;return e||(e=t.mb={}),e}function oe(t,e){var n=ee(t,e);if(n){for(var o=0,i=n.length;o<i;++o)t.removeEventListener(e,n[o].eh),ut(n[o]);n.length=0,(n=t.mb)&&(delete n[e],Object.keys(n).length||delete t.mb)}}function ie(t,e,n,o,i){var r=ne(t),a=r[e];return a||(a=r[e]=[]),(r=te(a,n,o,!1))?i||(r.fh=!1):(r={dh:o,fh:!!i,listener:n,target:t,type:e},t.addEventListener(e,Qt(r)),a.push(r)),r}function re(t,e,n,o){return ie(t,e,n,o,!0)}function ae(t,e,n,o){(t=ee(t,e))&&(n=te(t,n,o,!0))&&se(n)}function se(t){if(t&&t.target){t.target.removeEventListener(t.type,t.eh);var e=ee(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),e.length||oe(t.target,t.type)}ut(t)}}function ue(t){var e,n=ne(t);for(e in n)oe(t,e)}function he(){}function pe(t){t.$b||(t.$b=!0,t.ra())}function le(t){this.type=t,this.target=null}function ce(t){t.stopPropagation()}function fe(){this.$a={},this.ta={},this.qa={}}function de(t,e){return e?e in t.qa:0<Object.keys(t.qa).length}function ye(){fe.call(this),this.g=0}function ve(t){ye.call(this),d(this),this.O={},void 0!==t&&this.H(t)}function ge(t){return Sv.hasOwnProperty(t)?Sv[t]:Sv[t]="change:"+t}function me(t,e,n){var o;o=ge(e),t.b(new be(o,e,n)),t.b(new be("propertychange",e,n))}function be(t,e,n){le.call(this,t),this.key=e,this.oldValue=n}function _e(t,e){if(ve.call(this),this.c=!!(e||{}).unique,this.a=t?t:[],this.c)for(var n=0,o=this.a.length;n<o;++n)we(this,this.a[n],n);xe(this)}function xe(t){t.set(Cv,t.a.length)}function we(t,e,n){for(var o=0,i=t.a.length;o<i;++o)if(t.a[o]===e&&o!==n)throw new y(58)}function Pe(t,e){le.call(this,t),this.element=e}function Se(t){return Array.isArray(t)?t:Av(t)}function Ce(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}function Me(t){var e=[];return e[0]=x(t[0]+.5|0,0,255),e[1]=x(t[1]+.5|0,0,255),e[2]=x(t[2]+.5|0,0,255),e[3]=x(t[3],0,1),e}function Te(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Ce(t)}function Ae(t,e,n){this.center=t,this.resolution=e,this.rotation=n}function Ee(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Le(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ne(t){ve.call(this),this.element=t.element?t.element:null,this.a=this.Z=null,this.u=[],this.render=t.render?t.render:f,t.target&&this.i(t.target)}function Oe(t){t=t?t:{},this.I=document.createElement("UL"),this.v=document.createElement("LI"),this.I.appendChild(this.v),this.v.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof o?(this.A=document.createElement("span"),this.A.textContent=o):this.A=o,o=void 0!==t.label?t.label:"i","string"==typeof o?(this.C=document.createElement("span"),this.C.textContent=o):this.C=o;var i=this.l&&!this.c?this.A:this.C,o=document.createElement("button");o.setAttribute("type","button"),o.title=n,o.appendChild(i),ie(o,"click",this.Pm,this),
n=document.createElement("div"),n.className=e+" ol-unselectable ol-control"+(this.c&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),n.appendChild(this.I),n.appendChild(o),Ne.call(this,{element:n,render:t.render?t.render:ke,target:t.target}),this.G=!0,this.o={},this.j={},this.T={}}function ke(t){if(t=t.frameState){var e,n,o,i,r,a,s,u,h,p,l,c=t.layerStatesArray,f=hv({},t.attributions),y={},v={},m=t.viewState.projection;for(n=0,e=c.length;n<e;n++)if((a=c[n].layer.ka())&&(p=d(a).toString(),h=a.j))for(o=0,i=h.length;o<i;o++)if(s=h[o],u=d(s).toString(),!(u in f)){if(r=t.usedTiles[p]){var b=a.Jb(m);t:{l=void 0;var x,w,P=s,S=b,C=m;if(P.a){for(l in r)if(l in P.a){var T,b=r[l];for(w=0,x=P.a[l].length;w<x;++w){if(T=P.a[l][w],_(T,b)){l=!0;break t}var A=Ut(S,Vt(C),parseInt(l,10)),E=A.ba-A.da+1;if((b.da<A.da||b.ba>A.ba)&&(_(T,new g(M(b.da,E),M(b.ba,E),b.ga,b.ja))||b.ba-b.da+1>E&&_(T,A))){l=!0;break t}}}l=!1}else l=!0}}else l=!1;l?(u in y&&delete y[u],l=s.b,l in v||(v[l]=!0,f[u]=s)):y[u]=s}e=[f,y],n=e[0],e=e[1];for(var L in this.o)L in n?(this.j[L]||(this.o[L].style.display="",this.j[L]=!0),delete n[L]):L in e?(this.j[L]&&(this.o[L].style.display="none",delete this.j[L]),delete e[L]):(Ie(this.o[L]),delete this.o[L],delete this.j[L]);for(L in n)o=document.createElement("LI"),o.innerHTML=n[L].b,this.I.appendChild(o),this.o[L]=o,this.j[L]=!0;for(L in e)o=document.createElement("LI"),o.innerHTML=e[L].b,o.style.display="none",this.I.appendChild(o),this.o[L]=o;L=!pt(this.j)||!pt(t.logos),this.G!=L&&(this.element.style.display=L?"":"none",this.G=L),L&&pt(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var I;t=t.logos,L=this.T;for(I in L)I in t||(Ie(L[I]),delete L[I]);for(var N in t)e=t[N],e instanceof HTMLElement&&(this.v.appendChild(e),L[N]=e),N in L||(I=new Image,I.src=N,""===e?n=I:(n=document.createElement("a"),n.href=e,n.appendChild(I)),this.v.appendChild(n),L[N]=n);this.v.style.display=pt(t)?"none":""}else this.G&&(this.element.style.display="none",this.G=!1)}function Re(t){t.element.classList.toggle("ol-collapsed"),t.c?Le(t.A,t.C):Le(t.C,t.A),t.c=!t.c}function De(t){return Math.pow(t,3)}function Fe(t){return 1-De(1-t)}function je(t){return 3*t*t-2*t*t*t}function Ke(t){return t}function Be(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof n?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=n):(this.c=n,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation",n=document.createElement("button");n.className=e+"-reset",n.setAttribute("type","button"),n.title=o,n.appendChild(this.c),ie(n,"click",Be.prototype.A,this),o=document.createElement("div"),o.className=e+" ol-unselectable ol-control",o.appendChild(n),e=t.render?t.render:Xe,this.l=t.resetNorth?t.resetNorth:void 0,Ne.call(this,{element:o,render:e,target:t.target}),this.o=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.v=void 0,this.j&&this.element.classList.add("ol-hidden")}function Xe(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.v){var e="rotate("+t+"rad)";if(this.j){var n=this.element.classList.contains("ol-hidden");n||t?n&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.v=t}}function Ue(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof o?document.createTextNode(o):o),ie(s,"click",Ue.prototype.j.bind(this,n)),o=document.createElement("button"),o.className=e+"-out",o.setAttribute("type","button"),o.title=a,o.appendChild("string"==typeof i?document.createTextNode(i):i),ie(o,"click",Ue.prototype.j.bind(this,-n)),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(o),Ne.call(this,{element:n,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Ye(t){t=t?t:{};var e=new _e;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Ue(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new Be(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new Oe(t.attributionOptions)),e}function Ge(t){t=t?t:{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.o="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen",e=document.createElement("button");e.className=this.c+"-"+ze(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.l),ie(e,"click",this.C,this),n=document.createElement("div"),n.className=this.c+" ol-unselectable ol-control "+(We()?"":"ol-unsupported"),n.appendChild(e),Ne.call(this,{element:n,target:t.target}),this.A=void 0!==t.keys&&t.keys,this.j=t.source}function We(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function ze(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function He(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function qe(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Ne.call(this,{element:e,render:t.render?t.render:Ve,target:t.target}),ie(this,ge(Lv),this.Sm,this),t.coordinateFormat&&this.fj(t.coordinateFormat),t.projection&&this.Th(Tt(t.projection)),this.v=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.o=e.innerHTML,this.l=this.j=this.c=null}function Ve(t){t=t.frameState,t?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,$e(this,this.l)}function $e(t,e){var n=t.v;if(e&&t.c){if(!t.j){var o=t.Sh();t.j=o?Lt(t.c,o):It}(o=t.a.Xa(e))&&(t.j(o,o),n=(n=t.qh())?n(o):o.toString())}t.o&&n==t.o||(t.element.innerHTML=n,t.o=n)}function Ze(t,e,n){le.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function Je(t,e,n,o,i){Ze.call(this,t,e,i),this.originalEvent=n,this.pixel=e.xe(n),this.coordinate=e.Xa(this.pixel),this.dragging=void 0!==o&&o}function Qe(t,e,n,o,i){Je.call(this,t,e,n.b,o,i),this.b=n}function tn(t,e){var n,o,i=Rv.length;for(o=0;o<i;++o)try{if(n=t.getContext(Rv[o],e))return n}catch(t){}return null}function en(t,e){this.b=t,this.i=e}function nn(t){en.call(this,t,{mousedown:this.am,mousemove:this.bm,mouseup:this.em,mouseover:this.dm,mouseout:this.cm}),this.a=t.g,this.g=[]}function on(t,e){for(var n,o=t.g,i=e.clientX,r=e.clientY,a=0,s=o.length;a<s&&(n=o[a]);a++){var u=Math.abs(r-n[1]);if(25>=Math.abs(i-n[0])&&25>=u)return!0}return!1}function rn(t){var e=_n(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function an(t){en.call(this,t,{MSPointerDown:this.jm,MSPointerMove:this.km,MSPointerUp:this.nm,MSPointerOut:this.lm,MSPointerOver:this.mm,MSPointerCancel:this.im,MSGotPointerCapture:this.gm,MSLostPointerCapture:this.hm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function sn(t,e){var n=e;return"number"==typeof e.pointerType&&(n=_n(e,e),n.pointerType=t.g[e.pointerType]),n}function un(t){en.call(this,t,{pointerdown:this.Yo,pointermove:this.Zo,pointerup:this.bp,pointerout:this.$o,pointerover:this.ap,pointercancel:this.Xo,gotpointercapture:this.pl,lostpointercapture:this.$l})}function hn(t,e,n){le.call(this,t),this.b=e,t=n?n:{},this.buttons=pn(t),this.pressure=ln(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function pn(t){if(t.buttons||Jv)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function ln(t,e){var n=0;return n=t.pressure?t.pressure:e?.5:0}function cn(t,e){en.call(this,t,{touchstart:this.gq,touchmove:this.fq,touchend:this.eq,touchcancel:this.cq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function fn(t,e,n){return e=_n(e,n),e.pointerId=n.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=n.webkitRadiusX||n.radiusX||0,e.height=n.webkitRadiusY||n.radiusY||0,e.pressure=n.webkitForce||n.force||.5,e.isPrimary=t.g===n.identifier,e.pointerType="touch",e.clientX=n.clientX,e.clientY=n.clientY,e.screenX=n.screenX,e.screenY=n.screenY,e}function dn(t,e,n){function o(){e.preventDefault()}var i,r,a=Array.prototype.slice.call(e.changedTouches),s=a.length;for(i=0;i<s;++i)r=fn(t,e,a[i]),r.preventDefault=o,n.call(t,e,r)}function yn(t,e){var n=t.j.g,o=e.changedTouches[0];if(t.g===o.identifier){var i=[o.clientX,o.clientY];n.push(i),setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},2500)}}function vn(t){fe.call(this),this.f=t,this.g={},this.i={},this.a=[],Hv?gn(this,new un(this)):qv?gn(this,new an(this)):(t=new nn(this),gn(this,t),zv&&gn(this,new cn(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],mn(this,Object.keys(e.i))}function gn(t,e){var n=Object.keys(e.i);n&&(n.forEach(function(t){var n=e.i[t];n&&(this.i[t]=n.bind(e))},t),t.a.push(e))}function mn(t,e){e.forEach(function(t){ie(this.f,t,this.c,this)},t)}function bn(t,e){e.forEach(function(t){ae(this.f,t,this.c,this)},t)}function _n(t,e){for(var n,o={},i=0,r=Qv.length;i<r;i++)n=Qv[i][0],o[n]=t[n]||e[n]||Qv[i][1];return o}function xn(t,e,n){e.bubbles=!1,Sn(t,"pointerleave",e,n)}function wn(t,e,n){t.out(e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||xn(t,e,n)}function Pn(t,e,n){e.bubbles=!0,Sn(t,"pointerover",e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||(e.bubbles=!1,Sn(t,"pointerenter",e,n))}function Sn(t,e,n,o){t.b(new hn(e,o,n))}function Cn(t,e){t.b(new hn(e.type,e,e))}function Mn(t){fe.call(this),this.c=t,this.j=0,this.l=!1,this.i=[],this.g=null,t=this.c.c,this.O=0,this.v={},this.f=new vn(t),this.a=null,this.o=ie(this.f,"pointerdown",this.Jl,this),this.u=ie(this.f,"pointermove",this.Bp,this)}function Tn(t,e){var n=new Qe("click",t.c,e);t.b(n),t.j?(clearTimeout(t.j),t.j=0,n=new Qe("dblclick",t.c,e),t.b(n)):t.j=setTimeout(function(){this.j=0;var t=new Qe("singleclick",this.c,e);this.b(t)}.bind(t),250)}function An(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.O=Object.keys(t.v).length}function En(t,e){this.o=t,this.c=e,this.b=[],this.g=[],this.a={}}function Ln(t){var e=t.b,n=t.g,o=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),In(t,0)),e=t.c(o),delete t.a[e],o}function In(t,e){for(var n=t.b,o=t.g,i=n.length,r=n[e],a=o[e],s=e;e<i>>1;){var u=2*e+1,h=2*e+2,u=h<i&&o[h]<o[u]?h:u;n[e]=n[u],o[e]=o[u],e=u}n[e]=r,o[e]=a,Nn(t,s,e)}function Nn(t,e,n){var o=t.b;t=t.g;for(var i=o[n],r=t[n];n>e;){var a=n-1>>1;if(!(t[a]>r))break;o[n]=o[a],t[n]=t[a],n=a}o[n]=i,t[n]=r}function On(t){var e,n,o,i=t.o,r=t.b,a=t.g,s=0,u=r.length;for(n=0;n<u;++n)e=r[n],o=i(e),1/0==o?delete t.a[t.c(e)]:(a[s]=o,r[s++]=e);for(r.length=s,a.length=s,i=(t.b.length>>1)-1;0<=i;i--)In(t,i)}function kn(t,e){En.call(this,function(e){return t.apply(null,e)},function(t){return t[0].hb()}),this.u=e,this.j=0,this.f={}}function Rn(t,e,n){for(var o,i,r=0;t.j<e&&r<n&&0<t.b.length;)o=Ln(t)[0],i=o.hb(),0!==o.V()||i in t.f||(t.f[i]=!0,++t.j,++r,o.load())}function Dn(t){return function(e,n,o){if(void 0!==e)return e=r(t,e,o),e=x(e+n,0,t.length-1),n=Math.floor(e),e!=n&&n<t.length-1?t[n]/Math.pow(t[n]/t[n+1],e-n):t[n]}}function Fn(t,e,n){return function(o,i,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+i,0),void 0!==n&&(o=Math.min(o,n)),e/Math.pow(t,o)}}function jn(t){if(void 0!==t)return 0}function Kn(t,e){if(void 0!==t)return t+e}function Bn(t){var e=2*Math.PI/t;return function(t,n){if(void 0!==t)return t=Math.floor((t+n)/e+.5)*e}}function Xn(){var t=C(5);return function(e,n){if(void 0!==e)return Math.abs(e+n)<=t?0:e+n}}function Un(t,e){var n=void 0!==e?t.toFixed(e):""+t,o=n.indexOf("."),o=-1===o?n.length:o;return 2<o?n:Array(3-o).join("0")+n}function Yn(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),i=parseInt(e[n]||"0",10);if(o>i)return 1;if(i>o)return-1}return 0}function Gn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Wn(t,e){var n=t[0],o=t[1],i=e[0],r=e[1],a=i[0],i=i[1],s=r[0],r=r[1],u=s-a,h=r-i,n=u||h?(u*(n-a)+h*(o-i))/(u*u+h*h||0):0;return 0>=n||(1<=n?(a=s,i=r):(a+=n*u,i+=n*h)),[a,i]}function zn(t,e,n){t=M(t+180,360)-180;var o=Math.abs(3600*t);n=n||0;var i=Math.pow(10,n),r=Math.floor(o/3600),a=Math.floor((o-3600*r)/60),o=Math.ceil((o-3600*r-60*a)*i)/i;return 60<=o&&(o=0,a+=1),60<=a&&(a=0,r+=1),r+"° "+Un(a)+"′ "+Un(o,n)+"″ "+e.charAt(0>t?1:0)}function Hn(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function qn(t,e){for(var n=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){n=!1;break}return n}function Vn(t,e){var n=Math.cos(e),o=Math.sin(e),i=t[1]*n+t[0]*o;return t[0]=t[0]*n-t[1]*o,t[1]=i,t}function $n(t,e){t[0]*=e,t[1]*=e}function Zn(t,e){var n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}function Jn(t,e){return Math.sqrt(Zn(t,e))}function Qn(t,e){return Zn(t,Wn(t,e))}function to(t,e){return Hn(t,"{x}, {y}",e)}function eo(){return!0}function no(){return!1}function oo(){ve.call(this),this.o=K(),this.u=-1,this.i={},this.l=this.f=0}function io(t,e,n,o,i,r){for(var a=r?r:[],s=0;e<n;e+=o){var u=t[e],h=t[e+1];a[s++]=i[0]*u+i[2]*h+i[4],a[s++]=i[1]*u+i[3]*h+i[5]}return r&&a.length!=s&&(a.length=s),a}function ro(t,e,n,o,i,r){var a,s,u=r?r:[],h=0;for(a=0;a<e;a+=n)for(u[h++]=t[a]+o,u[h++]=t[a+1]+i,s=a+2;s<a+n;++s)u[h++]=t[s];return r&&u.length!=h&&(u.length=h),u}function ao(){oo.call(this),this.la="XY",this.a=2,this.B=null}function so(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function uo(t,e,n){t.a=so(e),t.la=e,t.B=n}function ho(t,e,n,o){if(e)n=so(e);else{for(e=0;e<o;++e){if(!n.length)return t.la="XY",void(t.a=2);n=n[0]}n=n.length;var i;2==n?i="XY":3==n?i="XYZ":4==n&&(i="XYZM"),e=i}t.la=e,t.a=n}function po(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],u=t[e+1],i=i+(a*s-r*u),r=s,a=u;return i/2}function lo(t,e,n,o){var i,r,a=0;for(i=0,r=n.length;i<r;++i){var s=n[i],a=a+po(t,e,s,o);e=s}return a}function co(t,e,n,o,i,r,a){var s=t[e],u=t[e+1],h=t[n]-s,p=t[n+1]-u;if(h||p)if(r=((i-s)*h+(r-u)*p)/(h*h+p*p),1<r)e=n;else if(0<r){for(i=0;i<o;++i)a[i]=T(t[e+i],t[n+i],r);return void(a.length=o)}for(i=0;i<o;++i)a[i]=t[e+i];a.length=o}function fo(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],u=t[e+1],r=S(r,a,s,u);r>i&&(i=r),r=s,a=u}return i}function yo(t,e,n,o,i){var r,a;for(r=0,a=n.length;r<a;++r){var s=n[r];i=fo(t,e,s,o,i),e=s}return i}function vo(t,e,n,o,i,r,a,s,u,h,p){if(e==n)return h;var l;if(!i){if(l=S(a,s,t[e],t[e+1]),l<h){for(p=0;p<o;++p)u[p]=t[e+p];return u.length=o,l}return h}for(var c=p?p:[NaN,NaN],f=e+o;f<n;)if(co(t,f-o,f,o,a,s,c),l=S(a,s,c[0],c[1]),l<h){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o,f+=o}else f+=o*Math.max((Math.sqrt(l)-Math.sqrt(h))/i|0,1);if(r&&(co(t,n-o,e,o,a,s,c),l=S(a,s,c[0],c[1]),l<h)){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o}return h}function go(t,e,n,o,i,r,a,s,u,h,p){p=p?p:[NaN,NaN];var l,c;for(l=0,c=n.length;l<c;++l){var f=n[l];h=vo(t,e,f,o,i,r,a,s,u,h,p),e=f}return h}function mo(t,e){var n,o,i=0;for(n=0,o=e.length;n<o;++n)t[i++]=e[n];return i}function bo(t,e,n,o){var i,r;for(i=0,r=n.length;i<r;++i){var a,s=n[i];for(a=0;a<o;++a)t[e++]=s[a]}return e}function _o(t,e,n,o,i){i=i?i:[];var r,a,s=0;for(r=0,a=n.length;r<a;++r)e=bo(t,e,n[r],o),i[s++]=e;return i.length=s,i}function xo(t,e,n,o,i){i=void 0!==i?i:[];for(var r=0;e<n;e+=o)i[r++]=t.slice(e,e+o);return i.length=r,i}function wo(t,e,n,o,i){i=void 0!==i?i:[];var r,a,s=0;for(r=0,a=n.length;r<a;++r){var u=n[r];i[s++]=xo(t,e,u,o,i[s]),e=u}return i.length=s,i}function Po(t,e,n,o,i,r,a){var s=(n-e)/o;if(3>s){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var u=Array(s);u[0]=1,u[s-1]=1,n=[e,n-o];for(var h,p=0;0<n.length;){var l=n.pop(),c=n.pop(),f=0,d=t[c],y=t[c+1],v=t[l],g=t[l+1];for(h=c+o;h<l;h+=o){var m=P(t[h],t[h+1],d,y,v,g);m>f&&(p=h,f=m)}f>i&&(u[(p-e)/o]=1,c+o<p&&n.push(c,p),p+o<l&&n.push(p,l))}for(h=0;h<s;++h)u[h]&&(r[a++]=t[e+h*o],r[a++]=t[e+h*o+1]);return a}function So(t,e,n,o,i,r,a,s){var u,h;for(u=0,h=n.length;u<h;++u){var p=n[u];t:{var l,c=t,f=p,d=o,y=i,v=r,g=a;if(e!=f){var m=y*Math.round(c[e]/y),b=y*Math.round(c[e+1]/y);e+=d,v[g++]=m,v[g++]=b;do if(l=y*Math.round(c[e]/y),a=y*Math.round(c[e+1]/y),e+=d,e==f){v[g++]=l,v[g++]=a,a=g;break t}while(l==m&&a==b);for(;e<f;){var _,x;if(_=y*Math.round(c[e]/y),x=y*Math.round(c[e+1]/y),e+=d,_!=l||x!=a){var w=l-m,P=a-b,S=_-m,C=x-b;w*C==P*S&&(0>w&&S<w||w==S||0<w&&S>w)&&(0>P&&C<P||P==C||0<P&&C>P)||(v[g++]=l,v[g++]=a,m=l,b=a),l=_,a=x}}v[g++]=l,v[g++]=a}a=g}s.push(a),e=p}return a}function Co(t,e){ao.call(this),this.c=this.j=-1,this.pa(t,e)}function Mo(t,e,n){uo(t,e,n),t.s()}function To(t,e){ao.call(this),this.pa(t,e)}function Ao(t,e,n,o,i){return!H(i,function(i){return!Eo(t,e,n,o,i[0],i[1])})}function Eo(t,e,n,o,i,r){for(var a=0,s=t[n-o],u=t[n-o+1];e<n;e+=o){var h=t[e],p=t[e+1];u<=r?p>r&&0<(h-s)*(r-u)-(i-s)*(p-u)&&a++:p<=r&&0>(h-s)*(r-u)-(i-s)*(p-u)&&a--,s=h,u=p}return!!a}function Lo(t,e,n,o,i,r){if(!n.length||!Eo(t,e,n[0],o,i,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(Eo(t,n[e-1],n[e],o,i,r))return!1;return!0}function Io(t,e,o,i,r,a,s){var u,h,p,l,c,f=r[a+1],d=[],y=o[0];for(p=t[y-i],c=t[y-i+1],u=e;u<y;u+=i)l=t[u],h=t[u+1],(f<=c&&h<=f||c<=f&&f<=h)&&(p=(f-c)/(h-c)*(l-p)+p,d.push(p)),p=l,c=h;for(y=NaN,c=-(1/0),d.sort(n),p=d[0],u=1,h=d.length;u<h;++u){l=d[u];var v=Math.abs(l-p);v>c&&(p=(p+l)/2,Lo(t,e,o,i,p,f)&&(y=p,c=v)),p=l}return isNaN(y)&&(y=r[a]),s?(s.push(y,f),s):[y,f]}function No(t,e,n,o,i,r){for(var a,s=[t[e],t[e+1]],u=[];e+o<n;e+=o){if(u[0]=t[e+o],u[1]=t[e+o+1],a=i.call(r,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}function Oo(t,e,n,o,i){var r=z(K(),t,e,n,o);return!!it(i,r)&&(!!(D(i,r)||r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3])||No(t,e,n,o,function(t,e){var n=!1,o=j(i,t),r=j(i,e);if(1===o||1===r)n=!0;else{var a=i[0],s=i[1],u=i[2],h=i[3],p=e[0],l=e[1],c=(l-t[1])/(p-t[0]);2&r&&!(2&o)&&(n=p-(l-h)/c,n=n>=a&&n<=u),n||!(4&r)||4&o||(n=l-(p-u)*c,n=n>=s&&n<=h),n||!(8&r)||8&o||(n=p-(l-s)/c,n=n>=a&&n<=u),n||!(16&r)||16&o||(n=l-(p-a)*c,n=n>=s&&n<=h)}return n}))}function ko(t,e,n,o,i){var r=n[0];if(!(Oo(t,e,r,o,i)||Eo(t,e,r,o,i[0],i[1])||Eo(t,e,r,o,i[0],i[3])||Eo(t,e,r,o,i[2],i[1])||Eo(t,e,r,o,i[2],i[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(Ao(t,n[e-1],n[e],o,i))return!1;return!0}function Ro(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],u=t[e+1],i=i+(s-r)*(u+a),r=s,a=u;return 0<i}function Do(t,e,n,o){var i=0;o=void 0!==o&&o;var r,a;for(r=0,a=e.length;r<a;++r){var s=e[r],i=Ro(t,i,s,n);if(r){if(o&&!i||!o&&i)return!1}else if(o&&i||!o&&!i)return!1;i=s}return!0}function Fo(t,e,n,o,i){i=void 0!==i&&i;var r,a;for(r=0,a=n.length;r<a;++r){var s=n[r],u=Ro(t,e,s,o);if(r?i&&!u||!i&&u:i&&u||!i&&!u)for(var u=t,h=s,p=o;e<h-p;){var l;for(l=0;l<p;++l){var c=u[e+l];u[e+l]=u[h-p+l],u[h-p+l]=c}e+=p,h-=p}e=s}return e}function jo(t,e,n,o){var i,r,a=0;for(i=0,r=e.length;i<r;++i)a=Fo(t,a,e[i],n,o);return a}function Ko(t,e){ao.call(this),this.c=[],this.v=-1,this.A=null,this.I=this.C=this.G=-1,this.j=null,this.pa(t,e)}function Bo(t){if(t.v!=t.g){var e=Z(t.D());t.A=Io(t.gc(),0,t.c,t.a,e,0),t.v=t.g}return t.A}function Xo(t,e,n,o){var i=o?o:32;o=[];var r;for(r=0;r<i;++r)a(o,t.offset(e,n,2*Math.PI*r/i));return o.push(o[0],o[1]),t=new Ko(null),t.ca("XY",o,[o.length]),t}function Uo(t){var e=t[0],n=t[1],o=t[2];return t=t[3],e=[e,n,e,t,o,t,o,n,e,n],n=new Ko(null),n.ca("XY",e,[e.length]),n}function Yo(t,e,n){var o=e?e:32,i=t.sa();e=t.la;for(var r=new Ko(null,e),o=i*(o+1),i=Array(o),a=0;a<o;a++)i[a]=0;return r.ca(e,i,[i.length]),Go(r,t.za(),t.Yd(),n),r}function Go(t,e,n,o){var i=t.ia(),r=t.la,a=t.sa(),s=t.Sb(),u=i.length/a-1;o=o?o:0;for(var h,p,l=0;l<=u;++l)p=l*a,h=o+2*M(l,u)*Math.PI/u,i[p]=e[0]+n*Math.cos(h),i[p+1]=e[1]+n*Math.sin(h);t.ca(r,i,s)}function Wo(t){ve.call(this),t=hv({},t),this.j=[0,0],this.c=[],this.vf=this.vf.bind(this),this.o=St(t.projection),zo(this,t)}function zo(t,e){var n={};n.center=void 0!==e.center?e.center:null;var o,i,r,a=void 0!==e.minZoom?e.minZoom:0;o=void 0!==e.maxZoom?e.maxZoom:28;var s=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions)o=e.resolutions,i=o[0],r=o[o.length-1],o=Dn(o);else{i=St(e.projection),r=i.D();var u=(r?Math.max(ot(r),Q(r)):360*lv.degrees/i.uc())/256/Math.pow(2,0),h=u/Math.pow(2,28);i=e.maxResolution,void 0!==i?a=0:i=u/Math.pow(s,a),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?i/Math.pow(s,o):u/Math.pow(s,o):h),o=a+Math.floor(Math.log(i/r)/Math.log(s)),r=i/Math.pow(s,o-a),o=Fn(s,i,o-a)}t.a=i,t.i=r,t.C=s,t.f=e.resolutions,t.l=a,(void 0!==e.enableRotation?e.enableRotation:1)?(a=e.constrainRotation,a=void 0===a||!0===a?Xn():!1===a?Kn:"number"==typeof a?Bn(a):Kn):a=jn,t.v=new Ae(void 0!==e.extent?Zt(e.extent):Jt,o,a),void 0!==e.resolution?n.resolution=e.resolution:void 0!==e.zoom&&(n.resolution=t.constrainResolution(t.a,e.zoom-t.l)),n.rotation=void 0!==e.rotation?e.rotation:0,t.H(n),t.A=e}function Ho(t,e){var n=hv({},t.A);return void 0!==n.resolution?n.resolution=t.Ra():n.zoom=t.Ah(),n.center=t.za(),n.rotation=t.Sa(),hv({},n,e)}function qo(t,e,n){var o,i=t.za();return void 0!==i&&(o=[i[0]-n[0],i[1]-n[1]],Vn(o,e-t.Sa()),Gn(o,n)),o}function Vo(t,e,n){var o,i=t.za();return t=t.Ra(),void 0!==i&&void 0!==t&&(o=[n[0]-e*(n[0]-i[0])/t,n[1]-e*(n[1]-i[1])/t]),o}function $o(t){var e=[100,100];return t='.ol-viewport[data-view="'+d(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function Zo(t,e){return void 0!==e?(e[0]=t.j[0],e[1]=t.j[1],e):t.j.slice()}function Jo(t,e){return Math.max(ot(t)/e[0],Q(t)/e[1])}function Qo(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*n)}}function ti(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/n}}function ei(t){return!!t.za()&&void 0!==t.Ra()}function ni(t,e,n){t.j[e]+=n,t.s()}function oi(t,e,n){this.i=t,this.c=e,this.f=n,this.b=[],this.a=this.g=0}function ii(t){t.b.length=0,t.g=0,t.a=0}function ri(t){ve.call(this),this.v=null,this.Ia(!0),this.handleEvent=t.handleEvent}function ai(t,e,n,o){if(void 0!==e){var i=t.Sa(),r=t.za();void 0!==i&&r&&0<o?t.animate({rotation:e,anchor:n,duration:o,easing:Fe}):t.rotate(e,n)}}function si(t,e,n,o){var i=t.Ra();if(e=t.constrainResolution(i,e,0),n&&void 0!==e&&e!==i){var r=t.za();n=Vo(t,e,n),n=t.Gc(n),n=[(e*r[0]-i*n[0])/(e-i),(e*r[1]-i*n[1])/(e-i)]}ui(t,e,n,o)}function ui(t,e,n,o){if(e){var i=t.Ra(),r=t.za();void 0!==i&&r&&e!==i&&o?t.animate({resolution:e,anchor:n,duration:o,easing:Fe}):(n&&(n=Vo(t,e,n),t.lb(n)),t.$c(e))}}function hi(t){t=t?t:{},this.a=t.delta?t.delta:1,ri.call(this,{handleEvent:pi}),this.f=void 0!==t.duration?t.duration:250}function pi(t){var e=!1,n=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,n=n.shiftKey?-this.a:this.a,o=t.map.$();si(o,n,e,this.f),t.preventDefault(),e=!0}return!e}function li(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ci(t){return t=t.originalEvent,!(t.button||Kv&&Bv&&t.ctrlKey)}function fi(t){return"pointermove"==t.type}function di(t){return"singleclick"==t.type}function yi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function vi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function gi(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function mi(t){return v(t.b,56),"mouse"==t.b.pointerType}function bi(t){return t=t.b,t.isPrimary&&0===t.button}function _i(t){t=t?t:{},ri.call(this,{handleEvent:t.handleEvent?t.handleEvent:wi}),this.wf=t.handleDownEvent?t.handleDownEvent:no,this.Ef=t.handleDragEvent?t.handleDragEvent:f,this.Ff=t.handleMoveEvent?t.handleMoveEvent:f,this.nk=t.handleUpEvent?t.handleUpEvent:no,this.A=!1,this.ea={},this.l=[]}function xi(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function wi(t){if(!(t instanceof Qe))return!0;var e=!1,n=t.type;return"pointerdown"!==n&&"pointerdrag"!==n&&"pointerup"!==n||(n=t.b,"pointerup"==t.type?delete this.ea[n.pointerId]:"pointerdown"==t.type?this.ea[n.pointerId]=n:n.pointerId in this.ea&&(this.ea[n.pointerId]=n),this.l=ht(this.ea)),this.A?"pointerdrag"==t.type?this.Ef(t):"pointerup"==t.type&&(this.A=this.nk(t)&&0<this.l.length):"pointerdown"==t.type?(this.A=t=this.wf(t),e=this.bd(t)):"pointermove"==t.type&&this.Ff(t),!e}function Pi(t){_i.call(this,{handleDownEvent:Mi,handleDragEvent:Si,handleUpEvent:Ci}),t=t?t:{},this.a=t.kinetic,this.f=null,this.u=t.condition?t.condition:yi,this.j=!1}function Si(t){var e=this.l,n=xi(e);if(e.length==this.o){if(this.a&&this.a.b.push(n[0],n[1],Date.now()),this.f){var o=this.f[0]-n[0],i=n[1]-this.f[1];t=t.map.$();var r=t.V(),o=[o,i];$n(o,r.resolution),Vn(o,r.rotation),Gn(o,r.center),o=t.Gc(o),t.lb(o)}}else this.a&&ii(this.a);this.f=n,this.o=e.length}function Ci(t){var e=t.map;if(t=e.$(),this.l.length)return this.a&&ii(this.a),this.f=null,!0;var n;if(n=!this.j&&this.a)if(n=this.a,6>n.b.length)n=!1;else{var o=Date.now()-n.f,i=n.b.length-3;if(n.b[i+2]<o)n=!1;else{for(var r=i-3;0<r&&n.b[r+2]>o;)r-=3;var o=n.b[i+2]-n.b[r+2],a=n.b[i]-n.b[r],i=n.b[i+1]-n.b[r+1];n.g=Math.atan2(i,a),n.a=Math.sqrt(a*a+i*i)/o,n=n.a>n.c}}return n&&(n=this.a,n=(n.c-n.a)/n.i,i=this.a.g,r=t.za(),r=e.Ka(r),e=e.Xa([r[0]-n*Math.cos(i),r[1]-n*Math.sin(i)]),t.animate({center:t.Gc(e),duration:500,easing:Fe})),ni(t,1,-1),!1}function Mi(t){if(0<this.l.length&&this.u(t)){var e=t.map.$();return this.f=null,this.A||ni(e,1,1),Zo(e)[0]&&e.lb(t.frameState.viewState.center),this.a&&ii(this.a),this.j=1<this.l.length,!0}return!1}function Ti(t){t=t?t:{},_i.call(this,{handleDownEvent:Li,handleDragEvent:Ai,handleUpEvent:Ei}),this.f=t.condition?t.condition:li,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function Ai(t){if(mi(t)){var e=t.map,n=e.Nb();if(t=t.pixel,n=Math.atan2(n[1]/2-t[1],t[0]-n[0]/2),void 0!==this.a){t=n-this.a;var e=e.$(),o=e.Sa();ai(e,o-t)}this.a=n}}function Ei(t){if(!mi(t))return!0;t=t.map.$(),ni(t,1,-1);var e=t.Sa(),n=this.j,e=t.constrainRotation(e,0);return ai(t,e,void 0,n),!1}function Li(t){return!!(mi(t)&&ci(t)&&this.f(t))&&(ni(t.map.$(),1,1),this.a=void 0,!0)}function Ii(t){this.Ic=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function Ni(t){var e=t.c,n=t.g;t=t.a.style,t.left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function Oi(t){var e=t.c,n=t.g,e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Xa,t.b);e[4]=e[0].slice(),t.Ic?t.Ic.pa([e]):t.Ic=new Ko([e])}function ki(t){_i.call(this,{handleDownEvent:ji,handleDragEvent:Di,handleUpEvent:Fi}),t=t?t:{},this.a=new Ii(t.className||"ol-dragbox"),this.u=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:eo,this.o=t.boxEndCondition?t.boxEndCondition:Ri}function Ri(t,e,n){return t=n[0]-e[0],e=n[1]-e[1],t*t+e*e>=this.u}function Di(t){if(mi(t)){var e=this.a,n=t.pixel;e.c=this.f,e.g=n,Oi(e),Ni(e),this.b(new Ki(eg,t.coordinate,t))}}function Fi(t){return!mi(t)||(this.a.setMap(null),this.o(t,this.f,t.pixel)&&(this.j(t),this.b(new Ki(ng,t.coordinate,t))),!1)}function ji(t){if(mi(t)&&ci(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.f;return e.c=this.f,e.g=n,Oi(e),Ni(e),this.b(new Ki(tg,t.coordinate,t)),!0}return!1}function Ki(t,e,n){le.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function Bi(t){t=t?t:{};var e=t.condition?t.condition:vi;this.G=void 0!==t.duration?t.duration:200,this.I=void 0!==t.out&&t.out,ki.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Xi(t){ri.call(this,{handleEvent:Ui}),t=t||{},this.a=function(t){return yi(t)&&gi(t)},this.f=t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Ui(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.f(t)&&(40==n||37==n||39==n||38==n)){var e=t.map.$(),o=e.Ra()*this.l,i=0,r=0;40==n?r=-o:37==n?i=-o:39==n?i=o:r=o,o=[i,r],Vn(o,e.Sa()),n=this.j,(i=e.za())&&(o=e.Gc([i[0]+o[0],i[1]+o[1]]),n?e.animate({duration:n,easing:Ke,center:o}):e.lb(o)),t.preventDefault(),e=!0}}return!e}function Yi(t){ri.call(this,{handleEvent:Gi}),t=t?t:{},this.f=t.condition?t.condition:gi,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Gi(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;!this.f(t)||43!=n&&45!=n||(e=43==n?this.a:-this.a,n=t.map.$(),si(n,e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function Wi(t){ri.call(this,{handleEvent:zi}),t=t||{},this.j=0,this.A=void 0!==t.duration?t.duration:250,this.ea=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.Z=t.constrainResolution||!1,this.a=null,this.o=this.l=this.u=this.f=void 0}function zi(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,n=t.originalEvent;this.C&&(this.a=t.coordinate);var o;if("wheel"==t.type?(o=n.deltaY,Fv&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Xv),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)):"mousewheel"==t.type&&(o=-n.wheelDeltaY,jv&&(o/=3)),0===o)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=4>Math.abs(o)?og:ig),this.l===og){e=e.$(),this.o?clearTimeout(this.o):ni(e,1,1),this.o=setTimeout(this.G.bind(this),400);var n=e.Ra()*Math.pow(2,o/300),i=e.i,r=e.a,a=0;if(n<i?(n=Math.max(n,i/1.5),a=1):n>r&&(n=Math.min(n,1.5*r),a=-1),this.a){var s=Vo(e,n,this.a);e.lb(e.Gc(s))}return e.$c(n),!a&&this.Z&&e.animate({resolution:e.constrainResolution(n,0<o?-1:1),easing:Fe,anchor:this.a,duration:this.A}),0<a?e.animate({resolution:i,easing:Fe,anchor:this.a,duration:500}):0>a&&e.animate({resolution:r,easing:Fe,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=o,o=Math.max(this.ea-(t-this.f),0),clearTimeout(this.u),this.u=setTimeout(this.I.bind(this,e),o),!1}function Hi(t){_i.call(this,{handleDownEvent:$i,handleDragEvent:qi,handleUpEvent:Vi}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.o=0,this.C=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function qi(t){var e=0,n=this.l[0],o=this.l[1],n=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);void 0!==this.j&&(e=n-this.j,this.o+=e,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0)),this.j=n,t=t.map,n=t.c.getBoundingClientRect(),o=xi(this.l),o[0]-=n.left,o[1]-=n.top,this.f=t.Xa(o),this.a&&(n=t.$(),o=n.Sa(),t.render(),ai(n,o+e,this.f));
}function Vi(t){if(2>this.l.length){if(t=t.map.$(),ni(t,1,-1),this.a){var e=t.Sa(),n=this.f,o=this.u,e=t.constrainRotation(e,0);ai(t,e,n,o)}return!1}return!0}function $i(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.o=0,this.A||ni(t.$(),1,1),!0)}function Zi(t){_i.call(this,{handleDownEvent:tr,handleDragEvent:Ji,handleUpEvent:Qi}),t=t?t:{},this.o=t.constrainResolution||!1,this.f=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Ji(t){var e=1,n=this.l[0],o=this.l[1],i=n.clientX-o.clientX,n=n.clientY-o.clientY,i=Math.sqrt(i*i+n*n);void 0!==this.a&&(e=this.a/i),this.a=i,t=t.map;var i=t.$(),o=i.Ra(),r=i.a,a=i.i,n=o*e;n>r?(e=r/o,n=r):n<a&&(e=a/o,n=a),1!=e&&(this.j=e),e=t.c.getBoundingClientRect(),o=xi(this.l),o[0]-=e.left,o[1]-=e.top,this.f=t.Xa(o),t.render(),ui(i,n,this.f)}function Qi(t){if(2>this.l.length){t=t.map.$(),ni(t,1,-1);var e=t.Ra();if(this.o||e<t.i||e>t.a){var n=this.f,o=this.u,e=t.constrainResolution(e,0,this.j-1);ui(t,e,n,o)}return!1}return!0}function tr(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.A||ni(t.$(),1,1),!0)}function er(t){t=t?t:{};var e=new _e,n=new oi(-.005,.05,100);return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new Ti),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new hi({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new Pi({kinetic:n})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new Hi),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Zi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new Xi),e.push(new Yi({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new Wi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new Bi({duration:t.zoomDuration})),e}function nr(t){ve.call(this);var e=hv({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Ie:!0}}function or(t){return t.a.opacity=x(t.jc(),0,1),t.a.uj=t.Vf(),t.a.visible=t.Lb(),t.a.extent=t.D(),t.a.zIndex=t.Aa(),t.a.maxResolution=t.hc(),t.a.minResolution=Math.max(t.ic(),0),t.a}function ir(t){var e=t||{};t=hv({},e),delete t.layers,e=e.layers,nr.call(this,t),this.i=[],this.c={},ie(this,ge(rg),this.Cl,this),e?Array.isArray(e)?e=new _e(e.slice(),{unique:!0}):v(e instanceof _e,43):e=new _e(void 0,{unique:!0}),this.pi(e)}function rr(t){var e=hv({},t);delete e.source,nr.call(this,e),this.v=this.o=this.l=null,t.map&&this.setMap(t.map),ie(this,ge("source"),this.Pl,this),this.ad(t.source?t.source:null)}function ar(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function sr(){this.b={},this.a=0}function ur(){return[1,0,0,1,0,0]}function hr(t){return lr(t,1,0,0,1,0,0)}function pr(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],u=e[0],h=e[1],p=e[2],l=e[3],c=e[4],f=e[5];return t[0]=n*u+i*h,t[1]=o*u+r*h,t[2]=n*p+i*l,t[3]=o*p+r*l,t[4]=n*c+i*f+a,t[5]=o*c+r*f+s,t}function lr(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function cr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function fr(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function dr(t,e){var n=Math.cos(e),o=Math.sin(e);pr(t,lr(sg,n,o,-o,n,0,0))}function yr(t,e,n){return pr(t,lr(sg,e,0,0,n,0,0))}function vr(t,e,n){pr(t,lr(sg,1,0,0,1,e,n))}function gr(t,e,n,o,i,r,a,s){var u=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=i*u,t[2]=-o*u,t[3]=i*r,t[4]=a*o*r-s*o*u+e,t[5]=a*i*u+s*i*r+n,t}function mr(t){var e=t[0]*t[3]-t[1]*t[2];v(!!e,32);var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-r*a)/e,t[5]=-(n*s-o*a)/e,t}function br(t,e){this.l=e,this.c={},this.u={}}function _r(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;gr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),mr(cr(o,n))}function xr(){if(32<ag.a){var t,e,n=0;for(t in ag.b)e=ag.b[t],3&n++||de(e)||(delete ag.b[t],--ag.a)}}function wr(t,e){var n=d(e).toString();if(n in t.c)return t.c[n];var o=e.Gd(t);return t.c[n]=o,t.u[n]=ie(o,"change",t.Al,t),o}function Pr(t,e){for(var n in t.c)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.Hp.bind(t));break}}function Sr(t,e){return t.zIndex-e.zIndex}function Cr(t,e,n,o,i){le.call(this,t),this.vectorContext=e,this.frameState=n,this.context=o,this.glContext=i}function Mr(t,e,n,o){e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}function Tr(){}function Ar(t,e,n,o,i){this.g=t,this.v=e,this.c=n,this.O=o,this.Gb=i,this.N=this.b=this.a=this.$a=this.Z=this.I=null,this.ea=this.T=this.o=this.G=this.C=this.A=0,this.fa=!1,this.i=this.mb=0,this.na=!1,this.qa=0,this.Fa="",this.Ja=this.$b=0,this.Ha=!1,this.j=this.Va=0,this.ta=this.l=this.f=null,this.u=[],this.yb=ur()}function Er(t,e,n){if(t.N){e=io(e,0,n,2,t.O,t.u),n=t.g;var o=t.yb,i=n.globalAlpha;1!=t.o&&(n.globalAlpha=i*t.o);var r=t.mb;t.fa&&(r+=t.Gb);var a,s;for(a=0,s=e.length;a<s;a+=2){var u=e[a]-t.A,h=e[a+1]-t.C;if(t.na&&(u=Math.round(u),h=Math.round(h)),r||1!=t.i){var p=u+t.A,l=h+t.C;gr(o,p,l,t.i,t.i,r,-p,-l),n.setTransform.apply(n,o)}n.drawImage(t.N,t.T,t.ea,t.qa,t.G,u,h,t.qa,t.G)}(r||1!=t.i)&&n.setTransform(1,0,0,1,0,0),1!=t.o&&(n.globalAlpha=i)}}function Lr(t,e,n,o){var i=0;if(t.ta&&""!==t.Fa){t.f&&Or(t,t.f),t.l&&kr(t,t.l);var r=t.ta,a=t.g,s=t.$a;for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=r.textAlign&&(s.textAlign=a.textAlign=r.textAlign),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline,t.$a={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),e=io(e,i,n,o,t.O,t.u),r=t.g,a=t.Va,t.Ha&&(a+=t.Gb);i<n;i+=o){var s=e[i]+t.$b,u=e[i+1]+t.Ja;if(a||1!=t.j){var h=gr(t.yb,s,u,t.j,t.j,a,-s,-u);r.setTransform.apply(r,h)}t.l&&r.strokeText(t.Fa,s,u),t.f&&r.fillText(t.Fa,s,u)}(a||1!=t.j)&&r.setTransform(1,0,0,1,0,0)}}function Ir(t,e,n,o,i,r){var a=t.g;for(t=io(e,n,o,i,t.O,t.u),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),o}function Nr(t,e,n,o,i){var r,a;for(r=0,a=o.length;r<a;++r)n=Ir(t,e,n,o[r],i,!0);return n}function Or(t,e){var n=t.g,o=t.I;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.I={fillStyle:e.fillStyle})}function kr(t,e){var n=t.g,o=t.Z;o?(o.lineCap!=e.lineCap&&(o.lineCap=n.lineCap=e.lineCap),Uv&&!u(o.lineDash,e.lineDash)&&n.setLineDash(o.lineDash=e.lineDash),o.lineJoin!=e.lineJoin&&(o.lineJoin=n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,Uv&&n.setLineDash(e.lineDash),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.Z={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Rr(t,e){br.call(this,0,e),this.g=Ee(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=ur()}function Dr(t,e,n){var o=t.l,i=t.g;if(de(o,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,u=n.viewState,h=n.pixelRatio/u.resolution;t=gr(t.i,t.b.width/2,t.b.height/2,h,-h,-u.rotation,-u.center[0],-u.center[1]),o.b(new Cr(e,new Ar(i,a,r,t,s),n,i,null))}}function Fr(){}function jr(t){this.b=t}function Kr(t){this.b=t}function Br(t){this.b=t}function Xr(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Ur(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function Yr(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"l"),this.g=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"p"),this.Z=t.getUniformLocation(e,"o"),this.j=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.O=t.getAttribLocation(e,"g")}function Gr(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Wr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function zr(t,e){this.origin=Z(e),this.Gb=ur(),this.Va=ur(),this.yb=ur(),this.Ja=Gr(),this.b=[],this.o=null,this.g=[],this.f=[],this.a=[],this.u=null,this.j=void 0}function Hr(t,e,n,o){t.drawElements(4,o-n,e.f?5125:5123,n*(e.f?4:2))}function qr(t,e,n,o,i,r){return t=(n-t)*(r-e)-(i-t)*(o-e),t<=gg&&t>=-gg?void 0:0<t}function Vr(t){this.b=void 0!==t?t:[],this.a=mg}function $r(t,e){zr.call(this,0,e),this.v=null,this.l=[],this.O=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function Zr(t,e,n,o){e.uniform4fv(t.v.Z,n),e.uniform1f(t.v.qa,o)}function Jr(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Qr(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function ta(t,e){this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.g=t.getUniformLocation(e,"h"),this.u=t.getAttribLocation(e,"e"),this.v=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.A=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function ea(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.o=this.u=this.i=this.l=null,(this.f=i(iv,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ie(this.j,"webglcontextlost",this.No,this),ie(this.j,"webglcontextrestored",this.Oo,this)}function na(t,e,n){var o=t.b,i=n.b,r=String(d(n));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var a=o.createBuffer();o.bindBuffer(e,a);var s;34962==e?s=new Float32Array(i):34963==e&&(s=t.f?new Uint32Array(i):new Uint16Array(i)),o.bufferData(e,s,n.a),t.a[r]={nc:n,buffer:a}}}function oa(t,e){var n=t.b,o=String(d(e)),i=t.a[o];n.isContextLost()||n.deleteBuffer(i.buffer),delete t.a[o]}function ia(t){if(!t.i){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=ua(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=n,t.u=o,t.o=i}return t.i}function ra(t,e){var n=String(d(e));if(n in t.c)return t.c[n];var o=t.b,i=o.createShader(e.S());return o.shaderSource(i,e.b),o.compileShader(i),t.c[n]=i}function aa(t,e,n){var o=d(e)+"/"+d(n);if(o in t.g)return t.g[o];var i=t.b,r=i.createProgram();return i.attachShader(r,ra(t,e)),i.attachShader(r,ra(t,n)),i.linkProgram(r),t.g[o]=r}function sa(t,e,n){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),o}function ua(t,e,n){var o=sa(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function ha(t,e){var n=sa(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function pa(t,e){zr.call(this,0,e),this.G=this.C=void 0,this.A=[],this.v=[],this.ta=void 0,this.l=[],this.c=[],this.Z=this.I=void 0,this.qa=null,this.na=this.mb=this.fa=this.ea=this.T=this.$a=void 0,this.Ha=[],this.O=[],this.$b=void 0}function la(t,e,n,o){var i,r,a,s,u,h,p=t.C,l=t.G,c=t.ta,f=t.I,d=t.Z,y=t.$a,v=t.T,g=t.ea,m=t.fa?1:0,b=-t.mb,_=t.na,x=t.$b,w=Math.cos(b),b=Math.sin(b),P=t.b.length,S=t.a.length;for(i=0;i<n;i+=o)u=e[i]-t.origin[0],h=e[i+1]-t.origin[1],r=S/8,a=-_*p,s=-_*(c-l),t.a[S++]=u,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=v/d,t.a[S++]=(g+c)/f,t.a[S++]=y,t.a[S++]=m,a=_*(x-p),s=-_*(c-l),t.a[S++]=u,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=(v+x)/d,t.a[S++]=(g+c)/f,t.a[S++]=y,t.a[S++]=m,a=_*(x-p),s=_*l,t.a[S++]=u,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=(v+x)/d,t.a[S++]=g/f,t.a[S++]=y,t.a[S++]=m,a=-_*p,s=_*l,t.a[S++]=u,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=v/d,t.a[S++]=g/f,t.a[S++]=y,t.a[S++]=m,t.b[P++]=r,t.b[P++]=r+1,t.b[P++]=r+2,t.b[P++]=r,t.b[P++]=r+2,t.b[P++]=r+3}function ca(t,e,n,o){var i,r,a,s=e.length;for(a=0;a<s;++a)i=e[a],r=d(i).toString(),r in n?i=n[r]:(i=ha(o,i),n[r]=i),t[a]=i}function fa(t,e,n){var o=e-n;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/n&&!!po(t,0,e,n)}function da(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ya(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function va(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.Z=t.getUniformLocation(e,"l"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"p"),this.g=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"o"),this.f=t.getAttribLocation(e,"g"),this.l=t.getAttribLocation(e,"d"),this.o=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function ga(t,e){zr.call(this,0,e),this.v=null,this.O=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function ma(t,e,n,o){var i,r,a,s,h,p,l,c=t.a.length,f=t.b.length,d="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,y="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,v=fa(e,n,o),g=f,m=1;for(i=0;i<n;i+=o){if(s=c/7,h=p,p=l||[e[i],e[i+1]],i){if(i===n-o){v?l=r:(h=h||[0,0],c=ba(t,h,p,[0,0],m*Sg*(y||1),c),c=ba(t,h,p,[0,0],-m*Sg*(y||1),c),t.b[f++]=s,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=g,t.b[f++]=s+1,t.b[f++]=s,y&&(c=ba(t,h,p,[0,0],m*Mg*y,c),c=ba(t,h,p,[0,0],-m*Mg*y,c),t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=s+1,t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s+2));break}l=[e[i+o],e[i+o+1]]}else{if(l=[e[i+o],e[i+o+1]],n-0===2*o&&u(p,l))break;if(!v){y&&(c=ba(t,[0,0],p,l,m*Cg*y,c),c=ba(t,[0,0],p,l,-m*Cg*y,c),t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=s+1,t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s+2),c=ba(t,[0,0],p,l,m*Pg*(y||1),c),c=ba(t,[0,0],p,l,-m*Pg*(y||1),c),g=c/7-1;continue}h=[e[n-2*o],e[n-2*o+1]],r=l}a=qr(h[0],h[1],p[0],p[1],l[0],l[1])?-1:1,c=ba(t,h,p,l,a*Tg*(d||1),c),c=ba(t,h,p,l,a*Ag*(d||1),c),c=ba(t,h,p,l,-a*Eg*(d||1),c),0<i&&(t.b[f++]=s,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=s+2,t.b[f++]=s,t.b[f++]=0<m*a?g:g-1),t.b[f++]=s,t.b[f++]=s+2,t.b[f++]=s+1,g=s+2,m=a,d&&(c=ba(t,h,p,l,a*Lg*d,c),t.b[f++]=s+1,t.b[f++]=s+3,t.b[f++]=s)}v&&(s=s||c/7,a=Ro([h[0],h[1],p[0],p[1],l[0],l[1]],0,6,2)?1:-1,c=ba(t,h,p,l,a*Tg*(d||1),c),ba(t,h,p,l,-a*Eg*(d||1),c),t.b[f++]=s,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=s+1,t.b[f++]=s,t.b[f++]=0<m*a?g:g-1)}function ba(t,e,n,o,i,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=i,r}function _a(t,e,n){return e-=0,!(e<2*n)&&(e!==2*n||!u([t[0],t[1]],[t[0+n],t[n+1]]))}function xa(t,e,n,o){if(fa(e,e.length,o)||(e.push(e[0]),e.push(e[1])),ma(t,e,e.length,o),n.length){var i;for(e=0,i=n.length;e<i;++e)fa(n[e],n[e].length,o)||(n[e].push(n[e][0]),n[e].push(n[e][1])),ma(t,n[e],n[e].length,o)}}function wa(t,e,n){n=void 0===n?t.b.length:n,t.g.push(n),t.f.push(e),t.c.s&&(t.l.push(n),t.c.s=!1)}function Pa(t,e,n,o,i){e.uniform4fv(t.v.G,n),e.uniform1f(t.v.qa,o),e.uniform1f(t.v.Z,i)}function Sa(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Ca(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Ma(t,e){this.G=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.g=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Ta(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.i=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.f=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function Aa(t){this.b=this.a=this.g=void 0,this.i=void 0===t||t,this.c=0}function Ea(t){var e=t.b;if(e){var n=e.next,o=e.ub;n&&(n.ub=o),o&&(o.next=n),t.b=n||o,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=o?t.b.ub:t.b),t.c--}}function La(t){if(t.b=t.g,t.b)return t.b.data}function Ia(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Na(t){if(t.b&&t.b.next)return t.b.next.data}function Oa(t){if(t.b&&t.b.ub)return t.b=t.b.ub,t.b.data}function ka(t){if(t.b&&t.b.ub)return t.b.ub.data}function Ra(t){if(t.b)return t.b.data}function Da(t){this.b=Og(t),this.a={}}function Fa(t,e,n){var o=t.a[d(n)];Y([o.da,o.ga,o.ba,o.ja],e)||(t.remove(n),t.Ea(e,n))}function ja(t){return t.b.all().map(function(t){return t.value})}function Ka(t,e){return t.b.search({da:e[0],ga:e[1],ba:e[2],ja:e[3]}).map(function(t){return t.value})}function Ba(t,e,n,o){return Xa(Ka(t,e),n,o)}function Xa(t,e,n){for(var o,i=0,r=t.length;i<r&&!(o=e.call(n,t[i]));i++);return o}function Ua(t,e){zr.call(this,0,e),this.j=new ga(0,e),this.v=null,this.O=[],this.c=[],this.l={fillColor:null,s:!1}}function Ya(t,e,n,o){var i=new Aa,r=new Da;if(e=Ga(t,e,o,i,r,!0),n.length){var a,s,u=[];for(a=0,s=n.length;a<s;++a){var h={list:new Aa,ba:void 0};u.push(h),h.ba=Ga(t,n[a],o,h.list,r,!1)}for(u.sort(function(t,e){return e.ba-t.ba}),a=0;a<u.length;++a)za(u[a].list,u[a].ba,i,e,r)}Wa(i,r,!1),Ha(t,i,r)}function Ga(t,e,n,o,i,r){var a,s,u,h,p,l=t.a.length/2,c=[],f=[];if(r===Ro(e,0,e.length,n))for(h=u=Za(t,e[0],e[1],l++),r=e[0],a=n,s=e.length;a<s;a+=n)p=Za(t,e[a],e[a+1],l++),f.push(Ja(h,p,o)),c.push([Math.min(h.x,p.x),Math.min(h.y,p.y),Math.max(h.x,p.x),Math.max(h.y,p.y)]),r=e[a]>r?e[a]:r,h=p;else for(a=e.length-n,h=u=Za(t,e[a],e[a+1],l++),r=e[a],a-=n,s=0;a>=s;a-=n)p=Za(t,e[a],e[a+1],l++),f.push(Ja(h,p,o)),c.push([Math.min(h.x,p.x),Math.min(h.y,p.y),Math.max(h.x,p.x),Math.max(h.y,p.y)]),r=e[a]>r?e[a]:r,h=p;return f.push(Ja(p,u,o)),c.push([Math.min(h.x,p.x),Math.min(h.y,p.y),Math.max(h.x,p.x),Math.max(h.y,p.y)]),i.load(c,f),r}function Wa(t,e,n){var o=La(t),i=o,r=Ia(t),a=!1;do{var s=n?qr(r.X.x,r.X.y,i.X.x,i.X.y,i.aa.x,i.aa.y):qr(i.aa.x,i.aa.y,i.X.x,i.X.y,r.X.x,r.X.y);void 0===s?(Qa(i,r,t,e),a=!0,r===o&&(o=Na(t)),r=i,Oa(t)):i.X.vb!==s&&(i.X.vb=s,a=!0),i=r,r=Ia(t)}while(i!==o);return a}function za(t,e,n,o,i){Wa(t,i,!0);for(var r=La(t);r.X.x!==e;)r=Ia(t);e=r.X,o={x:o,y:e.y,fb:-1};var a,s,u,h,p=1/0;for(u=es({aa:e,X:o},i,!0),a=0,s=u.length;a<s;++a){var l=u[a];if(void 0===l.aa.vb){var c=ns(e,o,l.aa,l.X,!0),f=Math.abs(e.x-c[0]);f<p&&(p=f,h={x:c[0],y:c[1],fb:-1},r=l)}}if(1/0!==p){if(u=r.X,0<p&&(r=ts(e,h,r.X,i),r.length))for(h=1/0,a=0,s=r.length;a<s;++a)p=r[a],l=Math.atan2(e.y-p.y,o.x-p.x),(l<h||l===h&&p.x<u.x)&&(h=l,u=p);for(r=La(n);r.X!==u;)r=Ia(n);o={x:e.x,y:e.y,fb:e.fb,vb:void 0},a={x:r.X.x,y:r.X.y,fb:r.X.fb,vb:void 0},Na(t).aa=o,Ja(e,r.X,t,i),Ja(a,o,t,i),r.X=a,t.i&&t.b&&(t.g=t.b,t.a=t.b.ub),n.concat(t)}}function Ha(t,e,n){for(var o=!1,i=$a(e,n);3<e.c;)if(i){if(!qa(t,e,n,i,o)&&!Wa(e,n,o)&&!Va(t,e,n,!0))break}else if(!qa(t,e,n,i,o)&&!Wa(e,n,o)&&!Va(t,e,n)){if(!(i=$a(e,n))){i=t,o=e,r=a=La(o);do{if(s=es(r,n),s.length){for(a=s[0],s=ns(r.aa,r.X,a.aa,a.X),s=Za(i,s[0],s[1],i.a.length/2),u=new Aa,h=new Da,Ja(s,r.X,u,h),r.X=s,Fa(n,[Math.min(r.aa.x,s.x),Math.min(r.aa.y,s.y),Math.max(r.aa.x,s.x),Math.max(r.aa.y,s.y)],r),r=Ia(o);r!==a;)Ja(r.aa,r.X,u,h),n.remove(r),Ea(o),r=Ra(o);Ja(a.aa,s,u,h),a.aa=s,Fa(n,[Math.min(a.X.x,s.x),Math.min(a.X.y,s.y),Math.max(a.X.x,s.x),Math.max(a.X.y,s.y)],a),Wa(o,n,!1),Ha(i,o,n),Wa(u,h,!1),Ha(i,u,h);break}r=Ia(o)}while(r!==a);break}var o=e,r=2*o.c,a=Array(r),s=La(o),u=s,h=0;do a[h++]=u.aa.x,a[h++]=u.aa.y,u=Ia(o);while(u!==s);o=!Ro(a,0,r,2),Wa(e,n,o)}3===e.c&&(i=t.b.length,t.b[i++]=ka(e).aa.fb,t.b[i++]=Ra(e).aa.fb,t.b[i++]=Na(e).aa.fb)}function qa(t,e,n,o,i){var r,a,s,u=t.b.length,h=La(e),p=ka(e),l=h,c=Ia(e),f=Na(e),d=!1;do{if(r=l.aa,a=l.X,s=c.X,!1===a.vb){var y=i?os(f.X,s,a,r,p.aa):os(p.aa,r,a,s,f.X);!o&&es({aa:r,X:s},n).length||!y||ts(r,a,s,n,!0).length||!o&&!1!==r.vb&&!1!==s.vb&&Ro([p.aa.x,p.aa.y,r.x,r.y,a.x,a.y,s.x,s.y,f.X.x,f.X.y],0,10,2)!==!i||(t.b[u++]=r.fb,t.b[u++]=a.fb,t.b[u++]=s.fb,Qa(l,c,e,n),c===h&&(h=f),d=!0)}p=ka(e),l=Ra(e),c=Ia(e),f=Na(e)}while(l!==h&&3<e.c);return d}function Va(t,e,n,o){var i=La(e);Ia(e);var r=i,a=Ia(e),s=!1;do{var u=ns(r.aa,r.X,a.aa,a.X,o);if(u){var h,s=t.b.length,p=t.a.length/2,l=Oa(e);if(Ea(e),n.remove(l),h=l===i,o?(u[0]===r.aa.x&&u[1]===r.aa.y?(Oa(e),u=r.aa,a.aa=u,n.remove(r),h=h||r===i):(u=a.X,r.X=u,n.remove(a),h=h||a===i),Ea(e)):(u=Za(t,u[0],u[1],p),r.X=u,a.aa=u,Fa(n,[Math.min(r.aa.x,r.X.x),Math.min(r.aa.y,r.X.y),Math.max(r.aa.x,r.X.x),Math.max(r.aa.y,r.X.y)],r),Fa(n,[Math.min(a.aa.x,a.X.x),Math.min(a.aa.y,a.X.y),Math.max(a.aa.x,a.X.x),Math.max(a.aa.y,a.X.y)],a)),t.b[s++]=l.aa.fb,t.b[s++]=l.X.fb,t.b[s++]=u.fb,s=!0,h)break}r=ka(e),a=Ia(e)}while(r!==i);return s}function $a(t,e){var n=La(t),o=n;do{if(es(o,e).length)return!1;o=Ia(t)}while(o!==n);return!0}function Za(t,e,n,o){var i=t.a.length;return t.a[i++]=e,t.a[i++]=n,{x:e,y:n,fb:o,vb:void 0}}function Ja(t,e,n,o){var i={aa:t,X:e},r={ub:void 0,next:void 0,data:i},a=n.b;if(a){var s=a.next;r.ub=a,r.next=s,a.next=r,s&&(s.ub=r),a===n.a&&(n.a=r)}else n.g=r,n.a=r,n.i&&(r.next=r,r.ub=r);return n.b=r,n.c++,o&&o.Ea([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i}function Qa(t,e,n,o){Ra(n)===e&&(Ea(n),t.X=e.X,o.remove(e),Fa(o,[Math.min(t.aa.x,t.X.x),Math.min(t.aa.y,t.X.y),Math.max(t.aa.x,t.X.x),Math.max(t.aa.y,t.X.y)],t))}function ts(t,e,n,o,i){var r,a,s,u=[],h=Ka(o,[Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,r=h.length;o<r;++o)for(a in h[o])s=h[o][a],"object"!=typeof s||i&&!s.vb||s.x===t.x&&s.y===t.y||s.x===e.x&&s.y===e.y||s.x===n.x&&s.y===n.y||-1!==u.indexOf(s)||!Eo([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,s.x,s.y)||u.push(s);return u}function es(t,e,n){var o=t.aa,i=t.X;e=Ka(e,[Math.min(o.x,i.x),Math.min(o.y,i.y),Math.max(o.x,i.x),Math.max(o.y,i.y)]);var r,a,s=[];for(r=0,a=e.length;r<a;++r){var u=e[r];t!==u&&(n||u.aa!==i||u.X!==o)&&ns(o,i,u.aa,u.X,n)&&s.push(u)}return s}function ns(t,e,n,o,i){var r=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(r&&(o=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/r,n=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/r,!i&&o>gg&&o<1-gg&&n>gg&&n<1-gg||i&&0<=o&&1>=o&&0<=n&&1>=n))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function os(t,e,n,o,i){if(void 0===e.vb||void 0===o.vb)return!1;var r=(n.x-o.x)*(e.y-o.y)>(n.y-o.y)*(e.x-o.x);return i=(i.x-o.x)*(e.y-o.y)<(i.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),n=(n.x-e.x)*(o.y-e.y)<(n.y-e.y)*(o.x-e.x),e=e.vb?n||t:n&&t,(o.vb?i||r:i&&r)&&e}function is(){}function rs(t,e,n){this.f=e,this.j=t,this.c=n,this.a={}}function as(t,e){var n,o=[];for(n in t.a){var i,r=t.a[n];for(i in r)o.push(r[i].Cb(e))}return function(){for(var t,e=o.length,n=0;n<e;n++)t=o[n].apply(this,arguments);return t}}function ss(t,e){for(var n in t.a){var o,i=t.a[n];for(o in i)i[o].Bb(e)}}function us(t,e,n,o,i,r,a,s,u,h,p){var l=Fg,c=Object.keys(t.a).map(Number);c.sort(function(t,e){return e-t});var f,d,y,v,g;for(f=0,d=c.length;f<d;++f)for(v=t.a[c[f].toString()],y=lg.length-1;0<=y;--y)if(g=v[lg[y]],void 0!==g&&(g=g.i(e,n,o,i,l,r,a,s,u,h,p)))return g}function hs(t,e,n,o,i,r,a,s){var u=n.b;return u.bindFramebuffer(u.FRAMEBUFFER,ia(n)),void 0!==us(t,n,e,o,i,r,a,s,function(){var t=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,t),0<t[3]},!1)}function ps(t,e,n,o,i,r,a){this.b=t,this.g=e,this.a=r,this.c=a,this.j=i,this.f=o,this.i=n,this.l=this.o=this.u=null}function ls(){this.c=0,this.b={},this.g=this.a=null}function cs(t,e){br.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.O=this.A=0,this.C=Ee(),this.o=!0,this.g=tn(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new ea(this.b,this.g),ie(this.b,"webglcontextlost",this.On,this),ie(this.b,"webglcontextrestored",this.Pn,this),this.a=new ls,this.v=null,this.j=new En(function(t){var e=t[1];t=t[2];var n=e[0]-this.v[0],e=e[1]-this.v[1];return 65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].hb()}),this.G=function(){if(this.j.b.length){On(this.j);var t=Ln(this.j);fs(this,t[0],t[3],t[4])}return!1}.bind(this),this.f=0,ys(this)}function fs(t,e,n,o){var i=t.g,r=e.hb();if(t.a.b.hasOwnProperty(r))t=t.a.get(r),i.bindTexture(3553,t.Fb),9729!=t.Ih&&(i.texParameteri(3553,10240,9729),t.Ih=9729),9729!=t.Kh&&(i.texParameteri(3553,10241,9729),t.Kh=9729);else{var a=i.createTexture();if(i.bindTexture(3553,a),0<o){var s=t.C.canvas,u=t.C;t.A!==n[0]||t.O!==n[1]?(s.width=n[0],s.height=n[1],t.A=n[0],t.O=n[1]):u.clearRect(0,0,n[0],n[1]),u.drawImage(e.Y(),o,o,n[0],n[1],0,0,n[0],n[1]),i.texImage2D(3553,0,6408,6408,5121,s)}else i.texImage2D(3553,0,6408,6408,5121,e.Y());i.texParameteri(3553,10240,9729),i.texParameteri(3553,10241,9729),i.texParameteri(3553,10242,33071),i.texParameteri(3553,10243,33071),t.a.set(r,{Fb:a,Ih:9729,Kh:9729})}}function ds(t,e,n){var o=t.l;if(de(o,e)){t=t.i;var i=n.viewState;o.b(new Cr(e,new ps(t,i.center,i.resolution,i.rotation,n.size,n.extent,n.pixelRatio),n,null,t));
}}function ys(t){t=t.g,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function vs(t){ve.call(this);var e=gs(t);this.yf=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.zf=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Ef=void 0!==t.pixelRatio?t.pixelRatio:Xv,this.wf=e.logos,this.fa=function(){this.f=void 0,this.Ip.call(this,Date.now())}.bind(this),this.Gb=ur(),this.Ff=ur(),this.le=0,this.a=null,this.yb=K(),this.G=this.I=this.Z=null,this.c=document.createElement("DIV"),this.c.className="ol-viewport"+(zv?" ol-touch":""),this.c.style.position="relative",this.c.style.overflow="hidden",this.c.style.width="100%",this.c.style.height="100%",this.c.style.msTouchAction="none",this.c.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.c.appendChild(this.A),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" ");for(var n=0,o=t.length;n<o;++n)ie(this.v,t[n],ce);this.c.appendChild(this.v),this.Ja=new Mn(this);for(var i in Nv)ie(this.Ja,Nv[i],this.Bh,this);this.na=e.keyboardEventTarget,this.u=null,ie(this.c,"wheel",this.pd,this),ie(this.c,"mousewheel",this.pd,this),this.l=e.controls,this.j=e.interactions,this.o=e.overlays,this.lg={},this.C=new e.Kp(this.c,this),this.T=null,this.Va=[],this.Ha=new kn(this.ll.bind(this),this.Rl.bind(this)),this.ea={},ie(this,ge("layergroup"),this.zl,this),ie(this,ge("view"),this.Sl,this),ie(this,ge("size"),this.Ol,this),ie(this,ge("target"),this.Ql,this),this.H(e.values),this.l.forEach(function(t){t.setMap(this)},this),ie(this.l,"add",function(t){t.element.setMap(this)},this),ie(this.l,"remove",function(t){t.element.setMap(null)},this),this.j.forEach(function(t){t.setMap(this)},this),ie(this.j,"add",function(t){t.element.setMap(this)},this),ie(this.j,"remove",function(t){t.element.setMap(null)},this),this.o.forEach(this.bh,this),ie(this.o,"add",function(t){this.bh(t.element)},this),ie(this.o,"remove",function(t){var e=t.element.f;void 0!==e&&delete this.lg[e.toString()],t.element.setMap(null)},this)}function gs(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?o[i]="":i instanceof HTMLElement?o[d(i).toString()]=i:i&&(v("string"==typeof i.href,44),v("string"==typeof i.src,45),o[i.src]=i.href)}i=t.layers instanceof ir?t.layers:new ir({layers:t.layers}),n.layergroup=i,n.target=t.target,n.view=void 0!==t.view?t.view:new Wo;var r,i=br;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:v(!1,46),0<=r.indexOf("dom")&&(r=r.concat(Kg))):r=Kg;var a,s;for(a=0,s=r.length;a<s;++a){var u=r[a];if("canvas"==u){if(Yv){i=Rr;break}}else if("webgl"==u&&Ov){i=cs;break}}return void 0!==t.controls?Array.isArray(t.controls)?r=new _e(t.controls.slice()):(v(t.controls instanceof _e,47),r=t.controls):r=Ye(),void 0!==t.interactions?Array.isArray(t.interactions)?a=new _e(t.interactions.slice()):(v(t.interactions instanceof _e,48),a=t.interactions):a=er(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new _e(t.overlays.slice()):(v(t.overlays instanceof _e,49),t=t.overlays):t=new _e,{controls:r,interactions:a,keyboardEventTarget:e,logos:o,overlays:t,Kp:i,values:n}}function ms(t){ve.call(this),this.f=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.u=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.j=t.autoPanAnimation||{},this.l=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={re:"",He:"",lf:"",uf:"",visible:!0},this.i=null,ie(this,ge(Bg),this.ul,this),ie(this,ge(Xg),this.El,this),ie(this,ge(Ug),this.Il,this),ie(this,ge(Yg),this.Kl,this),ie(this,ge(Gg),this.Ll,this),void 0!==t.element&&this.gj(t.element),this.nj(void 0!==t.offset?t.offset:[0,0]),this.qj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Me(t.position)}function bs(t,e){var n=t.getBoundingClientRect(),o=n.left+window.pageXOffset,n=n.top+window.pageYOffset;return[o,n,o+e[0],n+e[1]]}function _s(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function xs(t){var e=t.Le(),n=t.Rh();if(e&&e.a&&n){var n=e.Ka(n),o=e.Nb(),e=t.c.style,i=t.wh(),r=t.xh();_s(t,!0);var a=i[0],i=i[1];"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.He&&(t.a.He=e.left=""),a=Math.round(o[0]-n[0]-a)+"px",t.a.lf!=a&&(t.a.lf=e.right=a)):(""!==t.a.lf&&(t.a.lf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.c.offsetWidth/2),a=Math.round(n[0]+a)+"px",t.a.He!=a&&(t.a.He=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.uf&&(t.a.uf=e.top=""),n=Math.round(o[1]-n[1]-i)+"px",t.a.re!=n&&(t.a.re=e.bottom=n)):(""!==t.a.re&&(t.a.re=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(i-=t.c.offsetHeight/2),n=Math.round(n[1]+i)+"px",t.a.uf!=n&&(t.a.uf=e.top=n))}else _s(t,!1)}function ws(t){function e(t){t=s.Of(t),u.a.$().lb(t),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}function n(t){t=s.Of({clientX:t.clientX-p.offsetWidth/2,clientY:t.clientY+p.offsetHeight/2}),h.Me(t)}t=t?t:{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof r?(this.v=document.createElement("span"),this.v.textContent=r):this.v=r,r=void 0!==t.label?t.label:"»","string"==typeof r?(this.A=document.createElement("span"),this.A.textContent=r):this.A=r;var a=this.l&&!this.j?this.v:this.A,r=document.createElement("button");r.setAttribute("type","button"),r.title=i,r.appendChild(a),ie(r,"click",this.Vm,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var s=this.c=new vs({controls:new _e,interactions:new _e,view:t.view});t.layers&&t.layers.forEach(function(t){s.$g(t)},this),i=document.createElement("DIV"),i.className="ol-overviewmap-box",i.style.boxSizing="border-box",this.o=new ms({position:[0,0],positioning:"bottom-left",element:i}),this.c.ah(this.o),i=document.createElement("div"),i.className=o+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),i.appendChild(this.C),i.appendChild(r),Ne.call(this,{element:i,render:t.render?t.render:Ps,target:t.target});var u=this,h=this.o,p=this.o.Rd();p.addEventListener("mousedown",function(){window.addEventListener("mousemove",n),window.addEventListener("mouseup",e)})}function Ps(){var t=this.a,e=this.c;if(t.a&&e.a){var n=t.Nb(),t=t.$().hd(n),o=e.Nb(),n=e.$().hd(o),i=e.Ka(et(t)),r=e.Ka($(t)),e=Math.abs(i[0]-r[0]),i=Math.abs(i[1]-r[1]),r=o[0],o=o[1];e<.1*r||i<.1*o||e>.75*r||i>.75*o?Ss(this):D(n,t)||(t=this.c,n=this.a.$(),t.$().lb(n.za()))}Cs(this)}function Ss(t){var e=t.a;t=t.c;var n=e.Nb(),e=e.$().hd(n);t=t.$(),at(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Mf(e)}function Cs(t){var e=t.a,n=t.c;if(e.a&&n.a){var o,i=e.Nb(),r=e.$(),a=n.$(),n=r.Sa(),e=t.o,s=t.o.Rd(),u=r.hd(i),i=a.Ra(),r=V(u),a=nt(u);(t=t.a.$().za())&&(o=[r[0]-t[0],r[1]-t[1]],Vn(o,n),Gn(o,t)),e.Me(o),s&&(s.style.width=Math.abs((r[0]-a[0])/i)+"px",s.style.height=Math.abs((a[1]-r[1])/i)+"px")}}function Ms(t){t.element.classList.toggle("ol-collapsed"),t.j?Le(t.v,t.A):Le(t.A,t.v),t.j=!t.j;var e=t.c;t.j||e.a||(e.Cd(),Ss(t),re(e,"postrender",function(){Cs(this)},t))}function Ts(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.v=null,this.o=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.C=void 0,this.A="",Ne.call(this,{element:this.c,render:t.render?t.render:As,target:t.target}),ie(this,ge(zg),this.I,this),this.G(t.units||"metric")}function As(t){(t=t.frameState)?this.v=t.viewState:this.v=null,Es(this)}function Es(t){var e=t.v;if(e){var n=e.projection,o=n.uc(),e=bt(n,e.resolution,e.center)*o,o=t.o*e,n="",i=t.Kb();"degrees"==i?(n=lv.degrees,e/=n,o<n/60?(n="″",e*=3600):o<n?(n="′",e*=60):n="°"):"imperial"==i?.9144>o?(n="in",e/=.0254):1609.344>o?(n="ft",e/=.3048):(n="mi",e/=1609.344):"nautical"==i?(e/=1852,n="nm"):"metric"==i?.001>o?(n="μm",e*=1e6):1>o?(n="mm",e*=1e3):1e3>o?n="m":(n="km",e/=1e3):"us"==i?.9144>o?(n="in",e*=39.37):1609.344>o?(n="ft",e/=.30480061):(n="mi",e/=1609.3472):v(!1,33);for(var r,i=3*Math.floor(Math.log(t.o*e)/Math.log(10));;){if(r=Wg[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.o)break;++i}e=r+" "+n,t.A!=e&&(t.l.innerHTML=e,t.A=e),t.C!=o&&(t.l.style.width=o+"px",t.C=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}function Ls(t){t=t?t:{},this.c=void 0,this.j=Hg,this.A=this.o=0,this.I=null,this.ea=!1,this.T=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(n),this.l=new vn(o),ie(this.l,"pointerdown",this.tl,this),ie(this.l,"pointermove",this.rl,this),ie(this.l,"pointerup",this.sl,this),ie(o,"click",this.ql,this),ie(n,"click",ce),Ne.call(this,{element:o,render:t.render?t.render:Is})}function Is(t){if(t.frameState){if(!this.ea){var e=this.element,n=e.offsetWidth,o=e.offsetHeight,i=e.firstElementChild,r=getComputedStyle(i),e=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.I=[e,i],n>o?(this.j=1,this.A=n-e):(this.j=Hg,this.o=o-i),this.ea=!0}t=t.frameState.viewState.resolution,t!==this.c&&(this.c=t,Ns(this,t))}}function Ns(t,e){var n;n=1-ti(t.a.$())(e);var o=t.element.firstElementChild;1==t.j?o.style.left=t.A*n+"px":o.style.top=t.o*n+"px"}function Os(t,e){return Qo(t.a.$())(1-e)}function ks(t){t=t?t:{},this.c=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=o,i.appendChild("string"==typeof n?document.createTextNode(n):n),ie(i,"click",this.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),Ne.call(this,{element:n,target:t.target})}function Rs(t){ve.call(this),t=t?t:{},this.a=null,ie(this,ge(Jg),this.rm,this),this.bg(void 0!==t.tracking&&t.tracking)}function Ds(t){this.f=t.opacity,this.o=t.rotateWithView,this.j=t.rotation,this.c=t.scale,this.u=t.snapToPixel}function Fs(t){this.A=this.v=this.i=null,this.Wa=void 0!==t.fill?t.fill:null,this.qa=[0,0],this.b=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.g=void 0!==t.radius2?t.radius2:this.a,this.l=void 0!==t.angle?t.angle:0,this.Za=void 0!==t.stroke?t.stroke:null,this.G=this.ta=this.C=null,this.O=t.atlasManager,js(this,this.O),Ds.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function js(t,e){var n,o,i="",r="",a=0,s=null,u=0;t.Za&&(o=t.Za.a,null===o&&(o=pg),o=Te(o),u=t.Za.c,void 0===u&&(u=1),s=t.Za.g,Uv||(s=null),r=t.Za.j,void 0===r&&(r="round"),i=t.Za.i,void 0===i&&(i="round"),a=t.Za.l,void 0===a&&(a=10));var h=2*(t.a+u)+1,i={strokeStyle:o,vj:u,size:h,lineCap:i,lineDash:s,lineJoin:r,miterLimit:a};void 0===e?(r=Ee(h,h),t.v=r.canvas,n=h=t.v.width,t.jh(i,r,0,0),t.Wa?t.A=t.v:(r=Ee(i.size,i.size),t.A=r.canvas,t.ih(i,r,0,0))):(h=Math.round(h),(r=!t.Wa)&&(n=t.ih.bind(t,i)),t.Za?(a=t.Za,void 0===a.b&&(a.b="s",a.b=a.a?"string"==typeof a.a?a.b+a.a:a.b+d(a.a).toString():a.b+"-",a.b+=","+(void 0!==a.i?a.i.toString():"-")+","+(a.g?a.g.toString():"-")+","+(void 0!==a.f?a.f:"-")+","+(void 0!==a.j?a.j:"-")+","+(void 0!==a.l?a.l.toString():"-")+","+(void 0!==a.c?a.c.toString():"-")),a=a.b):a="-",t.Wa?(s=t.Wa,void 0===s.a&&(s.a=s.b instanceof CanvasPattern||s.b instanceof CanvasGradient?d(s.b).toString():"f"+(s.b?Ce(s.b):"-")),s=s.a):s="-",t.i&&a==t.i[1]&&s==t.i[2]&&t.a==t.i[3]&&t.g==t.i[4]&&t.l==t.i[5]&&t.b==t.i[6]||(t.i=["r"+a+s+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.l?t.l.toString():"-")+(void 0!==t.b?t.b.toString():"-"),a,s,t.a,t.g,t.l,t.b]),i=e.add(t.i[0],h,h,t.jh.bind(t,i),n),t.v=i.image,t.qa=[i.offsetX,i.offsetY],n=i.image.width,t.A=r?i.Ul:t.v),t.C=[h/2,h/2],t.ta=[h,h],t.G=[n,n]}function Ks(t){t=t||{},Fs.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Bs(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function Xs(t){t=t||{},this.Ic=null,this.Qa=Ws,void 0!==t.geometry&&this.Ta(t.geometry),this.Wa=void 0!==t.fill?t.fill:null,this.N=void 0!==t.image?t.image:null,this.Za=void 0!==t.stroke?t.stroke:null,this.Fa=void 0!==t.text?t.text:null,this.Bj=t.zIndex}function Us(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(v(t instanceof Xs,41),e=[t]),t=function(){return e}}return t}function Ys(){if(!Qg){var t=new Bs({color:"rgba(255,255,255,0.4)"}),e=new Ta({color:"#3399CC",width:1.25});Qg=[new Xs({image:new Ks({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Qg}function Gs(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new Xs({fill:new Bs({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Xs({stroke:new Ta({color:e,width:5})}),new Xs({stroke:new Ta({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Xs({image:new Ks({radius:6,fill:new Bs({color:n}),stroke:new Ta({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Ws(t){return t.U()}function zs(t){ve.call(this),this.a=void 0,this.c="geometry",this.f=null,this.j=void 0,this.i=null,ie(this,ge(this.c),this.De,this),void 0!==t&&(t instanceof oo||!t?this.Ta(t):this.H(t))}function Hs(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{var n;Array.isArray(t)?n=t:(v(t instanceof Xs,41),n=[t]),e=function(){return n}}return e}function qs(t,e){return tm.createElementNS(t,e)}function Vs(t,e){return $s(t,e,[]).join("")}function $s(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)$s(t,e,n);return n}function Zs(t){return t instanceof Document}function Js(t){return t instanceof Node}function Qs(t){return(new DOMParser).parseFromString(t,"application/xml")}function tu(t,e){return function(n,o){var i=t.call(e,n,o);void 0!==i&&a(o[o.length-1],i)}}function eu(t,e){return function(n,o){var i=t.call(void 0!==e?e:this,n,o);void 0!==i&&o[o.length-1].push(i)}}function nu(t,e){return function(n,o){var i=t.call(void 0!==e?e:this,n,o);void 0!==i&&(o[o.length-1]=i)}}function ou(t){return function(e,n){var o=t.call(this,e,n);if(void 0!==o){var i,r=n[n.length-1],a=e.localName;i=a in r?r[a]:r[a]=[],i.push(o)}}}function iu(t,e){return function(n,o){var i=t.call(this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function ru(t,e){return function(n,o,i){t.call(void 0!==e?e:this,n,o,i),i[i.length-1].node.appendChild(n)}}function au(t){var e,n;return function(o,i,r){if(!e){e={};var a={};a[o.localName]=t,e[o.namespaceURI]=a,n=su(o.localName)}cu(e,n,i,r)}}function su(t,e){return function(n,o,i){return n=o[o.length-1].node,o=t,void 0===o&&(o=i),i=e,void 0===e&&(i=n.namespaceURI),qs(i,o)}}function uu(t,e){for(var n=e.length,o=Array(n),i=0;i<n;++i)o[i]=t[e[i]];return o}function hu(t,e,n){n=void 0!==n?n:{};var o,i;for(o=0,i=t.length;o<i;++o)n[t[o]]=e;return n}function pu(t,e,n,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var i=t[e.namespaceURI];void 0!==i&&(i=i[e.localName])&&i.call(o,e,n)}}function lu(t,e,n,o,i){return o.push(t),pu(e,n,o,i),o.pop()}function cu(t,e,n,o,i,r){for(var a,s,u=(void 0!==i?i:n).length,h=0;h<u;++h)a=n[h],void 0!==a&&(s=e.call(r,a,o,void 0!==i?i[h]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(r,s,a,o))}function fu(t,e,n,o,i,r,a){i.push(t),cu(e,n,o,i,r,a),i.pop()}function du(t,e,n,o){return function(i,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,r,a):t,!0),"arraybuffer"==e.S()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t,i=e.S();"json"==i||"text"==i?t=s.responseText:"xml"==i?(t=s.responseXML)||(t=Qs(s.responseText)):"arraybuffer"==i&&(t=s.response),t?n.call(this,e.Pa(t,{featureProjection:a}),e.jb(t)):o.call(this)}else o.call(this)}.bind(this),s.onerror=function(){o.call(this)}.bind(this),s.send()}}function yu(t,e){return du(t,e,function(t){this.gd(t)},f)}function vu(){this.i=this.defaultDataProjection=null}function gu(t,e,n){var o;return n&&(o={dataProjection:n.dataProjection?n.dataProjection:t.jb(e),featureProjection:n.featureProjection}),mu(t,o)}function mu(t,e){return hv({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function bu(t,e,n){var o,i=n?Tt(n.featureProjection):null,r=n?Tt(n.dataProjection):null;if(o=i&&r&&!At(i,r)?t instanceof oo?(e?t.clone():t).tb(e?i:r,e?r:i):kt(e?t.slice():t,e?i:r,e?r:i):t,e&&n&&n.decimals){var a=Math.pow(10,n.decimals);t=function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(o)?t(o):o.Fc(t)}return o}function _u(){vu.call(this)}function xu(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function wu(t,e,o,i,r,a){var s=NaN,u=NaN,h=(o-e)/i;if(1===h)s=t[e],u=t[e+1];else if(2==h)s=(1-r)*t[e]+r*t[e+i],u=(1-r)*t[e+1]+r*t[e+i+1];else if(h){var p,u=t[e],h=t[e+1],l=0,s=[0];for(p=e+i;p<o;p+=i){var c=t[p],f=t[p+1],l=l+Math.sqrt((c-u)*(c-u)+(f-h)*(f-h));s.push(l),u=c,h=f}for(o=r*l,h=0,l=s.length,p=!1;h<l;)r=h+(l-h>>1),u=+n(s[r],o),0>u?h=r+1:(l=r,p=!u);r=p?h:~h,0>r?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),e+=(-r-2)*i,s=T(t[e],t[e+i],o),u=T(t[e+1],t[e+i+1],o)):(s=t[e+r*i],u=t[e+r*i+1])}return a?(a[0]=s,a[1]=u,a):[s,u]}function Pu(t,e,n,o,i,r){if(n==e)return null;if(i<t[e+o-1])return r?(n=t.slice(e,e+o),n[o-1]=i,n):null;if(t[n-1]<i)return r?(n=t.slice(n-o,n),n[o-1]=i,n):null;if(i==t[e+o-1])return t.slice(e,e+o);for(e/=o,n/=o;e<n;)r=e+n>>1,i<t[(r+1)*o-1]?n=r:e=r+1;if(n=t[e*o-1],i==n)return t.slice((e-1)*o,(e-1)*o+o);r=(i-n)/(t[(e+1)*o-1]-n),n=[];var a;for(a=0;a<o-1;++a)n.push(T(t[(e-1)*o+a],t[e*o+a],r));return n.push(i),n}function Su(t,e,n,o,i,r){var a=0;if(r)return Pu(t,a,e[e.length-1],n,o,i);if(o<t[n-1])return i?(t=t.slice(0,n),t[n-1]=o,t):null;if(t[t.length-1]<o)return i?(t=t.slice(t.length-n),t[n-1]=o,t):null;for(i=0,r=e.length;i<r;++i){var s=e[i];if(a!=s){if(o<t[a+n-1])break;if(o<=t[s-1])return Pu(t,a,s,n,o,!1);a=s}}return null}function Cu(t,e){ao.call(this),this.c=null,this.v=this.A=this.j=-1,this.pa(t,e)}function Mu(t){return t.j!=t.g&&(t.c=t.ph(.5,t.c),t.j=t.g),t.c}function Tu(t,e){ao.call(this),this.c=[],this.j=this.v=-1,this.pa(t,e)}function Au(t){var e=[],n=t.B,o=0,i=t.c;t=t.a;var r,s;for(r=0,s=i.length;r<s;++r){var u=i[r],o=wu(n,o,u,t,.5);a(e,o),o=u}return e}function Eu(t,e){var n,o,i=t.la,r=[],s=[];for(n=0,o=e.length;n<o;++n){var u=e[n];n||(i=u.la),a(r,u.ia()),s.push(r.length)}t.ca(i,r,s)}function Lu(t,e){ao.call(this),this.pa(t,e)}function Iu(t,e){ao.call(this),this.c=[],this.v=-1,this.A=null,this.I=this.C=this.G=-1,this.j=null,this.pa(t,e)}function Nu(t){if(t.v!=t.g){var e,n,o=t.B,i=t.c,r=t.a,a=0,s=[];for(e=0,n=i.length;e<n;++e){var u=i[e],a=U(o,a,u[0],r);s.push((a[0]+a[2])/2,(a[1]+a[3])/2),a=u[u.length-1]}for(o=Ou(t),i=t.c,r=t.a,e=0,n=[],u=0,a=i.length;u<a;++u){var h=i[u];n=Io(o,e,h,r,s,2*u,n),e=h[h.length-1]}t.A=n,t.v=t.g}return t.A}function Ou(t){if(t.I!=t.g){var e,n=t.B;t:{e=t.c;var o,i;for(o=0,i=e.length;o<i;++o)if(!Do(n,e[o],t.a,void 0)){e=!1;break t}e=!0}e?t.j=n:(t.j=n.slice(),t.j.length=jo(t.j,t.c,t.a)),t.I=t.g}return t.j}function ku(t,e,n,o){uo(t,e,n),t.c=o,t.s()}function Ru(t,e){var n,o,i,r=t.la,s=[],u=[];for(n=0,o=e.length;n<o;++n){var h=e[n];n||(r=h.la);var p=s.length;i=h.Sb();var l,c;for(l=0,c=i.length;l<c;++l)i[l]+=p;a(s,h.ia()),u.push(i)}ku(t,r,s,u)}function Du(t){t=t?t:{},vu.call(this),this.b=t.geometryName}function Fu(t,e){if(!t)return null;var n;if("number"==typeof t.x&&"number"==typeof t.y)n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o=t.rings,i=ju(t),r=[],a=[];n=[];var s,u;for(s=0,u=o.length;s<u;++s)r.length=0,bo(r,0,o[s],i.length),Ro(r,0,r.length,i.length)?a.push([o[s]]):n.push(o[s]);for(;n.length;){for(o=n.shift(),i=!1,s=a.length-1;0<=s;s--)if(D(new Co(a[s][0]).D(),new Co(o).D())){a[s].push(o),i=!0;break}i||a.push([o.reverse()])}t=hv({},t),1===a.length?(n="Polygon",t.rings=a[0]):(n="MultiPolygon",t.rings=a)}return bu((0,nm[n])(t),!1,e)}function ju(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Ku(t){return t=t.la,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function Bu(t,e){return(0,om[t.S()])(bu(t,!0,e),e)}function Xu(t){this.mc=t}function Uu(t,e){this.mc=t,this.b=Array.prototype.slice.call(arguments,1),v(2<=this.b.length,57)}function Yu(t){var e=["And"].concat(Array.prototype.slice.call(arguments));Uu.apply(this,e)}function Gu(t,e,n){this.mc="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function Wu(t,e){this.mc=t,this.b=e}function zu(t,e,n,o){Wu.call(this,t,e),this.g=n,this.a=o}function Hu(t,e,n){zu.call(this,"PropertyIsEqualTo",t,e,n)}function qu(t,e){zu.call(this,"PropertyIsGreaterThan",t,e)}function Vu(t,e){zu.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function $u(t,e,n,o){this.mc=t,this.geometryName=e||"the_geom",this.geometry=n,this.srsName=o}function Zu(t,e,n){$u.call(this,"Intersects",t,e,n)}function Ju(t,e,n){Wu.call(this,"PropertyIsBetween",t),this.a=e,this.g=n}function Qu(t,e,n,o,i,r){Wu.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==n?n:"*",this.i=void 0!==o?o:".",this.g=void 0!==i?i:"!",this.a=r}function th(t){Wu.call(this,"PropertyIsNull",t)}function eh(t,e){zu.call(this,"PropertyIsLessThan",t,e)}function nh(t,e){zu.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function oh(t){this.mc="Not",this.condition=t}function ih(t,e,n){zu.call(this,"PropertyIsNotEqualTo",t,e,n)}function rh(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));Uu.apply(this,e)}function ah(t,e,n){$u.call(this,"Within",t,e,n)}function sh(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Yu,e))}function uh(t,e,n){return new Gu(t,e,n)}function hh(t){oo.call(this),this.a=t?t:null,ch(this)}function ph(t){var e,n,o=[];for(e=0,n=t.length;e<n;++e)o.push(t[e].clone());return o}function lh(t){var e,n;if(t.a)for(e=0,n=t.a.length;e<n;++e)ae(t.a[e],"change",t.s,t)}function ch(t){var e,n;if(t.a)for(e=0,n=t.a.length;e<n;++e)ie(t.a[e],"change",t.s,t)}function fh(t){t=t?t:{},vu.call(this),this.defaultDataProjection=Tt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Tt(t.featureProjection)),this.b=t.geometryName}function dh(t,e){return t?bu((0,im[t.type])(t),!1,e):null}function yh(t,e){return(0,rm[t.S()])(bu(t,!0,e),e)}function vh(){this.g=new XMLSerializer,vu.call(this)}function gh(t,e,n){return t=mh(t,e,n),0<t.length?t[0]:null}function mh(t,e,n){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&a(o,t.Bc(e,n));return o}function bh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:nu(bh.prototype.ae),featureMembers:nu(bh.prototype.ae)},vh.call(this)}function _h(t){return t=Vs(t,!1),xh(t)}function xh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function wh(t){return t=Vs(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Ph(t){return t=Vs(t,!1),Sh(t)}function Sh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Ch(t){return t=Vs(t,!1),Mh(t)}function Mh(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Th(t){return Vs(t,!1).trim()}function Ah(t,e){Ih(t,e?"1":"0")}function Eh(t,e){t.appendChild(tm.createTextNode(e.toPrecision()))}function Lh(t,e){t.appendChild(tm.createTextNode(e.toString()))}function Ih(t,e){t.appendChild(tm.createTextNode(e))}function Nh(t){t=t?t:{},bh.call(this,t),this.o=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Oh(t,e,n){n=n[n.length-1].srsName,e=e.W();for(var o,i=e.length,r=Array(i),a=0;a<i;++a){o=e[a];var s=a,u="enu";n&&(u=Tt(n).b),r[s]="en"===u.substr(0,2)?o[0]+" "+o[1]:o[1]+" "+o[0]}Ih(t,r.join(" "))}function kh(t){t=t?t:{},bh.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=eu(bh.prototype.ae),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Rh(t){return t=qs(t,"coordinates"),t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function Dh(t,e,n){n=n[n.length-1].srsName,e=e.W();for(var o,i=e.length,r=Array(i),a=0;a<i;++a)o=e[a],r[a]=Fh(o,n);Ih(t,r.join(" "))}function Fh(t,e){var n="enu";return e&&(n=Tt(e).b),"en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0]}function jh(t){t=t?t:{},vh.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.readExtensions}function Kh(t,e,n,o){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),delete o.time,e.hasM=!0):t.push(0),t}function Bh(t,e,n){var o="XY",i=2;if(t.hasZ&&t.hasM?(o="XYZM",i=4):t.hasZ?(o="XYZ",i=3):t.hasM&&(o="XYM",i=3),4!==i){var r,a;for(r=0,a=e.length/4;r<a;r++)e[r*i]=e[4*r],e[r*i+1]=e[4*r+1],t.hasZ&&(e[r*i+2]=e[4*r+2]),t.hasM&&(e[r*i+2]=e[4*r+3]);if(e.length=e.length/4*i,n)for(r=0,a=n.length;r<a;r++)n[r]=n[r]/4*i}return o}function Xh(t,e){var n=e[e.length-1],o=t.getAttribute("href");null!==o&&(n.link=o),pu(Sm,t,e)}function Uh(t,e){e[e.length-1].extensionsNode_=t}function Yh(t,e){var n=e[0],o=lu({flatCoordinates:[],layoutOptions:{}},Cm,t,e);if(o){var i=o.flatCoordinates;delete o.flatCoordinates;var r=o.layoutOptions;delete o.layoutOptions;var r=Bh(r,i),a=new Cu(null);return a.ca(r,i),bu(a,!1,n),n=new zs(a),n.H(o),n}}function Gh(t,e){var n=e[0],o=lu({flatCoordinates:[],ends:[],layoutOptions:{}},Tm,t,e);if(o){var i=o.flatCoordinates;delete o.flatCoordinates;var r=o.ends;delete o.ends;var a=o.layoutOptions;delete o.layoutOptions;var a=Bh(a,i,r),s=new Tu(null);return s.ca(a,i,r),bu(s,!1,n),n=new zs(s),n.H(o),n}}function Wh(t,e){var n=e[0],o=lu({},Lm,t,e);if(o){var i={},r=Kh([],i,t,o),i=Bh(i,r),r=new To(r,i);return bu(r,!1,n),n=new zs(r),n.H(o),n}}function zh(t,e){e||(e=[]);for(var n=0,o=e.length;n<o;++n){var i=e[n];if(t.b){var r=i.get("extensionsNode_")||null;t.b(i,r)}i.set("extensionsNode_",void 0)}}function Hh(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,fu({node:t},Nm,em,[e.linkText,e.linkType],n,Im)}function qh(t,e,n){var o=n[n.length-1],i=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":e[3]&&(r.time=e[3]);case"XYZ":e[2]&&(r.ele=e[2]);break;case"XYM":e[2]&&(r.time=e[2])}e="rtept"==t.nodeName?Rm[i]:Bm[i],o=uu(r,e),fu({node:t,properties:r},Xm,em,o,n,e)}function Vh(t,e){var n=t.U();if(n&&(n=Um[n.S()]))return qs(e[e.length-1].node.namespaceURI,n)}function $h(){vu.call(this)}function Zh(t){return"string"==typeof t?t:""}function Jh(t){t=t?t:{},vu.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}function Qh(t,e,n,o,i,r){fe.call(this),this.j=null,this.N=t?t:new Image,null!==o&&(this.N.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.f=r,this.i=null,this.g=i,this.a=n,this.l=e,this.o=!1,2==this.g&&tp(this)}function tp(t){var e=Ee(1,1);try{e.drawImage(t.N,0,0),e.getImageData(0,0,1,1)}catch(e){t.o=!0}}function ep(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.v=null,this.a=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.G=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.ta=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,o=t.src;v(!(void 0!==o&&e),4),v(!e||e&&n,5),void 0!==o&&o.length||!e||(o=e.src||d(e).toString()),v(void 0!==o&&0<o.length,6);var i=void 0!==t.src?0:2;this.i=void 0!==t.color?Se(t.color):null;var r=this.ta,a=this.i,s=ag.get(o,r,a);s||(s=new Qh(e,o,n,r,i,a),ag.set(o,r,a,s)),this.b=s,this.qa=void 0!==t.offset?t.offset:[0,0],this.g=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.O=null,this.A=void 0!==t.size?t.size:null,Ds.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function np(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.Fa=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Wa=void 0!==t.fill?t.fill:new Bs({color:"#333"}),this.Za=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function op(t){t=t?t:{},vh.call(this),qm||(Vm=[255,255,255,1],$m=new Bs({color:Vm}),Zm=[20,2],Qm=Jm="pixels",tb=[64,64],eb="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",nb=.5,ob=new ep({anchor:Zm,anchorOrigin:"bottom-left",
anchorXUnits:Jm,anchorYUnits:Qm,crossOrigin:"anonymous",rotation:0,scale:nb,size:tb,src:eb}),ib="NO_IMAGE",rb=new Ta({color:Vm,width:1}),ab=new Ta({color:[51,51,51,1],width:2}),sb=new np({font:"bold 16px Helvetica",fill:$m,stroke:ab,scale:.8}),ub=new Xs({fill:$m,image:ob,text:sb,stroke:rb,zIndex:0}),qm=[ub]),this.defaultDataProjection=Tt("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:qm,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}function ip(t,e){var n,o=[0,0],i="start";if(t.Y()&&(n=t.Y().ye(),null===n&&(n=tb),2==n.length&&(i=t.Y().c,o[0]=i*n[0]/2,o[1]=-i*n[1]/2,i="left")),null!==t.Oa()){var r=t.Oa();n=r.clone(),n.ij(r.a||sb.a),n.Mi(r.b||sb.b),n.mf(r.Ca()||sb.Ca()),n.nf(r.Da()||ab)}else n=sb.clone();return n.pf(e),n.oj(o[0]),n.pj(o[1]),n.rj(i),new Xs({text:n})}function rp(t,e,n,o,i){return function(){var r=i,a="";if(r&&this.U()&&(r="Point"===this.U().S()),r&&(a=this.get("name"),r=r&&a),t)return r?(r=ip(t[0],a),t.concat(r)):t;if(e){var s=ap(e,n,o);return r?(r=ip(s[0],a),s.concat(r)):s}return r?(r=ip(n[0],a),n.concat(r)):n}}function ap(t,e,n){return Array.isArray(t)?t:"string"==typeof t?(!(t in n)&&"#"+t in n&&(t="#"+t),ap(n[t],e,n)):e}function sp(t){if(t=Vs(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function up(t){t=Vs(t,!1);for(var e,n=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return n}function hp(t){var e=Vs(t,!1).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function pp(t){return Ph(t)}function lp(t,e){return lu(null,mb,t,e)}function cp(t,e){var n=lu({B:[],Aj:[]},_b,t,e);if(n){var o,i,r=n.B,n=n.Aj;for(o=0,i=Math.min(r.length,n.length);o<i;++o)r[4*o+3]=n[o];return n=new Cu(null),n.ca("XYZM",r),n}}function fp(t,e){var n=lu({},gb,t,e),o=lu(null,xb,t,e);if(o){var i=new Cu(null);return i.ca("XYZ",o),i.H(n),i}}function dp(t,e){var n=lu({},gb,t,e),o=lu(null,xb,t,e);if(o){var i=new Ko(null);return i.ca("XYZ",o,[o.length]),i.H(n),i}}function yp(t,e){var n=lu([],Tb,t,e);if(!n)return null;if(!n.length)return new hh(n);var o,i,r,s,u=!0,h=n[0].S();for(r=1,s=n.length;r<s;++r)if(i=n[r],i.S()!=h){u=!1;break}if(u)if("Point"==h){for(o=n[0],u=o.la,h=o.ia(),r=1,s=n.length;r<s;++r)i=n[r],a(h,i.ia());o=new Lu(null),o.ca(u,h),bp(o,n)}else"LineString"==h?(o=new Tu(null),Eu(o,n),bp(o,n)):"Polygon"==h?(o=new Iu(null),Ru(o,n),bp(o,n)):"GeometryCollection"==h?o=new hh(n):v(!1,37);else o=new hh(n);return o}function vp(t,e){var n=lu({},gb,t,e),o=lu(null,xb,t,e);if(o){var i=new To(null);return i.ca("XYZ",o),i.H(n),i}}function gp(t,e){var n=lu({},gb,t,e),o=lu([null],bb,t,e);if(o&&o[0]){var i,r,s=new Ko(null),u=o[0],h=[u.length];for(i=1,r=o.length;i<r;++i)a(u,o[i]),h.push(u.length);return s.ca("XYZ",u,h),s.H(n),s}}function mp(t,e){var n=lu({},Db,t,e);if(!n)return null;var o="fillStyle"in n?n.fillStyle:$m,i=n.fill;void 0===i||i||(o=null),i="imageStyle"in n?n.imageStyle:ob,i==ib&&(i=void 0);var r="textStyle"in n?n.textStyle:sb,a="strokeStyle"in n?n.strokeStyle:rb,n=n.outline;return void 0===n||n||(a=null),[new Xs({fill:o,image:i,stroke:a,text:r,zIndex:void 0})]}function bp(t,e){var n,o,i,r,a=e.length,s=Array(e.length),u=Array(e.length);for(i=r=!1,o=0;o<a;++o)n=e[o],s[o]=n.get("extrude"),u[o]=n.get("altitudeMode"),i=i||void 0!==s[o],r=r||u[o];i&&t.set("extrude",s),r&&t.set("altitudeMode",u)}function _p(t,e){pu(fb,t,e)}function xp(t,e){pu(db,t,e)}function wp(t,e){var n;for(n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){var o=Pp(t,n);if(o)return o}}function Pp(t,e){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling)if(i(pb,n.namespaceURI)&&"name"==n.localName)return Th(n);for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;if(i(pb,n.namespaceURI)&&("Document"==o||"Folder"==o||"Placemark"==o||"kml"==o)&&(o=Pp(t,n)))return o}}function Sp(t,e){var n,o=[];for(n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&a(o,Cp(t,n));return o}function Cp(t,e){var n,o=[];for(n=e.firstElementChild;n;n=n.nextElementSibling)if(i(pb,n.namespaceURI)&&"NetworkLink"==n.localName){var r=lu({},Eb,n,[]);o.push(r)}for(n=e.firstElementChild;n;n=n.nextElementSibling)r=n.localName,!i(pb,n.namespaceURI)||"Document"!=r&&"Folder"!=r&&"kml"!=r||a(o,Cp(t,n));return o}function Mp(t,e){var n,o=[];for(n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&a(o,t.jf(n));return o}function Tp(t,e){var n,o=Se(e),o=[255*(4==o.length?o[3]:1),o[2],o[1],o[0]];for(n=0;4>n;++n){var i=parseInt(o[n],10).toString(16);o[n]=1==i.length?"0"+i:i}Ih(t,o.join(""))}function Ap(t,e,n){t={node:t};var o,i,r=e.S();"GeometryCollection"==r?(o=e.Qf(),i=Dp):"MultiPoint"==r?(o=e.Zd(),i=l_):"MultiLineString"==r?(o=e.Nc(),i=c_):"MultiPolygon"==r?(o=e.md(),i=d_):v(!1,39),fu(t,Jb,i,o,n)}function Ep(t,e,n){fu({node:t},Zb,f_,[e],n)}function Lp(t,e,n){var o={node:t};e.a&&t.setAttribute("id",e.a),t=e.M();var i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.c]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!i[t]});if(0<r.length){var a=uu(t,r);fu(o,t_,h_,[{names:r,values:a}],n)}(r=e.Rc())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Oa())&&(t.name=r.Oa())),r=Qb[n[n.length-1].node.namespaceURI],t=uu(t,r),fu(o,t_,em,t,n,r),t=n[0],(e=e.U())&&(e=bu(e,!0,t)),fu(o,t_,Dp,[e],n)}function Ip(t,e,n){var o=e.ia();t={node:t},t.layout=e.la,t.stride=e.sa(),fu(t,e_,s_,[o],n)}function Np(t,e,n){e=e.Oc();var o=e.shift();t={node:t},fu(t,n_,p_,e,n),fu(t,n_,y_,[o],n)}function Op(t,e){Eh(t,Math.round(1e6*e)/1e6)}function kp(t,e,n){return qs(hb[0],"gx:"+n)}function Rp(t,e){return qs(e[e.length-1].node.namespaceURI,"Placemark")}function Dp(t,e){if(t)return qs(e[e.length-1].node.namespaceURI,Ub[t.S()])}function Fp(t,e,n,o){this.g=t,this.b=e,this.i=n,this.c=o}function jp(t){vu.call(this),t=t?t:{},this.defaultDataProjection=new ct({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Fp,this.g=t.geometryName,this.a=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null}function Kp(t,e,n){for(var o=0,i=0,r=t.length;i<r;++i){var a,s,u=t[i];for(a=0,s=u.length;a<s;++a){var h=u[a];e.push(h.x,h.y)}o+=2*a,n.push(o)}}function Bp(){vh.call(this),this.defaultDataProjection=Tt("EPSG:4326")}function Xp(t,e){e[e.length-1].ee[t.getAttribute("k")]=t.getAttribute("v")}function Up(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Yp(){}function Gp(){}function Wp(t,e,n,o){var i;i=void 0!==o?o:[];for(var r=o=0;r<e;){var a=t[r++];for(i[o++]=t[r++],i[o++]=a,a=2;a<n;++a)i[o++]=t[r++]}i.length=o}function zp(t){t=t?t:{},vu.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function Hp(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;var r,a;for(r=0,a=t.length;r<a;)for(o=0;o<e;++o,++r){var s=t[r],u=s-i[o];i[o]=s,t[r]=u}return Vp(t,n?n:1e5)}function qp(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;t=$p(t,n?n:1e5);var r;for(n=0,r=t.length;n<r;)for(o=0;o<e;++o,++n)i[o]+=t[n],t[n]=i[o];return t}function Vp(t,e){var n,o,i=e?e:1e5;for(n=0,o=t.length;n<o;++n)t[n]=Math.round(t[n]*i);for(i=0,n=t.length;i<n;++i)o=t[i],t[i]=0>o?~(o<<1):o<<1;for(i="",n=0,o=t.length;n<o;++n){for(var r,a=t[n],s="";32<=a;)r=(32|31&a)+63,s+=String.fromCharCode(r),a>>=5;s+=String.fromCharCode(a+63),i+=s}return i}function $p(t,e){var n,o,i=e?e:1e5,r=[],a=0,s=0;for(n=0,o=t.length;n<o;++n){var u=t.charCodeAt(n)-63,a=a|(31&u)<<s;32>u?(r.push(a),s=a=0):s+=5}for(a=0,s=r.length;a<s;++a)n=r[a],r[a]=1&n?~(n>>1):n>>1;for(a=0,s=r.length;a<s;++a)r[a]/=i;return r}function Zp(t){t=t?t:{},vu.call(this),this.defaultDataProjection=Tt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function Jp(t,e){var n,o,i,r,a=[];for(i=0,r=t.length;i<r;++i)n=t[i],0<i&&a.pop(),o=0<=n?e[n]:e[~n].slice().reverse(),a.push.apply(a,o);for(n=0,o=a.length;n<o;++n)a[n]=a[n].slice();return a}function Qp(t,e,n,o,i){t=t.geometries;var r,a,s=[];for(r=0,a=t.length;r<a;++r)s[r]=tl(t[r],e,n,o,i);return s}function tl(t,e,n,o,i){var r=t.type,a=R_[r];return e="Point"===r||"MultiPoint"===r?a(t,n,o):a(t,e),n=new zs,n.Ta(bu(e,!1,i)),void 0!==t.id&&n.lc(t.id),t.properties&&n.H(t.properties),n}function el(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}function nl(t){t=t?t:{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Nh,this.l=t.schemaLocation?t.schemaLocation:D_["1.1.0"],vh.call(this)}function ol(t,e){for(var n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return il(t,n)}function il(t,e){var n={},o=Mh(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=o,lu(n,F_,e,[],t.b)}function rl(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return lu({},X_,t,[])}function al(t,e){var n=qs("http://www.opengis.net/ogc","Filter"),o=qs("http://www.opengis.net/ogc","FeatureId");n.appendChild(o),o.setAttribute("fid",e),t.appendChild(n)}function sl(t,e,n){var o={node:t};e.b.forEach(function(t){fu(o,G_,su(t.mc),[t],n)})}function ul(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),pl(t,e.b),ll(t,""+e.g)}function hl(t,e,n){t=qs("http://www.opengis.net/ogc",t),Ih(t,n),e.appendChild(t)}function pl(t,e){hl("PropertyName",t,e)}function ll(t,e){hl("Literal",t,e)}function cl(t){t=t?t:{},vu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function fl(t){return t=t.W(),t.length?t.join(" "):""}function dl(t){t=t.W();for(var e=[],n=0,o=t.length;n<o;++n)e.push(t[n].join(" "));return e.join(",")}function yl(t){var e=[];t=t.Oc();for(var n=0,o=t.length;n<o;++n)e.push("("+dl(t[n])+")");return e.join(",")}function vl(t){var e=t.S(),n=(0,W_[e])(t),e=e.toUpperCase();if(t instanceof ao){t=t.la;var o="";"XYZ"!==t&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),t=o,0<t.length&&(e+=" "+t)}return n.length?e+"("+n+")":e+" EMPTY"}function gl(t){this.a=t,this.b=-1}function ml(t){var e=t.a.charAt(++t.b),n={position:t.b,value:e};if("("==e)n.type=2;else if(","==e)n.type=5;else if(")"==e)n.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){n.type=4;var o,e=t.b,i=!1,r=!1;do"."==o?i=!0:"e"!=o&&"E"!=o||(r=!0),o=t.a.charAt(++t.b);while("0"<=o&&"9">=o||"."==o&&(void 0===i||!i)||!r&&("e"==o||"E"==o)||r&&("-"==o||"+"==o));t=parseFloat(t.a.substring(e,t.b--)),n.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){n.type=1,e=t.b;do o=t.a.charAt(++t.b);while("a"<=o&&"z">=o||"A"<=o&&"Z">=o);t=t.a.substring(e,t.b--).toUpperCase(),n.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return ml(t);if(""!==e)throw Error("Unexpected character: "+e);n.type=6}return n}function bl(t){this.g=t,this.a="XY"}function _l(t){t.b=ml(t.g)}function xl(t,e){var n=t.b.type==e;return n&&_l(t),n}function wl(t){var e=t.b;if(xl(t,1)){var e=e.value,n="XY",o=t.b;if(1==t.b.type&&(o=o.value,"Z"===o?n="XYZ":"M"===o?n="XYM":"ZM"===o&&(n="XYZM"),"XY"!==n&&_l(t)),t.a=n,"GEOMETRYCOLLECTION"==e){t:{if(xl(t,2)){e=[];do e.push(wl(t));while(xl(t,5));if(xl(t,3)){t=e;break t}}else if(Ml(t)){t=[];break t}throw Error(Tl(t))}return new hh(t)}if(o=H_[e],n=z_[e],!o||!n)throw Error("Invalid geometry type: "+e);return e=o.call(t),new n(e,t.a)}throw Error(Tl(t))}function Pl(t){for(var e=[],n=t.a.length,o=0;o<n;++o){var i=t.b;if(!xl(t,4))break;e.push(i.value)}if(e.length==n)return e;throw Error(Tl(t))}function Sl(t){for(var e=[Pl(t)];xl(t,5);)e.push(Pl(t));return e}function Cl(t){for(var e=[t.mg()];xl(t,5);)e.push(t.mg());return e}function Ml(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&_l(t),e}function Tl(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}function Al(){this.version=void 0}function El(t,e){return lu({},px,t,e)}function Ll(t,e){return lu({},ax,t,e)}function Il(t,e){var n=El(t,e);if(n){var o=[Mh(t.getAttribute("width")),Mh(t.getAttribute("height"))];return n.size=o,n}}function Nl(t,e){return lu([],lx,t,e)}function Ol(t){t=t?t:{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new kh,this.c=t.layers?t.layers:null,vh.call(this)}function kl(){this.g=new Gp}function Rl(t){var e=Th(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function Dl(t){ve.call(this),t=t||{},this.a=null,this.i=It,this.c=void 0,ie(this,ge("projection"),this.wm,this),ie(this,ge("tracking"),this.xm,this),void 0!==t.projection&&this.Ph(Tt(t.projection)),void 0!==t.trackingOptions&&this.sj(t.trackingOptions),this.Je(void 0!==t.tracking&&t.tracking)}function Fl(t,e,n){ao.call(this),this.Gg(t,e?e:0,n)}function jl(t){var e=t.B[t.a]-t.B[0];return t=t.B[t.a+1]-t.B[1],e*e+t*t}function Kl(t,e,n){for(var o,i,r,a,s,u=[],h=t(0),p=t(1),l=e(h),c=e(p),f=[p,h],d=[c,l],y=[1,0],v={},g=1e5;0<--g&&0<y.length;)r=y.pop(),h=f.pop(),l=d.pop(),p=r.toString(),p in v||(u.push(l[0],l[1]),v[p]=!0),a=y.pop(),p=f.pop(),c=d.pop(),s=(r+a)/2,o=t(s),i=e(o),P(i[0],i[1],l[0],l[1],c[0],c[1])<n?(u.push(c[0],c[1]),p=a.toString(),v[p]=!0):(y.push(a,s,s,r),d.push(c,i,i,l),f.push(p,o,o,h));return u}function Bl(t,e,n,o,i){var r=Tt("EPSG:4326");return Kl(function(o){return[t,e+(n-e)*o]},Et(r,o),i)}function Xl(t,e,n,o,i){var r=Tt("EPSG:4326");return Kl(function(o){return[e+(n-e)*o,t]},Et(r,o),i)}function Ul(t){t=t||{},this.i=this.l=null,this.g=this.f=1/0,this.c=this.j=-(1/0),this.A=this.O=1/0,this.G=this.C=-(1/0),this.I=void 0!==t.targetSize?t.targetSize:100,this.qa=void 0!==t.maxLines?t.maxLines:100,this.b=[],this.a=[],this.ta=void 0!==t.strokeStyle?t.strokeStyle:Cx,this.v=this.o=void 0,this.u=null,this.setMap(void 0!==t.map?t.map:null)}function Yl(t,e,n,o,i,r,a){var s=a;return e=Bl(e,n,o,t.i,i),s=void 0!==t.b[s]?t.b[s]:new Cu(null),s.ca("XY",e),it(s.D(),r)&&(t.b[a++]=s),a}function Gl(t,e,n,o,i){var r=i;return e=Xl(e,t.c,t.g,t.i,n),r=void 0!==t.a[r]?t.a[r]:new Cu(null),r.ca("XY",e),it(r.D(),o)&&(t.a[i++]=r),i}function Wl(t,e,n,o,i){fe.call(this),this.i=i,this.extent=t,this.a=n,this.resolution=e,this.state=o}function zl(t,e,n,o,i,r,a){Wl.call(this,t,e,n,0,o),this.j=i,this.N=new Image,null!==r&&(this.N.crossOrigin=r),this.c={},this.g=null,this.state=0,this.f=a}function Hl(t,e,n,o,i,r){this.c=r?r:null,Wl.call(this,t,e,n,r?0:2,o),this.g=i}function ql(t,e){fe.call(this),this.Ga=t,this.state=e,this.a=null,this.key=""}function Vl(t){if(!t.a)return t;var e=t.a;do{if(2==e.V())return e;e=e.a}while(e);return t}function $l(t,e,n,o,i){ql.call(this,t,e),this.f=n,this.N=new Image,null!==o&&(this.N.crossOrigin=o),this.c=null,this.l=i}function Zl(t){t.c.forEach(se),t.c=null}function Jl(t){t=t?t:{},ri.call(this,{handleEvent:eo}),this.f=t.formatConstructors?t.formatConstructors:[],this.l=t.projection?Tt(t.projection):null,this.a=null,this.target=t.target?t.target:null}function Ql(t){t=t.dataTransfer.files;var e,n,o;for(e=0,n=t.length;e<n;++e){o=t.item(e);var i=new FileReader;i.addEventListener("load",this.j.bind(this,o)),i.readAsText(o)}}function tc(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function ec(t,e,n,o){le.call(this,t),this.features=n,this.file=e,this.projection=o}function nc(t){t=t?t:{},_i.call(this,{handleDownEvent:rc,handleDragEvent:oc,handleUpEvent:ic}),this.o=t.condition?t.condition:vi,this.a=this.f=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function oc(t){if(mi(t)){var e=t.map,n=e.Nb(),o=t.pixel;t=o[0]-n[0]/2,o=n[1]/2-o[1],n=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),e=e.$(),void 0!==this.f&&(o=n-this.f,ai(e,e.Sa()-o)),this.f=n,void 0!==this.a&&(n=this.a*(e.Ra()/t),ui(e,n)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function ic(t){if(!mi(t))return!0;t=t.map.$(),ni(t,1,-1);var e=this.j-1,n=t.Sa(),n=t.constrainRotation(n,0);ai(t,n,void 0,void 0);var n=t.Ra(),o=this.u,n=t.constrainResolution(n,0,e);return ui(t,n,void 0,o),this.j=0,!1}function rc(t){return!(!mi(t)||!this.o(t))&&(ni(t.map.$(),1,1),this.a=this.f=void 0,!0)}function ac(t,e,n,o){this.na=t,this.T=e,this.overlaps=o,this.c=0,this.resolution=n,this.I=this.ta=null,this.a=[],this.coordinates=[],this.ea=ur(),this.b=[],this.qa=null,this.mb=ur(),this.fa=ur()}function sc(t,e,n,o,i,r,a){var s=t.coordinates.length,u=t.Nf();a&&(n+=i),a=[e[n],e[n+1]];var h,p,l,c=[NaN,NaN],f=!0;for(h=n+i;h<o;h+=i)c[0]=e[h],c[1]=e[h+1],l=j(u,c),l!==p?(f&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=c[0],t.coordinates[s++]=c[1],f=!1):1===l?(t.coordinates[s++]=c[0],t.coordinates[s++]=c[1],f=!1):f=!0,a[0]=c[0],a[1]=c[1],p=l;return(r&&f||h===n+i)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function uc(t,e){t.ta=[0,e,0],t.a.push(t.ta),t.I=[0,e,0],t.b.push(t.I)}function hc(t,e,n,o,i,r,a,s,h){var p;t.qa&&u(o,t.ea)?p=t.qa:(t.qa||(t.qa=[]),p=io(t.coordinates,0,t.coordinates.length,2,o,t.qa),cr(t.ea,o)),o=!pt(r);for(var l,c,f,y,v,g=0,m=a.length,b=0,_=t.mb,x=t.fa,w=0,P=0,S=t.a!=a||t.overlaps?0:200;g<m;){var C,M,T,A,E=a[g];switch(E[0]){case 0:b=E[1],o&&r[d(b).toString()]||!b.U()?g=E[2]:void 0===h||it(h,b.U().D())?++g:g=E[2]+1;break;case 1:w>S&&(t.Wa(e,i),w=0),P>S&&(e.stroke(),P=0),w||P||(e.beginPath(),c=f=NaN),++g;break;case 2:b=E[1],l=p[b],E=p[b+1],y=p[b+2]-l,b=p[b+3]-E,b=Math.sqrt(y*y+b*b),e.moveTo(l+b,E),e.arc(l,E,b,0,2*Math.PI,!0),++g;break;case 3:e.closePath(),++g;break;case 4:b=E[1],l=E[2],C=E[3],M=E[4]*n,T=E[5]*n;var L=E[6],I=E[7],N=E[8],O=E[9];A=E[10],y=E[11],v=E[12];var k=E[13],R=E[14];for(A&&(y+=i);b<l;b+=2){if(E=p[b]-M,A=p[b+1]-T,k&&(E=Math.round(E),A=Math.round(A)),1!=v||y){var D=E+M,F=A+T;gr(_,D,F,v,v,y,-D,-F),e.setTransform.apply(e,_)}D=e.globalAlpha,1!=I&&(e.globalAlpha=D*I);var F=R+N>C.width?C.width-N:R,j=L+O>C.height?C.height-O:L;e.drawImage(C,N,O,F,j,E,A,F*n,j*n),1!=I&&(e.globalAlpha=D),(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 5:for(b=E[1],l=E[2],T=E[3],L=E[4]*n,I=E[5]*n,y=E[6],v=E[7]*n,C=E[8],M=E[9],(A=E[10])&&(y+=i);b<l;b+=2){for(E=p[b]+L,A=p[b+1]+I,(1!=v||y)&&(gr(_,E,A,v,v,y,-E,-A),e.setTransform.apply(e,_)),N=T.split("\n"),O=N.length,1<O?(k=Math.round(1.5*e.measureText("M").width),A-=(O-1)/2*k):k=0,R=0;R<O;R++)D=N[R],M&&e.strokeText(D,E,A),C&&e.fillText(D,E,A),A+=k;(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 6:if(s&&(b=E[1],b=s(b)))return b;++g;break;case 7:S?w++:t.Wa(e,i),++g;break;case 8:for(b=E[1],l=E[2],E=p[b],A=p[b+1],y=E+.5|0,v=A+.5|0,y===c&&v===f||(e.moveTo(E,A),c=y,f=v),b+=2;b<l;b+=2)E=p[b],A=p[b+1],y=E+.5|0,v=A+.5|0,(b==l-2||y!==c||v!==f)&&(e.lineTo(E,A),c=y,f=v);++g;break;case 9:t.$a=E[2],w&&(t.Wa(e,i),w=0,P&&(e.stroke(),P=0)),e.fillStyle=E[1],++g;break;case 10:var b=void 0===E[8]||E[8],K=E[9];l=E[2],P&&(e.stroke(),P=0),e.strokeStyle=E[1],e.lineWidth=b?l*n:l,e.lineCap=E[3],e.lineJoin=E[4],e.miterLimit=E[5],Uv&&(l=E[6],y=E[7],b&&n!==K&&(l=l.map(function(t){return t*n/K}),y*=n/K,E[6]=l,E[7]=y,E[9]=n),e.lineDashOffset=y,e.setLineDash(l)),++g;break;case 11:e.font=E[1],e.textAlign=E[2],e.textBaseline=E[3],++g;break;case 12:S?P++:e.stroke(),++g;break;default:++g}}w&&t.Wa(e,i),P&&e.stroke()}function pc(t){var e=t.b;e.reverse();var n,o,i,r=e.length,a=-1;for(n=0;n<r;++n)if(o=e[n],i=o[0],6==i)a=n;else if(0==i){for(o[2]=n,o=t.b,i=n;a<i;){var s=o[a];o[a]=o[i],o[i]=s,++a,--i}a=-1}}function lc(t,e){t.ta[2]=t.a.length,t.ta=null,t.I[2]=t.b.length,t.I=null;var n=[6,e];t.a.push(n),t.b.push(n)}function cc(t,e,n,o){ac.call(this,t,e,n,o),this.N=this.Z=null,this.G=this.C=this.A=this.O=this.v=this.u=this.o=this.l=this.j=this.f=this.g=void 0}function fc(t,e,n,o){ac.call(this,t,e,n,o),this.f=null,this.g={Nd:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,Md:void 0,$f:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function dc(t,e,n,o,i){var r=t.coordinates.length;return e=sc(t,e,n,o,i,!1,!1),r=[8,r,e],t.a.push(r),t.b.push(r),o}function yc(t){var e=t.g,n=e.strokeStyle,o=e.lineCap,i=e.lineDash,r=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,h=e.miterLimit;e.Nd==n&&e.Hd==o&&u(e.Id,i)&&e.Jd==r&&e.Kd==a&&e.Ld==s&&e.Md==h||(e.$f!=t.coordinates.length&&(t.a.push([12]),e.$f=t.coordinates.length),t.a.push([10,n,s,o,a,h,i,r,!0,1],[1]),e.Nd=n,e.Hd=o,e.Id=i,e.Jd=r,e.Kd=a,e.Ld=s,e.Md=h)}function vc(t,e,n,o){ac.call(this,t,e,n,o),this.f=null,this.g={gh:void 0,Nd:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,Md:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function gc(t,e,n,o,i){var r=t.g,a=void 0!==r.fillStyle,r=void 0!=r.strokeStyle,s=o.length,u=[1];for(t.a.push(u),t.b.push(u),u=0;u<s;++u){var h=o[u],p=t.coordinates.length;n=sc(t,e,n,h,i,!0,!r),n=[8,p,n],t.a.push(n),t.b.push(n),r&&(n=[3],t.a.push(n),t.b.push(n)),n=h}return e=[7],t.b.push(e),a&&t.a.push(e),r&&(a=[12],t.a.push(a),t.b.push(a)),n}function mc(t,e){var n=t.g,o=n.fillStyle,i=n.strokeStyle,r=n.lineCap,a=n.lineDash,s=n.lineDashOffset,h=n.lineJoin,p=n.lineWidth,l=n.miterLimit;if(void 0!==o&&("string"!=typeof o||n.gh!=o)){var c=[9,o];"string"!=typeof o&&(o=e.D(),c.push([o[0],o[3]])),t.a.push(c),n.gh=n.fillStyle}void 0===i||n.Nd==i&&n.Hd==r&&u(n.Id,a)&&n.Jd==s&&n.Kd==h&&n.Ld==p&&n.Md==l||(t.a.push([10,i,p,r,h,l,a,s,!0,1]),n.Nd=i,n.Hd=r,n.Id=a,n.Jd=s,n.Kd=h,n.Ld=p,n.Md=l)}function bc(t,e,n,o){ac.call(this,t,e,n,o),this.G=this.C=this.A=null,this.Fa="",this.o=this.l=0,this.u=void 0,this.O=this.v=0,this.j=this.f=this.g=null}function _c(t,e,n,o,i){this.v=t,this.c=e,this.o=o,this.u=n,this.f=i,this.a={},this.j=Ee(1,1),this.l=ur()}function xc(t,e,n){var o,i=Math.floor(t.length/2);if(e>=i)for(o=i;o<e;o++)t[o][n]=!0;else if(e<i)for(o=e+1;o<i;o++)t[o][n]=!0}function wc(t){if(void 0!==Ax[t])return Ax[t];for(var e=2*t+1,n=Array(e),o=0;o<e;o++)n[o]=Array(e);for(var e=t,i=o=0;e>=o;)xc(n,t+e,t+o),xc(n,t+o,t+e),xc(n,t-o,t+e),xc(n,t-e,t+o),xc(n,t-e,t-o),xc(n,t-o,t-e),xc(n,t+o,t-e),xc(n,t+e,t-o),o++,i+=1+2*o,0<2*(i-e)+1&&(--e,i+=1-2*e);return Ax[t]=n}function Pc(t){for(var e in t.a){var n,o=t.a[e];for(n in o)o[n].Se()}}function Sc(t,e){var n=t.c,o=n[0],i=n[1],r=n[2],n=n[3],o=[o,i,o,n,r,n,r,i];return io(o,0,8,2,e,o),o}function Cc(t,e,n,o,i,r,a){var s=Object.keys(t.a).map(Number);s.sort(function(t,e){return e-t});var u,h,p,l,c;for(u=0,h=s.length;u<h;++u)for(l=t.a[s[u].toString()],p=lg.length-1;0<=p;--p)if(c=l[lg[p]],void 0!==c&&(c=hc(c,e,1,n,o,i,c.b,r,a)))return c}function Mc(t){ye.call(this),this.a=t}function Tc(t,e){var n=e.V();return 2!=n&&3!=n&&ie(e,"change",t.ea,t),0==n&&(e.load(),n=e.V()),2==n}function Ac(t){var e=t.a;e.Lb()&&"ready"==e.Vf()&&t.s()}function Ec(t,e){e.Ei()&&t.postRenderFunctions.push(function(t,e,n){e=d(t).toString(),t.ld(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function Lc(t,e){if(e){var n,o,i;for(o=0,i=e.length;o<i;++o)n=e[o],t[d(n).toString()]=n}}function Ic(t,e){var n=e.Z;void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(v("string"==typeof n.href,44),v("string"==typeof n.src,45),t.logos[n.src]=n.href))}function Nc(t,e,n,o){e=d(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],o.da<t.da&&(t.da=o.da),o.ba>t.ba&&(t.ba=o.ba),o.ga<t.ga&&(t.ga=o.ga),o.ja>t.ja&&(t.ja=o.ja)):t[e][n]=o:(t[e]={},t[e][n]=o)}function Oc(t,e,n,o,i,r,a,s,u,h){var p=d(e).toString();p in t.wantedTiles||(t.wantedTiles[p]={});var l=t.wantedTiles[p];t=t.tileQueue;var c,f,y,v,g,m,b=n.minZoom;for(m=a;m>=b;--m)for(f=Ut(n,r,m,f),y=n.La(m),v=f.da;v<=f.ba;++v)for(g=f.ga;g<=f.ja;++g)a-m<=s?(c=e.Pc(m,v,g,o,i),0==c.V()&&(l[c.hb()]=!0,c.hb()in t.a||t.i([c,p,Yt(n,c.Ga),y])),u&&u.call(h,c)):e.Mg(m,v,g,i)}function kc(t){Mc.call(this,t),this.fa=ur()}function Rc(t,e,n){var o=e.pixelRatio,i=e.size[0]*o,r=e.size[1]*o,a=e.viewState.rotation,s=et(n),u=nt(n),h=$(n);n=V(n),fr(e.coordinateToPixelTransform,s),fr(e.coordinateToPixelTransform,u),fr(e.coordinateToPixelTransform,h),fr(e.coordinateToPixelTransform,n),t.save(),Mr(t,-a,i/2,r/2),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(u[0]*o,u[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(n[0]*o,n[1]*o),t.clip(),Mr(t,a,i/2,r/2)}function Dc(t,e,n,o,i){var r=t.a;if(de(r,e)){var a=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,u=o.viewState.rotation;Mr(n,-u,a/2,s/2),t=i?i:Fc(t,o,0),r.b(new Cr(e,new Ar(n,o.pixelRatio,o.extent,t,o.viewState.rotation),o,n,null)),Mr(n,u,a/2,s/2)}}function Fc(t,e,n){var o=e.viewState,i=e.pixelRatio,r=i/o.resolution;return gr(t.fa,i*e.size[0]/2,i*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+n,-o.center[1])}function jc(t,e){return d(t)-d(e)}function Kc(t,e){var n=.5*t/e;return n*n}function Bc(t,e,n,o,i,r){var a,s,u=!1;return(a=n.Y())&&(s=a.Xe(),2==s||3==s?a.xj(i,r):(0==s&&a.load(),a.Gh(i,r),u=!0)),(i=(0,n.Qa)(e))&&(o=i.Td(o),(0,Lx[o.S()])(t,o,n,e)),u}function Xc(t){kc.call(this,t),this.c=!1,this.u=-1,this.o=NaN,this.j=K(),this.i=this.l=null,this.f=Ee()}function Uc(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Yc(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Gc(t,e){this.g=t.getUniformLocation(e,"f"),this.c=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Wc(t,e){Mc.call(this,e),this.c=t,this.T=new Vr([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Fb=null,this.j=void 0,this.u=ur(),this.O=ur(),this.C=Gr(),this.v=null}function zc(t,e,n){var o=t.c.g;if(void 0===t.j||t.j!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,o,t.f,t.Fb)),e=ua(o,n,n);var i=o.createFramebuffer();o.bindFramebuffer(36160,i),o.framebufferTexture2D(36160,36064,3553,e,0),t.Fb=e,t.f=i,t.j=n}else o.bindFramebuffer(36160,t.f)}function Hc(t,e,n,o){if(t=t.a,de(t,e)){var i=o.viewState;t.b(new Cr(e,new ps(n,i.center,i.resolution,i.rotation,o.size,o.extent,o.pixelRatio),o,null,n))}}function qc(t,e){Wc.call(this,t,e),this.o=!1,this.Z=-1,this.I=NaN,this.A=K(),this.l=this.i=this.G=null}function Vc(t){t=t?t:{};var e=hv({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,rr.call(this,e),this.c=void 0!==t.renderBuffer?t.renderBuffer:100,this.A=null,this.i=void 0,this.f(t.style),this.ea=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.fa=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function $c(){return[[-(1/0),-(1/0),1/0,1/0]]}function Zc(t){ve.call(this),this.c=Tt(t.projection),this.j=Jc(t.attributions),this.Z=t.logo,this.Ja=void 0!==t.state?t.state:"ready",this.G=void 0!==t.wrapX&&t.wrapX}function Jc(t){if("string"==typeof t)return[new $t({html:t})];if(t instanceof $t)return[t];if(Array.isArray(t)){for(var e=t.length,n=Array(e),o=0;o<e;o++){var i=t[o];n[o]="string"==typeof i?new $t({html:i}):i}return n}return null}function Qc(t,e){t.Ja=e,t.s()}function tf(t){t=t||{},Zc.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.ea=f,this.T=t.format,this.Ha=void 0==t.overlaps||t.overlaps,this.fa=t.url,t.loader?this.ea=t.loader:void 0!==this.fa&&(v(this.T,7),this.ea=yu(this.fa,this.T)),this.Va=t.strategy?t.strategy:$c;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=e?new Da:null,this.na=new Da,this.f={},this.l={},this.o={},this.u={},this.i=null;var n,o;t.features instanceof _e?(n=t.features,o=n.a):Array.isArray(t.features)&&(o=t.features),e||n||(n=new _e(o)),o&&of(this,o),n&&rf(this,n)}function ef(t,e,n){t.u[e]=[ie(n,"change",t.Ii,t),ie(n,"propertychange",t.Ii,t)]}function nf(t,e,n){var o=!0,i=n.a;return void 0!==i?i.toString()in t.l?o=!1:t.l[i.toString()]=n:(v(!(e in t.o),30),t.o[e]=n),o}function of(t,e){var n,o,i,r,a=[],s=[],u=[];for(o=0,i=e.length;o<i;o++)r=e[o],n=d(r).toString(),nf(t,n,r)&&s.push(r);for(o=0,i=s.length;o<i;o++){r=s[o],n=d(r).toString(),ef(t,n,r);var h=r.U();h?(n=h.D(),a.push(n),u.push(r)):t.f[n]=r}for(t.a&&t.a.load(a,u),o=0,i=s.length;o<i;o++)t.b(new uf("addfeature",s[o]))}function rf(t,e){var n=!1;ie(t,"addfeature",function(t){n||(n=!0,e.push(t.feature),n=!1)}),ie(t,"removefeature",function(t){n||(n=!0,e.remove(t.feature),n=!1)}),ie(e,"add",function(t){n||(n=!0,this.zb(t.element),n=!1)},t),ie(e,"remove",function(t){n||(n=!0,this.Db(t.element),n=!1)},t),t.i=e}function af(t,e,n){t.bc([e[0],e[1],e[0],e[1]],function(t){if(t.U().sb(e))return n.call(void 0,t)})}function sf(t,e){for(var n in t.l)if(t.l[n]===e){delete t.l[n];break}}function uf(t,e){le.call(this,t),this.feature=e}function hf(t){_i.call(this,{handleDownEvent:cf,handleEvent:lf,handleUpEvent:ff}),this.T=!1,this.fa=null,this.u=!1,this.Gb=t.source?t.source:null,this.Va=t.features?t.features:null,this.sk=t.snapTolerance?t.snapTolerance:12,this.Z=t.type,this.f=_f(this.Z),this.Ha=t.minPoints?t.minPoints:this.f===Dx?3:2,this.Ja=t.maxPoints?t.maxPoints:1/0,this.yf=t.finishCondition?t.finishCondition:eo;var e=t.geometryFunction;if(!e)if("Circle"===this.Z)e=function(t,e){var n=e?e:new Fl([NaN,NaN]);return n.Gg(t[0],Math.sqrt(Zn(t[0],t[1]))),n};else{var n,o=this.f;o===kx?n=To:o===Rx?n=Cu:o===Dx&&(n=Ko),e=function(t,e){var i=e;return i?o===Dx?i.pa([t[0].concat([t[0][0]])]):i.pa(t):i=new n(t),i}}this.Qa=e,this.I=this.C=this.a=this.G=this.j=this.o=null,this.le=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.na=new Vc({source:new tf({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:pf()}),this.yb=t.geometryName,this.rk=t.condition?t.condition:yi,this.zf=t.freehand?eo:t.freehandCondition?t.freehandCondition:vi,ie(this,ge("active"),this.ji,this)}function pf(){var t=Gs();return function(e){return t[e.U().S()]}}function lf(t){this.u=this.f!==kx&&this.zf(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(gf(this,t),e=!1):"pointermove"===t.type?e=df(this,t):"dblclick"===t.type&&(e=!1),wi.call(this,t)&&e}function cf(t){return this.T=!this.u,this.u?(this.fa=t.pixel,this.o||vf(this,t),!0):!!this.rk(t)&&(this.fa=t.pixel,!0)}function ff(t){var e=!0;df(this,t);var n=this.f===Fx;return this.T?(this.o?this.u||n?this.Qd():yf(this,t)?this.yf(t)&&this.Qd():gf(this,t):(vf(this,t),this.f===kx&&this.Qd()),e=!1):this.u&&(this.o=null,mf(this)),e}function df(t,e){if(t.fa&&(!t.u&&t.T||t.u&&!t.T)){var n=t.fa,o=e.pixel,i=n[0]-o[0],n=n[1]-o[1],i=i*i+n*n;t.T=t.u?i>t.le:i<=t.le}return t.o?(i=e.coordinate,n=t.j.U(),t.f===kx?o=t.a:t.f===Dx?(o=t.a[0],o=o[o.length-1],yf(t,e)&&(i=t.o.slice())):(o=t.a,o=o[o.length-1]),o[0]=i[0],o[1]=i[1],t.Qa(t.a,n),t.G&&t.G.U().pa(i),n instanceof Ko&&t.f!==Dx?(t.C||(t.C=new zs(new Cu(null))),n=n.vh(0),i=t.C.U(),i.ca(n.la,n.ia())):t.I&&(i=t.C.U(),i.pa(t.I)),bf(t)):(i=e.coordinate.slice(),t.G?t.G.U().pa(i):(t.G=new zs(new To(i)),bf(t))),!0}function yf(t,e){var n=!1;if(t.j){var o=!1,i=[t.o];if(t.f===Rx?o=t.a.length>t.Ha:t.f===Dx&&(o=t.a[0].length>t.Ha,i=[t.a[0][0],t.a[0][t.a[0].length-2]]),o)for(var o=e.map,r=0,a=i.length;r<a;r++){var s=i[r],u=o.Ka(s),h=e.pixel,n=h[0]-u[0],u=h[1]-u[1];if(n=Math.sqrt(n*n+u*u)<=(t.u?1:t.sk)){t.o=s;break}}}return n}function vf(t,e){var n=e.coordinate;t.o=n,t.f===kx?t.a=n.slice():t.f===Dx?(t.a=[[n.slice(),n.slice()]],t.I=t.a[0]):(t.a=[n.slice(),n.slice()],t.f===Fx&&(t.I=t.a)),t.I&&(t.C=new zs(new Cu(t.I))),n=t.Qa(t.a),t.j=new zs,t.yb&&t.j.Yc(t.yb),t.j.Ta(n),bf(t),t.b(new xf("drawstart",t.j))}function gf(t,e){var n,o,i=e.coordinate,r=t.j.U();t.f===Rx?(t.o=i.slice(),o=t.a,o.length>=t.Ja&&(t.u?o.pop():n=!0),o.push(i.slice()),t.Qa(o,r)):t.f===Dx&&(o=t.a[0],o.length>=t.Ja&&(t.u?o.pop():n=!0),o.push(i.slice()),n&&(t.o=o[0]),t.Qa(t.a,r)),bf(t),n&&t.Qd()}function mf(t){t.o=null;var e=t.j;return e&&(t.j=null,t.G=null,t.C=null,t.na.ka().clear(!0)),e}function bf(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.G&&e.push(t.G),t=t.na.ka(),t.clear(!0),t.gd(e)}function _f(t){var e;return"Point"===t||"MultiPoint"===t?e=kx:"LineString"===t||"MultiLineString"===t?e=Rx:"Polygon"===t||"MultiPolygon"===t?e=Dx:"Circle"===t&&(e=Fx),
e}function xf(t,e){le.call(this,t),this.feature=e}function wf(t){this.a=this.j=null,this.C=!1,this.G=this.o=null,t||(t={}),t.extent&&this.f(t.extent),_i.call(this,{handleDownEvent:Sf,handleDragEvent:Cf,handleEvent:Pf,handleUpEvent:Mf}),this.u=new Vc({source:new tf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:Tf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.I=new Vc({source:new tf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:Af(),updateWhileAnimating:!0,updateWhileInteracting:!0})}function Pf(t){if(!(t instanceof Qe))return!0;if("pointermove"==t.type&&!this.A){var e=t.pixel,n=t.map,o=If(this,e,n);o||(o=n.Xa(e)),Nf(this,o)}return wi.call(this,t),!1}function Sf(t){function e(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null}var n=t.pixel,o=t.map,i=this.D();return(t=If(this,n,o))&&i?(n=t[0]==i[0]||t[0]==i[2]?t[0]:null,o=t[1]==i[1]||t[1]==i[3]?t[1]:null,null!==n&&null!==o?this.a=Ef(e(t)):null!==n?this.a=Lf(e([n,i[1]]),e([n,i[3]])):null!==o&&(this.a=Lf(e([i[0],o]),e([i[2],o])))):(t=o.Xa(n),this.f([t[0],t[1],t[0],t[1]]),this.a=Ef(t)),!0}function Cf(t){return this.a&&(t=t.coordinate,this.f(this.a(t)),Nf(this,t)),!0}function Mf(){this.a=null;var t=this.D();return t&&q(t)||this.f(null),!1}function Tf(){var t=Gs();return function(){return t.Polygon}}function Af(){var t=Gs();return function(){return t.Point}}function Ef(t){return function(e){return I([t,e])}}function Lf(t,e){return t[0]==e[0]?function(n){return I([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return I([t,[e[0],n[1]]])}:null}function If(t,e,n){function o(t,e){return Qn(i,t)-Qn(i,e)}var i=n.Xa(e),r=t.D();if(r){r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]],r.sort(o);var r=r[0],a=Wn(i,r),s=n.Ka(a);if(10>=Jn(e,s))return e=n.Ka(r[0]),n=n.Ka(r[1]),e=Zn(s,e),n=Zn(s,n),t.C=10>=Math.sqrt(Math.min(e,n)),t.C&&(a=e>n?r[1]:r[0]),a}return null}function Nf(t,e){var n=t.G;n?n.U().pa(e):(n=new zs(new To(e)),t.G=n,t.I.ka().zb(n))}function Of(t){le.call(this,jx),this.b=t}function kf(t){_i.call(this,{handleDownEvent:Bf,handleDragEvent:Xf,handleEvent:Yf,handleUpEvent:Uf}),this.Gb=t.condition?t.condition:bi,this.Va=function(t){return yi(t)&&di(t)},this.yb=t.deleteCondition?t.deleteCondition:this.Va,this.Ha=this.f=null,this.Ja=[0,0],this.C=this.I=!1,this.a=new Da,this.fa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.o=this.na=!1,this.j=[],this.G=new Vc({source:new tf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:qf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.T={Point:this.wn,LineString:this.li,LinearRing:this.li,Polygon:this.xn,MultiPoint:this.tn,MultiLineString:this.sn,MultiPolygon:this.vn,Circle:this.lq,GeometryCollection:this.rn},this.u=t.features,this.u.forEach(this.fg,this),ie(this.u,"add",this.pn,this),ie(this.u,"remove",this.qn,this),this.Z=null}function Rf(t,e){t.C||(t.C=!0,t.b(new Vf("modifystart",t.u,e)))}function Df(t,e){Ff(t,e),t.f&&!t.u.fc()&&(t.G.ka().Db(t.f),t.f=null),ae(e,"change",t.ki,t)}function Ff(t,e){var n=t.a,o=[];n.forEach(function(t){e===t.feature&&o.push(t)});for(var i=o.length-1;0<=i;--i)n.remove(o[i])}function jf(t,e){var n=t.f;n?n.U().pa(e):(n=new zs(new To(e)),t.f=n,t.G.ka().zb(n))}function Kf(t,e){return t.index-e.index}function Bf(t){if(!this.Gb(t))return!1;Gf(this,t.pixel,t.map);var e=t.map.Xa(t.pixel);this.j.length=0,this.C=!1;var n=this.f;if(n){var o=[],n=n.U().W(),i=I([n]),i=Ka(this.a,i),r={};i.sort(Kf);for(var a=0,s=i.length;a<s;++a){var u=i[a],h=u.oa,p=d(u.feature),l=u.depth;l&&(p+="-"+l.join("-")),r[p]||(r[p]=Array(2)),"Circle"===u.geometry.S()&&1===u.index?(h=zf(e,u),qn(h,n)&&!r[p][0]&&(this.j.push([u,0]),r[p][0]=u)):qn(h[0],n)&&!r[p][0]?(this.j.push([u,0]),r[p][0]=u):qn(h[1],n)&&!r[p][1]?("LineString"!==u.geometry.S()&&"MultiLineString"!==u.geometry.S()||!r[p][0]||0!==r[p][0].index)&&(this.j.push([u,1]),r[p][1]=u):d(h)in this.Ha&&!r[p][0]&&!r[p][1]&&o.push([u,n])}for(o.length&&Rf(this,t),t=o.length-1;0<=t;--t)this.Xl.apply(this,o[t])}return!!this.f}function Xf(t){this.I=!1,Rf(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){for(var o,i=this.j[e],r=i[0],a=r.depth,s=r.geometry,u=r.oa,i=i[1];t.length<s.sa();)t.push(u[i][t.length]);switch(s.S()){case"Point":o=t,u[0]=u[1]=t;break;case"MultiPoint":o=s.W(),o[r.index]=t,u[0]=u[1]=t;break;case"LineString":o=s.W(),o[r.index+i]=t,u[i]=t;break;case"MultiLineString":o=s.W(),o[a[0]][r.index+i]=t,u[i]=t;break;case"Polygon":o=s.W(),o[a[0]][r.index+i]=t,u[i]=t;break;case"MultiPolygon":o=s.W(),o[a[1]][a[0]][r.index+i]=t,u[i]=t;break;case"Circle":u[0]=u[1]=t,0===r.index?(this.o=!0,s.lb(t)):(this.o=!0,s.Zc(Jn(s.za(),t))),this.o=!1}o&&(r=s,a=o,this.o=!0,r.pa(a),this.o=!1)}jf(this,t)}function Uf(t){for(var e,n,o=this.j.length-1;0<=o;--o)if(e=this.j[o][0],n=e.geometry,"Circle"===n.S()){var i=n.za(),r=e.Lf[0];e=e.Lf[1],r.oa[0]=r.oa[1]=i,e.oa[0]=e.oa[1]=i,Fa(this.a,X(i),r),Fa(this.a,n.D(),e)}else Fa(this.a,I(e.oa),e);return this.C&&(this.b(new Vf("modifyend",this.u,t)),this.C=!1),!1}function Yf(t){if(!(t instanceof Qe))return!0;this.Z=t;var e;return Zo(t.map.$())[1]||"pointermove"!=t.type||this.A||(this.Ja=t.pixel,Gf(this,t.pixel,t.map)),this.f&&this.yb(t)&&(e=!("singleclick"!=t.type||!this.I)||this.cj()),"singleclick"==t.type&&(this.I=!1),wi.call(this,t)&&!e}function Gf(t,e,n){function o(t,e){return Wf(i,t)-Wf(i,e)}var i=n.Xa(e),r=N(X(i),n.$().Ra()*t.fa),r=Ka(t.a,r);if(0<r.length){r.sort(o);var a=r[0],s=a.oa,u=zf(i,a),h=n.Ka(u),p=Jn(e,h);if(p<=t.fa){if(e={},"Circle"===a.geometry.S()&&1===a.index)t.na=!0,jf(t,u);else for(p=n.Ka(s[0]),a=n.Ka(s[1]),n=Zn(h,p),h=Zn(h,a),p=Math.sqrt(Math.min(n,h)),t.na=p<=t.fa,t.na&&(u=n>h?s[1]:s[0]),jf(t,u),h=1,n=r.length;h<n&&(u=r[h].oa,qn(s[0],u[0])&&qn(s[1],u[1])||qn(s[0],u[1])&&qn(s[1],u[0]));++h)e[d(u)]=!0;return e[d(s)]=!0,void(t.Ha=e)}}t.f&&(t.G.ka().Db(t.f),t.f=null)}function Wf(t,e){var n=e.geometry;if("Circle"===n.S()&&1===e.index){var o=Zn(n.za(),t),n=Math.sqrt(o)-n.Yd();return n*n}return Qn(t,e.oa)}function zf(t,e){var n=e.geometry;return"Circle"===n.S()&&1===e.index?n.Ab(t):Wn(t,e.oa)}function Hf(t,e,n,o,i){Ba(t.a,e.D(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||u(t.depth,o))&&t.index>n&&(t.index+=i)})}function qf(){var t=Gs();return function(){return t.Point}}function Vf(t,e,n){le.call(this,t),this.features=e,this.mapBrowserEvent=n}function $f(t){if(ri.call(this,{handleEvent:Zf}),t=t?t:{},this.C=t.condition?t.condition:di,this.A=t.addCondition?t.addCondition:no,this.G=t.removeCondition?t.removeCondition:no,this.I=t.toggleCondition?t.toggleCondition:vi,this.o=!!t.multi&&t.multi,this.l=t.filter?t.filter:eo,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new Vc({source:new tf({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:Jf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return i(e,t)}}else t=eo;this.u=t,this.a={},t=this.f.ka().i,ie(t,"add",this.yn,this),ie(t,"remove",this.Cn,this)}function Zf(t){if(!this.C(t))return!0;var e=this.A(t),n=this.G(t),o=this.I(t),r=!e&&!n&&!o,a=t.map,s=this.f.ka().i,u=[],h=[];if(r){for(ut(this.a),a.we(t.pixel,function(t,e){if(this.l(t,e)){h.push(t);var n=d(t);return this.a[n]=e,!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=s.fc()-1;0<=r;--r){var a=s.item(r),p=h.indexOf(a);-1<p?h.splice(p,1):(s.remove(a),u.push(a))}h.length&&s.ag(h)}else{for(a.we(t.pixel,function(t,r){if(this.l(t,r)){if(!e&&!o||i(s.a,t))(n||o)&&i(s.a,t)&&(u.push(t),a=d(t),delete this.a[a]);else{h.push(t);var a=d(t);this.a[a]=r}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=u.length-1;0<=r;--r)s.remove(u[r]);s.ag(h)}return(0<h.length||0<u.length)&&this.b(new Qf(Kx,h,u,t)),fi(t)}function Jf(){var t=Gs();return a(t.Polygon,t.LineString),a(t.GeometryCollection,t.LineString),function(e){return e.U()?t[e.U().S()]:null}}function Qf(t,e,n,o){le.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=o}function td(t){_i.call(this,{handleEvent:ed,handleDownEvent:eo,handleUpEvent:nd}),t=t?t:{},this.o=t.source?t.source:null,this.fa=void 0===t.vertex||t.vertex,this.I=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.na=[],this.C={},this.Z={},this.u={},this.G=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.Ja=od.bind(this),this.a=new Da,this.T={Point:this.Jn,LineString:this.oi,LinearRing:this.oi,Polygon:this.Kn,MultiPoint:this.Hn,MultiLineString:this.Gn,MultiPolygon:this.In,GeometryCollection:this.Fn}}function ed(t){var e,n,o=t.pixel,i=t.coordinate;e=t.map;var r=e.Xa([o[0]-this.f,o[1]+this.f]);n=e.Xa([o[0]+this.f,o[1]-this.f]);var a,r=I([r,n]),s=Ka(this.a,r),r=!1,u=null;return n=null,0<s.length&&(this.G=i,s.sort(this.Ja),s=s[0].oa,this.fa&&!this.I?(i=e.Ka(s[0]),a=e.Ka(s[1]),i=Zn(o,i),o=Zn(o,a),a=Math.sqrt(Math.min(i,o)),(a=a<=this.f)&&(r=!0,u=i>o?s[1]:s[0],n=e.Ka(u))):this.I&&(u=Wn(i,s),n=e.Ka(u),Jn(o,n)<=this.f&&(r=!0,this.fa&&(i=e.Ka(s[0]),a=e.Ka(s[1]),i=Zn(n,i),o=Zn(n,a),a=Math.sqrt(Math.min(i,o)),a=a<=this.f)))&&(u=i>o?s[1]:s[0],n=e.Ka(u)),r&&(n=[Math.round(n[0]),Math.round(n[1])])),e=u,r&&(t.coordinate=e.slice(0,2),t.pixel=n),wi.call(this,t)}function nd(){var t=ht(this.u);return t.length&&(t.forEach(this.zj,this),this.u={}),!1}function od(t,e){return Qn(this.G,t.oa)-Qn(this.G,e.oa)}function id(t){_i.call(this,{handleDownEvent:rd,handleDragEvent:sd,handleMoveEvent:ud,handleUpEvent:ad}),t=t?t:{},this.f=void 0,this.a=null,this.o=void 0!==t.features?t.features:null;var e;if(t.layers)if("function"==typeof t.layers)e=t.layers;else{var n=t.layers;e=function(t){return i(n,t)}}else e=eo;this.G=e,this.u=t.hitTolerance?t.hitTolerance:0,this.j=null,ie(this,ge("active"),this.C,this)}function rd(t){if(this.j=hd(this,t.pixel,t.map),!this.a&&this.j){this.a=t.coordinate,ud.call(this,t);var e=this.o||new _e([this.j]);return this.b(new ld("translatestart",e,t.coordinate)),!0}return!1}function ad(t){if(this.a){this.a=null,ud.call(this,t);var e=this.o||new _e([this.j]);return this.b(new ld("translateend",e,t.coordinate)),!0}return!1}function sd(t){if(this.a){t=t.coordinate;var e=t[0]-this.a[0],n=t[1]-this.a[1],o=this.o||new _e([this.j]);o.forEach(function(t){var o=t.U();o.translate(e,n),t.Ta(o)}),this.a=t,this.b(new ld("translating",o,t))}}function ud(t){var e=t.map.vc();hd(this,t.pixel,t.map)?(this.f=void 0!==this.f?this.f:e.style.cursor,e.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",e.style.cursor=this.a?"grabbing":"grab"):void 0!==this.f&&(e.style.cursor=this.f,this.f=void 0)}function hd(t,e,n){return n.we(e,function(t){if(!this.o||i(this.o.a,t))return t}.bind(t),{layerFilter:t.G,hitTolerance:t.u})}function pd(t,e){var n=t.v,o=t.c();n&&o||void 0===t.f||(n||(n=e),n.vc().style.cursor=t.f,t.f=void 0)}function ld(t,e,n){le.call(this,t),this.features=e,this.coordinate=n}function cd(t){t=t?t:{};var e=hv({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Vc.call(this,e),this.j=null,this.T=void 0!==t.shadow?t.shadow:250,this.Z=void 0,this.I=null,ie(this,ge(Ux),this.wl,this),this.kj(t.gradient?t.gradient:Bx),this.ej(void 0!==t.blur?t.blur:15),this.Zc(void 0!==t.radius?t.radius:8),ie(this,ge(Xx),this.Yf,this),ie(this,ge(Yx),this.Yf,this),this.Yf();var n,o=t.weight?t.weight:"weight";n="string"==typeof o?function(t){return t.get(o)}:o,this.f(function(t){t=n(t),t=void 0!==t?x(t,0,1):1;var e=255*t|0,o=this.I[e];return o||(o=[new Xs({image:new ep({opacity:t,src:this.Z})})],this.I[e]=o),o}.bind(this)),this.set(Ox,null),ie(this,"render",this.Nl,this)}function fd(t){kc.call(this,t),this.u=ur(),this.j=null}function dd(t){fd.call(this,t),this.N=null,this.c=ur()}function yd(t,e,n,o){var i=Ot(n,e,t);return n=bt(e,o,n),e=e.uc(),void 0!==e&&(n*=e),e=t.uc(),void 0!==e&&(n/=e),t=bt(t,n,i)/n,isFinite(t)&&0<t&&(n/=t),n}function vd(t,e,n,o){t=n-t,e=o-e;var i=Math.sqrt(t*t+e*e);return[Math.round(n+t/i),Math.round(o+e/i)]}function gd(t,e,n,o,i,r,a,s,u,h,p){var l=Ee(Math.round(n*t),Math.round(n*e));if(!u.length)return l.canvas;l.scale(n,n);var c=K();u.forEach(function(t){G(c,t.extent)});var f=Ee(Math.round(n*ot(c)/o),Math.round(n*Q(c)/o)),d=n/o;u.forEach(function(t){f.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,(t.extent[0]-c[0])*d,-(t.extent[3]-c[3])*d,ot(t.extent)*d,Q(t.extent)*d)});var y=et(a);return s.c.forEach(function(t){var e=t.source,i=t.target,a=e[1][0],s=e[1][1],u=e[2][0],h=e[2][1];t=(i[0][0]-y[0])/r;var p=-(i[0][1]-y[1])/r,d=(i[1][0]-y[0])/r,v=-(i[1][1]-y[1])/r,g=(i[2][0]-y[0])/r,m=-(i[2][1]-y[1])/r,i=e[0][0],e=e[0][1],a=a-i,s=s-e,u=u-i,h=h-e;t:{for(a=[[a,s,0,0,d-t],[u,h,0,0,g-t],[0,0,a,s,v-p],[0,0,u,h,m-p]],s=a.length,u=0;u<s;u++){for(var h=u,b=Math.abs(a[u][u]),_=u+1;_<s;_++){var x=Math.abs(a[_][u]);x>b&&(b=x,h=_)}if(!b){a=null;break t}for(b=a[h],a[h]=a[u],a[u]=b,h=u+1;h<s;h++)for(b=-a[h][u]/a[u][u],_=u;_<s+1;_++)a[h][_]=u==_?0:a[h][_]+b*a[u][_]}for(u=Array(s),h=s-1;0<=h;h--)for(u[h]=a[h][s]/a[h][h],b=h-1;0<=b;b--)a[b][s]-=a[b][h]*u[h];a=u}a&&(l.save(),l.beginPath(),u=(t+d+g)/3,h=(p+v+m)/3,s=vd(u,h,t,p),d=vd(u,h,d,v),g=vd(u,h,g,m),l.moveTo(d[0],d[1]),l.lineTo(s[0],s[1]),l.lineTo(g[0],g[1]),l.clip(),l.transform(a[0],a[2],a[1],a[3],t,p),l.translate(c[0]-i,c[3]-e),l.scale(o/n,-o/n),l.drawImage(f.canvas,0,0),l.restore())}),p&&(l.save(),l.strokeStyle="black",l.lineWidth=1,s.c.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/r;var n=-(e[0][1]-y[1])/r,o=(e[1][0]-y[0])/r,i=-(e[1][1]-y[1])/r,a=(e[2][0]-y[0])/r,e=-(e[2][1]-y[1])/r;l.beginPath(),l.moveTo(o,i),l.lineTo(t,n),l.lineTo(a,e),l.closePath(),l.stroke()}),l.restore()),l.canvas}function md(t,e,n,o,i){this.g=t,this.i=e;var r={},a=Et(this.i,this.g);this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.f=o,this.u=i*i,this.c=[],this.l=!1,this.o=this.g.a&&!!o&&!!this.g.D()&&ot(o)==ot(this.g.D()),this.b=this.g.D()?ot(this.g.D()):null,this.j=this.i.D()?ot(this.i.D()):null,t=et(n),e=nt(n),o=$(n),n=V(n),i=this.a(t);var s=this.a(e),u=this.a(o),h=this.a(n);if(bd(this,t,e,o,n,i,s,u,h,10),this.l){var p=1/0;this.c.forEach(function(t){p=Math.min(p,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-p>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-p>this.b/2&&(e[0][0]-=this.b),e[1][0]-p>this.b/2&&(e[1][0]-=this.b),e[2][0]-p>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function bd(t,e,n,o,i,r,a,s,u,h){var p=I([r,a,s,u]),l=t.b?ot(p)/t.b:null,c=t.b,f=t.g.a&&.5<l&&1>l,d=!1;if(0<h){if(t.i.g&&t.j)var y=I([e,n,o,i]),d=d|.25<ot(y)/t.j;!f&&t.g.g&&l&&(d|=.25<l)}if(d||!t.f||it(p,t.f)){if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(0<h))return;d=!0}if(0<h&&(d||(p=t.a([(e[0]+o[0])/2,(e[1]+o[1])/2]),c=f?(M(r[0],c)+M(s[0],c))/2-M(p[0],c):(r[0]+s[0])/2-p[0],p=(r[1]+s[1])/2-p[1],d=c*c+p*p>t.u),d))return void(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])?(f=[(n[0]+o[0])/2,(n[1]+o[1])/2],c=t.a(f),p=[(i[0]+e[0])/2,(i[1]+e[1])/2],l=t.a(p),bd(t,e,n,f,p,r,a,c,l,h-1),bd(t,p,f,o,i,l,c,s,u,h-1)):(f=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=t.a(f),p=[(o[0]+i[0])/2,(o[1]+i[1])/2],l=t.a(p),bd(t,e,f,p,i,r,c,l,u,h-1),bd(t,f,n,o,p,c,a,s,l,h-1)));if(f){if(!t.o)return;t.l=!0}t.c.push({source:[r,s,u],target:[e,o,i]}),t.c.push({source:[r,a,s],target:[e,n,o]})}}function _d(t){var e=K();return t.c.forEach(function(t){t=t.source,W(e,t[0]),W(e,t[1]),W(e,t[2])}),e}function xd(t,e,n,o,i,r){this.u=e,this.o=t.D();var a=e.D(),s=a?tt(n,a):n,a=yd(t,e,Z(s),o);this.j=new md(t,e,s,this.o,.5*a),this.c=o,this.g=n,t=_d(this.j),this.l=(this.Eb=r(t,a,i))?this.Eb.a:1,this.de=this.f=null,i=2,r=[],this.Eb&&(i=0,r=this.Eb.i),Wl.call(this,n,o,this.l,i,r)}function wd(t){Zc.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.v=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.ea=0}function Pd(t,e){return t.v&&(e=t.v[r(t.v,e,0)]),e}function Sd(t,e){t.Y().src=e}function Cd(t,e){le.call(this,t),this.image=e}function Md(t){wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.fa=t.canvasFunction,this.I=null,this.T=0,this.na=void 0!==t.ratio?t.ratio:1.5}function Td(t){this.i=t.source,this.Va=ur(),this.f=Ee(),this.o=[0,0],this.Ha=void 0==t.renderBuffer?100:t.renderBuffer,this.A=null,Md.call(this,{attributions:t.attributions,canvasFunction:this.pk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.i.V()}),this.C=null,this.u=void 0,this.Bi(t.style),ie(this.i,"change",this.ho,this)}function Ad(t,e,n,o,i){return n=o/n,gr(t.Va,i[0]/2,i[1]/2,n,-n,0,-e[0],-e[1])}function Ed(t,e){Wc.call(this,t,e),this.l=this.i=this.N=null}function Ld(t,e){var n=e.Y();return ha(t.c.g,n)}function Id(t,e,n,o,i,r,a,s){e*=r,n*=r,t=t.O,hr(t),yr(t,2*o/e,2*o/n),dr(t,-a),vr(t,s[0]-i[0],s[1]-i[1]),yr(t,(s[2]-s[0])/2,(s[3]-s[1])/2),vr(t,1,1)}function Nd(t){rr.call(this,t?t:{})}function Od(t){fd.call(this,t),this.c=null===this.c?null:Ee(),this.l=null,this.i=[],this.o=K(),this.Ja=new g(0,0,0,0),this.C=ur(),this.T=0}function kd(t,e){var n=e.V(),o=t.a.Wd();return 2==n||4==n||3==n&&!o}function Rd(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function Dd(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function Fd(t,e){this.g=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function jd(t,e){Wc.call(this,t,e),this.I=Hx,this.fa=qx,this.i=null,this.G=new Vr([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.l=null,this.o=-1,this.Z=[0,0]}function Kd(t){t=t?t:{};var e=hv({},t);delete e.preload,delete e.useInterimTilesOnError,rr.call(this,e),this.si(void 0!==t.preload?t.preload:0),this.ti(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function Bd(t){this.c=null,Od.call(this,t),this.G=!1,this.Z=ur(),this.T="vector"==t.u?1:0}function Xd(t,e,n){function o(t){var e,n=t.Rc();if(n?e=n.call(t,v):(n=i.i)&&(e=n(t,v)),e){Array.isArray(e)||(e=[e]);var n=m,o=g;if(e){var r=!1;if(Array.isArray(e))for(var a=0,s=e.length;a<s;++a)r=Bc(o,t,e[a],n,this.yi,this)||r;else r=Bc(o,t,e,n,this.yi,this)||r;t=r}else t=!1;this.G=this.G||t,u.Od=u.Od||t}}var i=t.a,r=n.pixelRatio;n=n.viewState.projection;var a=i.g,s=i.get(Ox)||null,u=e.g;if(u.Od||u.kf!=a||u.Eg!=s){u.zd=null,u.Od=!1;var h,p,l,c=i.ka(),f=c.tileGrid,d=e.Ga,y=e.j,v=f.La(d[0]);"tile-pixels"==y.Kb()?(h=l=c.pb(),f=L(f.eb(d[0])),h=[0,0,f[0]*h,f[1]*h]):(l=v,h=f.Ua(d),At(n,y)||(p=!0,e.dg(n))),u.Od=!1;var g=new _c(0,h,l,c.f,i.c),m=Kc(l,r);for(e=e.f,s&&s!==u.Eg&&e.sort(s),c=0,l=e.length;c<l;++c)r=e[c],p&&r.U().tb(y,n),o.call(t,r);Pc(g),u.kf=a,u.Eg=s,u.zd=g,u.resolution=NaN}}function Ud(t){t=t?t:{};var e=hv({},t);delete e.preload,delete e.useInterimTilesOnError,Vc.call(this,e),this.ui(t.preload?t.preload:0),this.vi(!t.useInterimTilesOnError||t.useInterimTilesOnError),v(void 0==t.renderMode||"image"==t.renderMode||"hybrid"==t.renderMode||"vector"==t.renderMode,28),this.u=t.renderMode||"hybrid"}function Yd(t,e,n,o){function i(){delete window[a],r.parentNode.removeChild(r)}var r=document.createElement("script"),a="olc_"+d(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var s=setTimeout(function(){i(),n&&n()},1e4);window[a]=function(t){clearTimeout(s),i(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function Gd(t,e,n,o,i,r,a,s,u,h,p){if(ql.call(this,i,0),this.C=void 0!==p&&p,this.A=a,this.O=s,this.v=null,this.c=e,this.l=o,this.o=r?r:i,this.g=[],this.Ad=null,this.f=0,r=o.Ua(this.o),s=this.l.D(),i=this.c.D(),r=s?tt(r,s):r,q(r))if((s=t.D())&&(i=i?tt(i,s):s),o=yd(t,n,Z(r),o.La(this.o[0])),!isFinite(o)||0>=o)this.state=4;else if(this.u=new md(t,n,r,i,o*(void 0!==h?h:.5)),this.u.c.length)if(this.f=e.Qc(o),n=_d(this.u),i&&(t.a?(n[1]=x(n[1],i[1],i[3]),n[3]=x(n[3],i[1],i[3])):n=tt(n,i)),q(n)){for(t=Ut(e,n,this.f),e=t.da;e<=t.ba;e++)for(n=t.ga;n<=t.ja;n++)(h=u(this.f,e,n,a))&&this.g.push(h);this.g.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function Wd(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a){if(a)return t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[a[0]]:null;return v(t,55),(t.ja-t.ga+1+a[2]).toString()})}}function zd(t,e){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=Wd(t[i],e);return Hd(o)}function Hd(t){return 1===t.length?t[0]:function(e,n,o){if(e)return t[M((e[1]<<e[0])+e[2],t.length)](e,n,o)}}function qd(){}function Vd(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o,i=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(i=parseInt(n[2],10),o=parseInt(n[1],10);o<=i;o++)e.push(t.replace(n[0],o.toString()));return e}return e.push(t),e}function $d(t){ls.call(this),this.highWaterMark=void 0!==t?t:2048}function Zd(t){return t.c>t.highWaterMark}function Jd(t){Zc.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.na=void 0!==t.opaque&&t.opaque,this.Va=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new $d(t.cacheSize),this.l=[0,0],this.wc=""}function Qd(t,e,n,o,i){if(e=t.Ud(e),!e)return!1;for(var r,a,s=!0,u=o.da;u<=o.ba;++u)for(var h=o.ga;h<=o.ja;++h)r=t.Tb(n,u,h),a=!1,e.b.hasOwnProperty(r)&&(r=e.get(r),(a=2===r.V())&&(a=!1!==i(r))),a||(s=!1);return s}function ty(t,e){t.wc!==e&&(t.wc=e,t.s())}function ey(t,e,n){var o=void 0!==n?n:t.c;if(n=t.Jb(o),t.G&&o.g){var i=e;e=i[0],t=Yt(n,i),o=Vt(o),R(o,t)?e=i:(i=ot(o),t[0]+=i*Math.ceil((o[0]-t[0])/i),e=n.Xf(t,e))}if(i=e[0],o=e[1],t=e[2],n.minZoom>i||i>n.maxZoom)n=!1;else{var r=n.D();n=!(n=r?Ut(n,r,i):n.a?n.a[i]:null)||m(n,o,t)}return n?e:null}function ny(t,e){le.call(this,t),this.tile=e}function oy(t){Jd.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Hc?this.Hc.bind(this):qd,this.urls=null,t.urls?this.cb(t.urls):t.url&&this.ib(t.url),t.tileUrlFunction&&this.bb(t.tileUrlFunction)}function iy(t){oy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:sy,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:$l,this.f={},this.u={},this.Ha=t.reprojectionErrorThreshold,this.C=!1}function ry(t,e,n,o,i,r,a){return e=[e,n,o],i=(n=ey(t,e,r))?t.tileUrlFunction(n,i,r):void 0,i=new t.tileClass(e,void 0!==i?0:4,void 0!==i?i:"",t.crossOrigin,t.tileLoadFunction),i.key=a,ie(i,"change",t.Fi,t),i}function ay(t,e,n,o,i,r){var a,s=t.Tb(e,n,o),u=t.wc;if(t.a.b.hasOwnProperty(s)){if(a=t.a.get(s),a.key!=u){var h=a;if(a=ry(t,e,n,o,i,r,u),0==h.V()?a.a=h.a:a.a=h,a.a){e=a.a,n=a;do{if(2==e.V()){e.a=null;break}1==e.V()?n=e:0==e.V()?n.a=e.a:n=e,e=n.a}while(e)}t.a.replace(s,a)}}else a=ry(t,e,n,o,i,r,u),t.a.set(s,a);return a}function sy(t,e){t.Y().src=e}function uy(t){this.A=void 0!==t.hidpi&&t.hidpi,iy.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Tt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.I=void 0!==t.culture?t.culture:"en-us",this.v=void 0!==t.maxZoom?t.maxZoom:-1,this.i=t.key,this.o=t.imagerySet,Yd("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+this.i,this.fa.bind(this),void 0,"jsonp")}function hy(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:Ht({extent:Vt(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function py(t){this.v=t.account,this.A=t.map||"",this.i=t.config||{},this.o={},hy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),ly(this)}function ly(t){var e=JSON.stringify(t.i);if(t.o[e])cy(t,t.o[e]);else{var n="https://"+t.v+".cartodb.com/api/v1/map";t.A&&(n+="/named/"+t.A);var o=new XMLHttpRequest;o.addEventListener("load",t.yl.bind(t,e)),o.addEventListener("error",t.xl.bind(t)),o.open("POST",n),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.i))}}function cy(t,e){t.ib("https://"+e.cdn_url.https+"/"+t.v+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function fy(t){tf.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.C=void 0,this.I=void 0!==t.distance?t.distance:20,this.A=[],this.Qa=t.geometryFunction||function(t){return t=t.U(),v(t instanceof To,10),t},this.v=t.source,this.v.J("change",fy.prototype.bj,this)}function dy(t){if(void 0!==t.C){t.A.length=0;for(var e=K(),n=t.I*t.C,o=t.v.We(),i={},r=0,a=o.length;r<a;r++){var s=o[r];d(s).toString()in i||!(s=t.Qa(s))||(s=s.W(),X(s,e),N(e,n,e),s=t.v.Pf(e),s=s.filter(function(t){return t=d(t).toString(),!(t in i)&&(i[t]=!0)}),t.A.push(yy(t,s)))}}}function yy(t,e){for(var n=[0,0],o=e.length-1;0<=o;--o){var i=t.Qa(e[o]);i?Gn(n,i.W()):e.splice(o,1)}return $n(n,1/e.length),n=new zs(new To(n)),n.set("features",e),n}function vy(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var o=n.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+o}function gy(t){t=t||{},wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.I=void 0!==t.crossOrigin?t.crossOrigin:null,this.T=void 0===t.hidpi||t.hidpi,this.i=t.url,this.f=t.imageLoadFunction?t.imageLoadFunction:Sd,this.u=t.params||{},this.N=null,this.o=[0,0],this.C=0,this.A=void 0!==t.ratio?t.ratio:1.5}function my(t){wd.call(this,{projection:t.projection,resolutions:t.resolutions}),this.I=void 0!==t.crossOrigin?t.crossOrigin:null,this.o=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.C=t.url,this.i=t.imageLoadFunction?t.imageLoadFunction:Sd,this.T=void 0===t.hidpi||t.hidpi,this.fa=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.u=void 0!==t.ratio?t.ratio:1,this.na=void 0!==t.useOverlay&&t.useOverlay,this.N=null,this.A=0}function by(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,o=t.imageLoadFunction?t.imageLoadFunction:Sd;wd.call(this,{attributions:t.attributions,logo:t.logo,projection:Tt(t.projection)}),this.N=new zl(e,void 0,1,this.j,t.url,n,o),this.i=t.imageSize?t.imageSize:null,ie(this.N,"change",this.l,this)}function _y(t){t=t||{},wd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.fa=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.u=t.imageLoadFunction?t.imageLoadFunction:Sd,this.i=t.params||{},this.o=!0,wy(this),this.T=t.serverType,this.na=void 0===t.hidpi||t.hidpi,this.N=null,this.A=[0,0],this.I=0,this.C=void 0!==t.ratio?t.ratio:1.5}function xy(t,e,n,o,i,r){if(v(void 0!==t.f,9),r[t.o?"CRS":"SRS"]=i.nb,"STYLES"in t.i||(r.STYLES=""),1!=o)switch(t.T){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+o):"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:v(!1,8)}r.WIDTH=n[0],r.HEIGHT=n[1],n=i.b;var a;return a=t.o&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),vy(t.f,r)}function wy(t){t.o=0<=Yn(t.i.VERSION||"1.3.0")}function Py(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[Qx],hy.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function Sy(t){this.A=null,this.na=void 0!==t.operationType?t.operationType:"pixel",this.Ha=void 0!==t.threads?t.threads:1,this.f=My(t.sources);for(var e=0,n=this.f.length;e<n;++e)ie(this.f[e],"change",this.s,this);this.T=new kn(function(){return 1},this.s.bind(this));for(var e=Cy(this.f),n={},o=0,i=e.length;o<i;++o)n[d(e[o].layer)]=e[o];this.i=null,this.C={animate:!1,attributions:{},coordinateToPixelTransform:ur(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:ur(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.T,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},wd.call(this,{}),t.operation&&this.u(t.operation,t.lib)}function Cy(t){return t.map(function(t){return or(t.a)})}function My(t){for(var e=t.length,n=Array(e),o=0;o<e;++o){var i=o,r=t[o],a=null;r instanceof Jd?(r=new Kd({source:r}),a=new Od(r)):r instanceof wd&&(r=new Nd({source:r}),a=new dd(r)),n[i]=a}return n}function Ty(t,e,n){le.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}function Ay(t){var e=t.layer.indexOf("-"),e=rw[-1==e?t.layer:t.layer.slice(0,e)],n=iw[t.layer];hy.call(this,{attributions:ow,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.Ib})}function Ey(t){t=t||{},iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.params||{},this.o=K(),ty(this,Ly(this))}function Ly(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function Iy(t){Jd.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function Ny(t,e,n){ql.call(this,t,2),this.c=e,this.Fa=n,this.g=null}function Oy(t){if(this.i=null,iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Tt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.jsonp)Yd(t.url,this.Ci.bind(this),this.Ue.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.qo.bind(this)),e.addEventListener("error",this.po.bind(this)),e.open("GET",t.url),e.send()}}function ky(t){if(Jd.call(this,{
projection:Tt("EPSG:3857"),state:"loading"}),this.u=void 0===t.preemptive||t.preemptive,this.o=qd,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)Yd(t.url,this.jg.bind(this),this.Ve.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.uo.bind(this)),e.addEventListener("error",this.to.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.jg(t.tileJSON):v(!1,51)}function Ry(t,e,n,o,i,r){ql.call(this,t,e),this.o=n,this.g=o,this.v=i,this.c=this.l=this.f=null,this.u=r}function Dy(t,e,n,o,i){0==t.state&&!0===i?(re(t,"change",function(){n.call(o,this.getData(e))},t),Fy(t)):!0===i?setTimeout(function(){n.call(o,this.getData(e))}.bind(t),0):n.call(o,t.getData(e))}function Fy(t){if(0==t.state)if(t.state=1,t.u)Yd(t.o,t.Di.bind(t),t.Ce.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.so.bind(t)),e.addEventListener("error",t.ro.bind(t)),e.open("GET",t.o),e.send()}}function jy(t){t=t||{};var e=t.params||{};iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.v=void 0!==t.gutter?t.gutter:0,this.i=e,this.o=!0,this.A=t.serverType,this.T=void 0===t.hidpi||t.hidpi,this.I="",By(this),this.ea=K(),Uy(this),ty(this,Xy(this))}function Ky(t,e,n,o,i,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.o?"CRS":"SRS"]=r.nb,"STYLES"in t.i||(a.STYLES=""),1!=i)switch(t.A){case"geoserver":n=90*i+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":a.DPI=90*i;break;default:v(!1,52)}return r=r.b,t.o&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),a.BBOX=o.join(","),vy(1==s.length?s[0]:s[M((e[1]<<e[0])+e[2],s.length)],a)}}function By(t){var e=0,n=[];if(t.urls){var o,i;for(o=0,i=t.urls.length;o<i;++o)n[e++]=t.urls[o]}t.I=n.join("#")}function Xy(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function Uy(t){t.o=0<=Yn(t.i.VERSION||"1.3.0")}function Yy(t,e,n,o,i){ql.call(this,t,e),this.c=null,this.l=o,this.f=null,this.g={Od:!1,Eg:null,kf:-1,Fg:-1,zd:null},this.v=i,this.o=n}function Gy(t,e){t.mj(du(e,t.l,t.Qo.bind(t),t.Po.bind(t)))}function Wy(t){oy.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Gy,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.format?t.format:null,this.f=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Yy}function zy(t){this.l=t.matrixIds,jt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Hy(t,e,n){var o=[],i=[],r=[],a=[],u=[],h=void 0!==n?n:[];n=Tt(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=n.uc(),l="ne"==n.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<h.length)||s(h,function(e){return t.Identifier==e.TileMatrix})){i.push(t.Identifier),e=28e-5*t.ScaleDenominator/p;var n=t.TileWidth,c=t.TileHeight;l?r.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):r.push(t.TopLeftCorner),o.push(e),a.push(n==c?n:[n,c]),u.push([t.MatrixWidth,-t.MatrixHeight])}}),new zy({extent:e,origins:r,resolutions:o,matrixIds:i,tileSizes:a,sizes:u})}function qy(t){function e(t){return t="KVP"==o?vy(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}),function(e){if(e){var n={TileMatrix:i.l[e[0]],TileCol:e[1],TileRow:-e[2]-1};return hv(n,a),e=t,e="KVP"==o?vy(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}}this.ea=void 0!==t.version?t.version:"1.0.0",this.v=void 0!==t.format?t.format:"image/jpeg",this.i=t.dimensions?t.dimensions:{},this.A=t.layer,this.o=t.matrixSet,this.I=t.style;var n=t.urls;void 0===n&&void 0!==t.url&&(n=Vd(t.url));var o=this.T=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid,r={layer:this.A,style:this.I,tilematrixset:this.o};"KVP"==o&&hv(r,{Service:"WMTS",Request:"GetTile",Version:this.ea,Format:this.v});var a=this.i,s=n&&0<n.length?Hd(n.map(e)):qd;iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX}),ty(this,Vy(this))}function Vy(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function $y(t){t=t||{};var e=t.size,n=e[0],o=e[1],i=[],r=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:aw){case aw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),r+=r;break;case sw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),n>>=1,o>>=1;break;default:v(!1,53)}i.push([1,1]),i.reverse();for(var r=[1],a=[0],o=1,n=i.length;o<n;o++)r.push(1<<o),a.push(i[o-1][0]*i[o-1][1]+a[o-1]);r.reverse(),e=[0,-e[1],e[0],0],e=new jt({extent:e,origin:et(e),resolutions:r}),(r=t.url)&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg"),r=Vd(r),r=Hd(r.map(function(t){return function(e){if(e){var n=e[0],o=e[1];e=-e[2]-1;var r={z:n,x:o,y:e,TileGroup:"TileGroup"+((o+e*i[n][0]+a[n])/256|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})),iy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:Zy,tileGrid:e,tileUrlFunction:r})}function Zy(t,e,n,o,i){$l.call(this,t,e,n,o,i),this.g=null}function Jy(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=Ee(t,t),this.i=this.g.canvas}function Qy(t,e,n,o){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function tv(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==ov?ov:2048,this.b=void 0!==t.space?t.space:1,this.i=[new Jy(this.a,this.b)],this.c=this.a,this.f=[new Jy(this.c,this.b)]}function ev(t,e,n,o,i,r,a){var s,u,h,p=e?t.f:t.i;for(u=0,h=p.length;u<h;++u){if(s=p[u],s=s.add(n,o,i,r,a))return s;s||u!==h-1||(e?(s=Math.min(2*t.c,t.g),t.c=s):(s=Math.min(2*t.a,t.g),t.a=s),s=new Jy(s,t.b),p.push(s),++h)}return null}var nv,ov,iv,rv={},av=this,sv=0;c(y,Error);var uv=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),hv="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};lt.prototype.a=function(t){for(var e=0,n=t.length,o=t[n-1][0],i=t[n-1][1],r=0;r<n;r++)var a=t[r][0],s=t[r][1],e=e+C(a-o)*(2+Math.sin(C(i))+Math.sin(C(s))),o=a,i=s;return e*this.radius*this.radius/2},lt.prototype.b=function(t,e){var n=C(t[1]),o=C(e[1]),i=(o-n)/2,r=C(e[0]-t[0])/2,n=Math.sin(i)*Math.sin(i)+Math.sin(r)*Math.sin(r)*Math.cos(n)*Math.cos(o);return 2*this.radius*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))},lt.prototype.offset=function(t,e,n){var o=C(t[1]);e/=this.radius;var i=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(n));return[180*(C(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(i)))/Math.PI,180*i/Math.PI]};var pv=new lt(6370997),lv={};lv.degrees=2*Math.PI*pv.radius/360,lv.ft=.3048,lv.m=1,lv["us-ft"]=1200/3937;var cv=null;nv=ct.prototype,nv.Fk=function(){return this.nb},nv.D=function(){return this.c},nv.Kb=function(){return this.i},nv.uc=function(){return this.o||lv[this.i]},nv.ol=function(){return this.f},nv.Zl=function(){return this.g},nv.Qp=function(t){this.g=t,this.a=!(!t||!this.c)},nv.Mn=function(t){this.c=t,this.a=!(!this.g||!t)},nv.$p=function(t){this.f=t},nv.Pp=function(t){this.l=t},c(ft,ct);var fv=6378137*Math.PI,dv=[-fv,-fv,fv,fv],yv=[-180,-85,180,85],vv="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new ft(t)}),gv=new lt(6378137);c(vt,ct);var mv=[-180,-90,180,90],bv=Math.PI*gv.radius/180,_v=[new vt("CRS:84"),new vt("EPSG:4326","neu"),new vt("urn:ogc:def:crs:EPSG::4326","neu"),new vt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new vt("urn:ogc:def:crs:OGC:1.3:CRS84"),new vt("urn:ogc:def:crs:OGC:2:84"),new vt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vt("urn:x-ogc:def:crs:EPSG:4326","neu")],xv={},wv={};Rt();var Pv=[0,0,0];nv=jt.prototype,nv.mh=function(t,e,n){t=Ut(this,t,e);for(var o=t.da,i=t.ba;o<=i;++o)for(var r=t.ga,a=t.ja;r<=a;++r)n([e,o,r])},nv.D=function(){return this.u},nv.Ni=function(){return this.maxZoom},nv.Oi=function(){return this.minZoom},nv.Uc=function(t){return this.g?this.g:this.c[t]},nv.La=function(t){return this.b[t]},nv.Pi=function(){return this.b},nv.Ua=function(t,e){var n=this.Uc(t[0]),o=this.La(t[0]),i=L(this.eb(t[0]),this.j),r=n[0]+t[1]*i[0]*o,n=n[1]+t[2]*i[1]*o;return B(r,n,r+i[0]*o,n+i[1]*o,e)},nv.Ae=function(t,e,n){return Gt(this,t[0],t[1],e,!1,n)},nv.Xf=function(t,e,n){return Gt(this,t[0],t[1],this.La(e),!1,n)},nv.eb=function(t){return this.f?this.f:this.i[t]},nv.Qc=function(t,e){return x(r(this.b,t,e||0),this.minZoom,this.maxZoom)},$t.prototype.g=function(){return this.b},he.prototype.$b=!1,he.prototype.ra=f,le.prototype.preventDefault=le.prototype.stopPropagation=function(){this.gp=!0},c(fe,he),fe.prototype.addEventListener=function(t,e){var n=this.qa[t];n||(n=this.qa[t]=[]),-1===n.indexOf(e)&&n.push(e)},fe.prototype.b=function(t){var e="string"==typeof t?new le(t):t;t=e.type,e.target=this;var n,o=this.qa[t];if(o){t in this.ta||(this.ta[t]=0,this.$a[t]=0),++this.ta[t];for(var i=0,r=o.length;i<r;++i)if(!1===o[i].call(this,e)||e.gp){n=!1;break}if(--this.ta[t],!this.ta[t]){for(e=this.$a[t],delete this.$a[t];e--;)this.removeEventListener(t,f);delete this.ta[t]}return n}},fe.prototype.ra=function(){ue(this)},fe.prototype.removeEventListener=function(t,e){var n=this.qa[t];if(n){var o=n.indexOf(e);t in this.$a?(n[o]=f,++this.$a[t]):(n.splice(o,1),n.length||delete this.qa[t])}},c(ye,fe),nv=ye.prototype,nv.s=function(){++this.g,this.b("change")},nv.L=function(){return this.g},nv.J=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=ie(this,t[r],e,n);return i}return ie(this,t,e,n)},nv.once=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=re(this,t[r],e,n);return i}return re(this,t,e,n)},nv.K=function(t,e,n){if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)ae(this,t[o],e,n);else ae(this,t,e,n)},c(ve,ye);var Sv={};nv=ve.prototype,nv.get=function(t){var e;return this.O.hasOwnProperty(t)&&(e=this.O[t]),e},nv.P=function(){return Object.keys(this.O)},nv.M=function(){return hv({},this.O)},nv.set=function(t,e,n){n?this.O[t]=e:(n=this.O[t],this.O[t]=e,n!==e&&me(this,t,n))},nv.H=function(t,e){for(var n in t)this.set(n,t[n],e)},nv.R=function(t,e){if(t in this.O){var n=this.O[t];delete this.O[t],e||me(this,t,n)}},c(be,le),c(_e,ve),nv=_e.prototype,nv.clear=function(){for(;0<this.fc();)this.pop()},nv.ag=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},nv.forEach=function(t,e){this.a.forEach(t,e)},nv.pm=function(){return this.a},nv.item=function(t){return this.a[t]},nv.fc=function(){return this.get(Cv)},nv.Ge=function(t,e){this.c&&we(this,e),this.a.splice(t,0,e),xe(this),this.b(new Pe("add",e))},nv.pop=function(){return this.Bg(this.fc()-1)},nv.push=function(t){this.c&&we(this,t);var e=this.fc();return this.Ge(e,t),this.fc()},nv.remove=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)if(o[e]===t)return this.Bg(e)},nv.Bg=function(t){var e=this.a[t];return this.a.splice(t,1),xe(this),this.b(new Pe("remove",e)),e},nv.Mp=function(t,e){var n=this.fc();if(t<n)this.c&&we(this,e,t),n=this.a[t],this.a[t]=e,this.b(new Pe("remove",n)),this.b(new Pe("add",e));else{for(;n<t;++n)this.Ge(n,void 0);this.Ge(t,e)}};var Cv="length";c(Pe,le);var Mv=/^#(?:[0-9a-f]{3}){1,2}$/i,Tv=/^([a-z]*)$/i,Av=function(){var t={},e=0;return function(n){var o;if(t.hasOwnProperty(n))o=t[n];else{if(1024<=e){o=0;for(var i in t)3&o++||(delete t[i],--e)}o=n;var r;if(Tv.exec(o)&&(i=document.createElement("div"),i.style.color=o,document.body.appendChild(i),o=getComputedStyle(i).color,document.body.removeChild(i)),Mv.exec(o)){r=o.length-1,v(3==r||6==r,54);var a=3==r?1:2;r=parseInt(o.substr(1+0*a,a),16),i=parseInt(o.substr(1+1*a,a),16),o=parseInt(o.substr(1+2*a,a),16),1==a&&(r=(r<<4)+r,i=(i<<4)+i,o=(o<<4)+o),r=[r,i,o,1]}else o.indexOf("rgba(")?o.indexOf("rgb(")?v(!1,14):(o=o.slice(4,-1).split(",").map(Number),o.push(1),r=Me(o)):(o=o.slice(5,-1).split(",").map(Number),r=Me(o));o=r,t[n]=o,++e}return o}}();c(Ne,ve),Ne.prototype.ra=function(){Ie(this.element),ve.prototype.ra.call(this)},Ne.prototype.f=function(){return this.a},Ne.prototype.setMap=function(t){this.a&&Ie(this.element);for(var e=0,n=this.u.length;e<n;++e)se(this.u[e]);this.u.length=0,(this.a=t)&&((this.Z?this.Z:t.v).appendChild(this.element),this.render!==f&&this.u.push(ie(t,"postrender",this.render,this)),t.render())},Ne.prototype.i=function(t){this.Z="string"==typeof t?document.getElementById(t):t},c(Oe,Ne),nv=Oe.prototype,nv.Pm=function(t){t.preventDefault(),Re(this)},nv.Om=function(){return this.l},nv.Rm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Re(this))},nv.Qm=function(t){this.l&&this.c!==t&&Re(this)},nv.Nm=function(){return this.c},c(Be,Ne),Be.prototype.A=function(t){t.preventDefault(),this.l?this.l():(t=this.a.$())&&void 0!==t.Sa()&&(0<this.o?t.animate({rotation:0,duration:this.o,easing:Fe}):t.Ne(0))},c(Ue,Ne),Ue.prototype.j=function(t,e){e.preventDefault();var n=this.a.$();if(n){var o=n.Ra();o&&(o=n.constrainResolution(o,t),0<this.c?(n.Kc()&&n.kd(),n.animate({resolution:o,duration:this.c,easing:Fe})):n.$c(o))}},c(Ge,Ne),Ge.prototype.C=function(t){t.preventDefault(),We()&&(t=this.a)&&(ze()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.vc(),this.A?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):He(t):He(t)))},Ge.prototype.v=function(){var t=this.element.firstElementChild,e=this.a;ze()?(t.className=this.c+"-true",Le(this.o,this.l)):(t.className=this.c+"-false",Le(this.l,this.o)),e&&e.Cd()},Ge.prototype.setMap=function(t){Ne.prototype.setMap.call(this,t),t&&this.u.push(ie(document,Ev(),this.v,this))};var Ev=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();c(qe,Ne),nv=qe.prototype,nv.Sm=function(){this.j=null},nv.qh=function(){return this.get(Iv)},nv.Sh=function(){return this.get(Lv)},nv.Gl=function(t){this.l=this.a.xe(t),$e(this,this.l)},nv.Hl=function(){$e(this,null),this.l=null},nv.setMap=function(t){Ne.prototype.setMap.call(this,t),t&&(t=t.c,this.u.push(ie(t,"mousemove",this.Gl,this),ie(t,"mouseout",this.Hl,this)))},nv.fj=function(t){this.set(Iv,t)},nv.Th=function(t){this.set(Lv,t)};var Lv="projection",Iv="coordinateFormat";c(Ze,le),c(Je,Ze),Je.prototype.preventDefault=function(){Ze.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Je.prototype.stopPropagation=function(){Ze.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Nv={xq:"singleclick",mq:"click",nq:"dblclick",qq:"pointerdrag",tq:"pointermove",pq:"pointerdown",wq:"pointerup",vq:"pointerover",uq:"pointerout",rq:"pointerenter",sq:"pointerleave",oq:"pointercancel"};c(Qe,Je);var Ov,kv,Rv=["experimental-webgl","webgl","webkit-3d","moz-webgl"],Dv="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Fv=-1!==Dv.indexOf("firefox"),jv=-1!==Dv.indexOf("safari")&&-1==Dv.indexOf("chrom"),Kv=-1!==Dv.indexOf("webkit")&&-1==Dv.indexOf("edge"),Bv=-1!==Dv.indexOf("macintosh"),Xv=window.devicePixelRatio||1,Uv=!1,Yv=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Uv=!0),!0)}catch(t){return!1}}(),Gv="DeviceOrientationEvent"in window,Wv="geolocation"in navigator,zv="ontouchstart"in window,Hv="PointerEvent"in window,qv=!!navigator.msPointerEnabled,Vv=!1,$v=[];if("WebGLRenderingContext"in window)try{var Zv=tn(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Zv&&(Vv=!0,kv=Zv.getParameter(Zv.MAX_TEXTURE_SIZE),$v=Zv.getSupportedExtensions())}catch(t){}Ov=Vv,iv=$v,ov=kv,c(nn,en),nv=nn.prototype,nv.am=function(t){if(!on(this,t)){1..toString()in this.a&&this.cancel(t);var e=rn(t);this.a[1..toString()]=t,Sn(this.b,"pointerdown",e,t)}},nv.bm=function(t){if(!on(this,t)){var e=rn(t);Sn(this.b,"pointermove",e,t)}},nv.em=function(t){if(!on(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=rn(t),Sn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},nv.dm=function(t){if(!on(this,t)){var e=rn(t);Pn(this.b,e,t)}},nv.cm=function(t){if(!on(this,t)){var e=rn(t);wn(this.b,e,t)}},nv.cancel=function(t){var e=rn(t);this.b.cancel(e,t),delete this.a[1..toString()]},c(an,en),nv=an.prototype,nv.jm=function(t){this.a[t.pointerId.toString()]=t;var e=sn(this,t);Sn(this.b,"pointerdown",e,t)},nv.km=function(t){var e=sn(this,t);Sn(this.b,"pointermove",e,t)},nv.nm=function(t){var e=sn(this,t);Sn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},nv.lm=function(t){var e=sn(this,t);wn(this.b,e,t)},nv.mm=function(t){var e=sn(this,t);Pn(this.b,e,t)},nv.im=function(t){var e=sn(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},nv.hm=function(t){this.b.b(new hn("lostpointercapture",t,t))},nv.gm=function(t){this.b.b(new hn("gotpointercapture",t,t))},c(un,en),nv=un.prototype,nv.Yo=function(t){Cn(this.b,t)},nv.Zo=function(t){Cn(this.b,t)},nv.bp=function(t){Cn(this.b,t)},nv.$o=function(t){Cn(this.b,t)},nv.ap=function(t){Cn(this.b,t)},nv.Xo=function(t){Cn(this.b,t)},nv.$l=function(t){Cn(this.b,t)},nv.pl=function(t){Cn(this.b,t)},c(hn,le);var Jv=!1;try{Jv=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}c(cn,en),nv=cn.prototype,nv.dj=function(){this.f=0,this.c=void 0},nv.gq=function(t){var e=t.touches,n=Object.keys(this.a),o=n.length;if(o>=e.length){var i,r,a,s=[];for(i=0;i<o;++i){r=n[i],a=this.a[r];var u;if(!(u=1==r))t:{for(var h=e.length,p=0;p<h;p++)if(u=e[p],u.identifier===r-2){u=!0;break t}u=!1}u||s.push(a.out)}for(i=0;i<s.length;++i)this.Gf(t,s[i])}e=t.changedTouches[0],n=Object.keys(this.a).length,(!n||1===n&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),yn(this,t),this.f++,dn(this,t,this.To)},nv.To=function(t,e){this.a[e.pointerId]={target:e.target,out:e,Qi:e.target};var n=this.b;e.bubbles=!0,Sn(n,"pointerover",e,t),n=this.b,e.bubbles=!1,Sn(n,"pointerenter",e,t),Sn(this.b,"pointerdown",e,t)},nv.fq=function(t){t.preventDefault(),dn(this,t,this.fm)},nv.fm=function(t,e){var n=this.a[e.pointerId];if(n){var o=n.out,i=n.Qi;Sn(this.b,"pointermove",e,t),o&&i!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=i,o.target=i,e.target?(wn(this.b,o,t),Pn(this.b,e,t)):(e.target=i,e.relatedTarget=null,this.Gf(t,e))),n.out=e,n.Qi=e.target}},nv.eq=function(t){yn(this,t),dn(this,t,this.hq)},nv.hq=function(t,e){Sn(this.b,"pointerup",e,t),this.b.out(e,t),xn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.dj.bind(this),200))},nv.cq=function(t){dn(this,t,this.Gf)},nv.Gf=function(t,e){this.b.cancel(e,t),this.b.out(e,t),xn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.dj.bind(this),200))},c(vn,fe),vn.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},vn.prototype.out=function(t,e){t.bubbles=!0,Sn(this,"pointerout",t,e)},vn.prototype.cancel=function(t,e){Sn(this,"pointercancel",t,e)},vn.prototype.ra=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],bn(this,Object.keys(t.i));fe.prototype.ra.call(this)};var Qv=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];c(Mn,fe),nv=Mn.prototype,nv.Ch=function(t){An(this,t);var e=new Qe("pointerup",this.c,t);this.b(e),this.l||t.button||Tn(this,this.g),this.O||(this.i.forEach(se),this.i.length=0,this.l=!1,this.g=null,pe(this.a),this.a=null)},nv.Jl=function(t){An(this,t);var e=new Qe("pointerdown",this.c,t);this.b(e),this.g=t,this.i.length||(this.a=new vn(document),this.i.push(ie(this.a,"pointermove",this.Dm,this),ie(this.a,"pointerup",this.Ch,this),ie(this.f,"pointercancel",this.Ch,this)))},nv.Dm=function(t){if(t.clientX!=this.g.clientX||t.clientY!=this.g.clientY){this.l=!0;var e=new Qe("pointerdrag",this.c,t,this.l);this.b(e)}t.preventDefault()},nv.Bp=function(t){this.b(new Qe(t.type,this.c,t,!(!this.g||t.clientX==this.g.clientX&&t.clientY==this.g.clientY)))},nv.ra=function(){this.u&&(se(this.u),this.u=null),this.o&&(se(this.o),this.o=null),this.i.forEach(se),this.i.length=0,this.a&&(pe(this.a),this.a=null),this.f&&(pe(this.f),this.f=null),fe.prototype.ra.call(this)},En.prototype.clear=function(){this.b.length=0,this.g.length=0,ut(this.a)},En.prototype.i=function(t){v(!(this.c(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Nn(this,0,this.b.length-1),!0)},c(kn,En),kn.prototype.i=function(t){var e=En.prototype.i.call(this,t);return e&&ie(t[0],"change",this.l,this),e},kn.prototype.l=function(t){t=t.target;var e=t.V();2!==e&&3!==e&&4!==e&&5!==e||(ae(t,"change",this.l,this),t=t.hb(),t in this.f&&(delete this.f[t],--this.j),this.u())},c(oo,ve),nv=oo.prototype,nv.Ab=function(t,e){var n=e?e:[NaN,NaN];return this.Hb(t[0],t[1],n,1/0),n},nv.sb=function(t){return this.Sc(t[0],t[1])},nv.Sc=no,nv.D=function(t){this.u!=this.g&&(this.o=this.se(this.o),this.u=this.g);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},nv.Qb=function(t){return this.Td(t*t)},nv.tb=function(t,e){return this.Fc(Et(t,e)),this},c(ao,oo),nv=ao.prototype,nv.Sc=no,nv.se=function(t){return U(this.B,0,this.B.length,this.a,t)},nv.cc=function(){return this.B.slice(0,this.a)},nv.ia=function(){return this.B},nv.dc=function(){return this.B.slice(this.B.length-this.a)},nv.ec=function(){return this.la},nv.Td=function(t){if(this.l!=this.g&&(ut(this.i),this.f=0,this.l=this.g),0>t||this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n=this.od(t);return n.ia().length<this.B.length?this.i[e]=n:(this.f=t,this)},nv.od=function(){return this},nv.sa=function(){return this.a},nv.Fc=function(t){this.B&&(t(this.B,this.B,this.a),this.s())},nv.rotate=function(t,e){var n=this.ia();if(n){for(var o=n.length,i=this.sa(),r=n?n:[],a=Math.cos(t),s=Math.sin(t),u=e[0],h=e[1],p=0,l=0;l<o;l+=i){var c=n[l]-u,f=n[l+1]-h;for(r[p++]=u+c*a-f*s,r[p++]=h+c*s+f*a,c=l+2;c<l+i;++c)r[p++]=n[c]}n&&r.length!=p&&(r.length=p),this.s()}},nv.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;if(i||(i=Z(this.D())),n=this.ia()){e=n.length;for(var r=this.sa(),a=n?n:[],s=i[0],i=i[1],u=0,h=0;h<e;h+=r){var p=n[h]-s,l=n[h+1]-i;for(a[u++]=s+t*p,a[u++]=i+o*l,p=h+2;p<h+r;++p)a[u++]=n[p]}n&&a.length!=u&&(a.length=u),this.s()}},nv.translate=function(t,e){var n=this.ia();n&&(ro(n,n.length,this.sa(),t,e,n),this.s())},c(Co,ao),nv=Co.prototype,nv.clone=function(){var t=new Co(null);return Mo(t,this.la,this.B.slice()),t},nv.Hb=function(t,e,n,o){return o<k(this.D(),t,e)?o:(this.c!=this.g&&(this.j=Math.sqrt(fo(this.B,0,this.B.length,this.a,0)),this.c=this.g),vo(this.B,0,this.B.length,this.a,this.j,!0,t,e,n,o))},nv.jn=function(){return po(this.B,0,this.B.length,this.a)},nv.W=function(){return xo(this.B,0,this.B.length,this.a)},nv.od=function(t){var e=[];return e.length=Po(this.B,0,this.B.length,this.a,t,e,0),t=new Co(null),Mo(t,"XY",e),t},nv.S=function(){return"LinearRing"},nv.Ya=function(){},nv.pa=function(t,e){t?(ho(this,e,t,1),this.B||(this.B=[]),this.B.length=bo(this.B,0,t,this.a),this.s()):Mo(this,"XY",null)},c(To,ao),nv=To.prototype,nv.clone=function(){var t=new To(null);return t.ca(this.la,this.B.slice()),t},nv.Hb=function(t,e,n,o){var i=this.B;if(t=S(t,e,i[0],i[1]),t<o){for(o=this.a,e=0;e<o;++e)n[e]=i[e];return n.length=o,t}return o},nv.W=function(){return this.B?this.B.slice():[]},nv.se=function(t){return X(this.B,t)},nv.S=function(){return"Point"},nv.Ya=function(t){return F(t,this.B[0],this.B[1])},nv.pa=function(t,e){t?(ho(this,e,t,0),this.B||(this.B=[]),this.B.length=mo(this.B,t),this.s()):this.ca("XY",null)},nv.ca=function(t,e){uo(this,t,e),this.s()},c(Ko,ao),nv=Ko.prototype,nv.kk=function(t){this.B?a(this.B,t.ia()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},nv.clone=function(){var t=new Ko(null);return t.ca(this.la,this.B.slice(),this.c.slice()),t},nv.Hb=function(t,e,n,o){return o<k(this.D(),t,e)?o:(this.C!=this.g&&(this.G=Math.sqrt(yo(this.B,0,this.c,this.a,0)),this.C=this.g),go(this.B,0,this.c,this.a,this.G,!0,t,e,n,o))},nv.Sc=function(t,e){return Lo(this.gc(),0,this.c,this.a,t,e)},nv.mn=function(){return lo(this.gc(),0,this.c,this.a)},nv.W=function(t){var e;return void 0!==t?(e=this.gc().slice(),Fo(e,0,this.c,this.a,t)):e=this.B,wo(e,0,this.c,this.a)},nv.Sb=function(){return this.c},nv.Ok=function(){return new To(Bo(this))},nv.Uk=function(){return this.c.length},nv.vh=function(t){if(0>t||this.c.length<=t)return null;var e=new Co(null);return Mo(e,this.la,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},nv.Oc=function(){var t,e,n=this.la,o=this.B,i=this.c,r=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],u=new Co(null);Mo(u,n,o.slice(a,s)),r.push(u),a=s}return r},nv.gc=function(){if(this.I!=this.g){var t=this.B;Do(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=Fo(this.j,0,this.c,this.a)),this.I=this.g}return this.j},nv.od=function(t){var e=[],n=[];return e.length=So(this.B,0,this.c,this.a,Math.sqrt(t),e,0,n),t=new Ko(null),t.ca("XY",e,n),t},nv.S=function(){return"Polygon"},nv.Ya=function(t){return ko(this.gc(),0,this.c,this.a,t)},nv.pa=function(t,e){if(t){ho(this,e,t,2),this.B||(this.B=[]);var n=_o(this.B,0,t,this.a,this.c);this.B.length=n.length?n[n.length-1]:0,this.s()}else this.ca("XY",null,this.c)},nv.ca=function(t,e,n){uo(this,t,e),this.c=n,this.s()},c(Wo,ve),nv=Wo.prototype,nv.animate=function(t){var e,n=Date.now(),o=this.za().slice(),i=this.Ra(),r=this.Sa(),a=arguments.length;1<a&&"function"==typeof arguments[a-1]&&(e=arguments[a-1],--a);for(var s=[],u=0;u<a;++u){var h=arguments[u],p={start:n,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||je};h.center&&(p.Jg=o,p.Lg=h.center,o=p.Lg),void 0!==h.zoom?(p.sf=i,p.Bd=this.constrainResolution(this.a,h.zoom-this.l,0),i=p.Bd):h.resolution&&(p.sf=i,p.Bd=h.resolution,i=p.Bd),void 0!==h.rotation&&(p.Kg=r,p.tf=h.rotation,r=p.tf),p.jd=e,n+=p.duration,s.push(p)}this.c.push(s),ni(this,0,1),this.vf()},nv.Kc=function(){return 0<Zo(this)[0]},nv.kd=function(){ni(this,0,-Zo(this)[0]);for(var t=0,e=this.c.length;t<e;++t){var n=this.c[t];n[0].jd&&n[0].jd(!1)}this.c.length=0},nv.vf=function(){if(void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0),this.Kc()){for(var t=Date.now(),e=!1,n=this.c.length-1;0<=n;--n){for(var o=this.c[n],i=!0,r=0,a=o.length;r<a;++r){var s=o[r];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):i=!1,e=s.easing(e),s.Jg){var u=s.Jg[0],h=s.Jg[1];this.set("center",[u+e*(s.Lg[0]-u),h+e*(s.Lg[1]-h)])}if(s.sf&&s.Bd&&(u=1===e?s.Bd:s.sf+e*(s.Bd-s.sf),s.anchor&&this.set("center",Vo(this,u,s.anchor)),this.set("resolution",u)),void 0!==s.Kg&&void 0!==s.tf&&(e=1===e?s.tf:s.Kg+e*(s.tf-s.Kg),s.anchor&&this.set("center",qo(this,e,s.anchor)),this.set("rotation",e)),e=!0,!s.complete)break}}i&&(this.c[n]=null,ni(this,0,-1),(o=o[0].jd)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.u&&(this.u=requestAnimationFrame(this.vf))}},nv.Gc=function(t){return this.v.center(t)},nv.constrainResolution=function(t,e,n){return this.v.resolution(t,e||0,n||0)},nv.constrainRotation=function(t,e){return this.v.rotation(t,e||0)},nv.za=function(){return this.get("center")},nv.hd=function(t){t=t||$o(this);var e=this.za();v(e,1);var n=this.Ra();v(void 0!==n,2);var o=this.Sa();return v(void 0!==o,3),J(e,n,o,t)},nv.Hm=function(){return this.a},nv.Jm=function(){return this.i},nv.Im=function(){return this.Be(this.i)},nv.Up=function(t){zo(this,Ho(this,{maxZoom:t}))},nv.Km=function(){return this.Be(this.a)},nv.Vp=function(t){zo(this,Ho(this,{minZoom:t}))},nv.Lm=function(){return this.o},nv.Ra=function(){return this.get("resolution")},nv.Mm=function(){return this.f},nv.Sa=function(){return this.get("rotation")},nv.V=function(){var t=this.za(),e=this.o,n=this.Ra(),o=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:o}},nv.Ah=function(){var t,e=this.Ra();return void 0!==e&&(t=this.Be(e)),t},nv.Be=function(t){var e;if(t>=this.i&&t<=this.a){e=this.l||0;var n,o;if(this.f){if(o=r(this.f,t,1),e+=o,o==this.f.length-1)return e;n=this.f[o],o=n/this.f[o+1]}else n=this.a,o=this.C;e+=Math.log(n/t)/Math.log(o)}return e},nv.Mf=function(t,e){var n=e||{},o=n.size;o||(o=$o(this));var i;t instanceof ao?"Circle"===t.S()?(t=t.D(),i=Uo(t),i.rotate(this.Sa(),Z(t))):i=t:(v(Array.isArray(t),24),v(!rt(t),25),i=Uo(t));var r,a=n.padding?n.padding:[0,0,0,0],s=void 0===n.constrainResolution||n.constrainResolution,u=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.a,n.maxZoom-this.l,0):0;var h=i.ia(),p=this.Sa(),l=Math.cos(-p),p=Math.sin(-p),c=1/0,f=1/0,d=-(1/0),y=-(1/0);i=i.sa();for(var g=0,m=h.length;g<m;g+=i)var b=h[g]*l-h[g+1]*p,_=h[g]*p+h[g+1]*l,c=Math.min(c,b),f=Math.min(f,_),d=Math.max(d,b),y=Math.max(y,_);o=Jo([c,f,d,y],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]),o=isNaN(o)?r:Math.max(o,r),s&&(s=this.constrainResolution(o,0,0),!u&&s<o&&(s=this.constrainResolution(s,-1,0)),o=s),p=-p,u=(c+d)/2+(a[1]-a[3])/2*o,a=(f+y)/2+(a[0]-a[2])/2*o,l=[u*l-a*p,a*l+u*p],void 0!==n.duration?this.animate({resolution:o,center:l,duration:n.duration,easing:n.easing}):(this.$c(o),this.lb(l))},nv.qk=function(t,e,n){var o=this.Sa(),i=Math.cos(-o),o=Math.sin(-o),r=t[0]*i-t[1]*o;t=t[1]*i+t[0]*o;var a=this.Ra(),r=r+(e[0]/2-n[0])*a;t+=(n[1]-e[1]/2)*a,o=-o,this.lb([r*i-t*o,t*i+r*o])},nv.rotate=function(t,e){if(void 0!==e){var n=qo(this,t,e);this.lb(n)}this.Ne(t)},nv.lb=function(t){this.set("center",t),this.Kc()&&this.kd()},nv.$c=function(t){this.set("resolution",t),this.Kc()&&this.kd()},nv.Ne=function(t){this.set("rotation",t),this.Kc()&&this.kd()},nv.aq=function(t){t=this.constrainResolution(this.a,t-this.l,0),this.$c(t)},c(ri,ve),ri.prototype.c=function(){return this.get("active")},ri.prototype.i=function(){return this.v},ri.prototype.Ia=function(t){this.set("active",t)},ri.prototype.setMap=function(t){
this.v=t},c(hi,ri),c(_i,ri),_i.prototype.bd=function(t){return t},c(Pi,_i),Pi.prototype.bd=no,c(Ti,_i),Ti.prototype.bd=no,c(Ii,he),Ii.prototype.ra=function(){this.setMap(null)},Ii.prototype.setMap=function(t){if(this.b){this.b.A.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.A.appendChild(this.a)},Ii.prototype.U=function(){return this.Ic},c(ki,_i),ki.prototype.U=function(){return this.a.U()},ki.prototype.j=f;var tg="boxstart",eg="boxdrag",ng="boxend";c(Ki,le),c(Bi,ki),Bi.prototype.j=function(){var t=this.v,e=t.$(),n=t.Nb(),o=this.U().D();if(this.I){var i,r,a=e.hd(n),o=[t.Ka(V(o)),t.Ka(nt(o))],t=B(1/0,1/0,-(1/0),-(1/0),void 0);for(i=0,r=o.length;i<r;++i)W(t,o[i]);at(a,1/Jo(t,n)),o=a}n=e.constrainResolution(Jo(o,n)),a=Z(o),a=e.Gc(a),e.animate({resolution:n,center:a,duration:this.G,easing:Fe})},c(Xi,ri),c(Yi,ri),c(Wi,ri),Wi.prototype.G=function(){this.o=void 0,ni(this.v.$(),1,-1)},Wi.prototype.I=function(t){t=t.$(),t.Kc()&&t.kd(),si(t,-x(this.j,-1,1),this.a,this.A),this.l=void 0,this.j=0,this.a=null,this.u=this.f=void 0},Wi.prototype.T=function(t){this.C=t,t||(this.a=null)};var og="trackpad",ig="wheel";c(Hi,_i),Hi.prototype.bd=no,c(Zi,_i),Zi.prototype.bd=no,c(nr,ve),nv=nr.prototype,nv.D=function(){return this.get("extent")},nv.hc=function(){return this.get("maxResolution")},nv.ic=function(){return this.get("minResolution")},nv.jc=function(){return this.get("opacity")},nv.Lb=function(){return this.get("visible")},nv.Aa=function(){return this.get("zIndex")},nv.xc=function(t){this.set("extent",t)},nv.Cc=function(t){this.set("maxResolution",t)},nv.Dc=function(t){this.set("minResolution",t)},nv.yc=function(t){this.set("opacity",t)},nv.zc=function(t){this.set("visible",t)},nv.Xb=function(t){this.set("zIndex",t)},c(ir,nr),nv=ir.prototype,nv.Gd=function(){},nv.Ee=function(){this.Lb()&&this.s()},nv.Cl=function(){this.i.forEach(se),this.i.length=0;var t=this.sd();this.i.push(ie(t,"add",this.Bl,this),ie(t,"remove",this.Dl,this));for(var e in this.c)this.c[e].forEach(se);ut(this.c);var n,o,t=t.a;for(e=0,n=t.length;e<n;e++)o=t[e],this.c[d(o).toString()]=[ie(o,"propertychange",this.Ee,this),ie(o,"change",this.Ee,this)];this.s()},nv.Bl=function(t){t=t.element;var e=d(t).toString();this.c[e]=[ie(t,"propertychange",this.Ee,this),ie(t,"change",this.Ee,this)],this.s()},nv.Dl=function(t){t=d(t.element).toString(),this.c[t].forEach(se),delete this.c[t],this.s()},nv.sd=function(){return this.get(rg)},nv.pi=function(t){this.set(rg,t)},nv.Tf=function(t){var e=void 0!==t?t:[],n=e.length;this.sd().forEach(function(t){t.Tf(e)}),t=or(this);var o,i;for(o=e.length;n<o;n++)i=e[n],i.opacity*=t.opacity,i.visible=i.visible&&t.visible,i.maxResolution=Math.min(i.maxResolution,t.maxResolution),i.minResolution=Math.max(i.minResolution,t.minResolution),void 0!==t.extent&&(i.extent=void 0!==i.extent?tt(i.extent,t.extent):t.extent);return e},nv.Vf=function(){return"ready"};var rg="layers";c(rr,nr),nv=rr.prototype,nv.Tf=function(t){return t=t?t:[],t.push(or(this)),t},nv.ka=function(){return this.get("source")||null},nv.Vf=function(){var t=this.ka();return t?t.V():"undefined"},nv.Ln=function(){this.s()},nv.Pl=function(){this.v&&(se(this.v),this.v=null);var t=this.ka();t&&(this.v=ie(t,"change",this.Ln,this)),this.s()},nv.setMap=function(t){this.l&&(se(this.l),this.l=null),t||this.s(),this.o&&(se(this.o),this.o=null),t&&(this.l=ie(t,"precompose",function(t){var e=or(this);e.Ie=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[d(this)]=e},this),this.o=ie(this,"change",t.render,t),this.s())},nv.ad=function(t){this.set("source",t)},sr.prototype.clear=function(){this.b={},this.a=0},sr.prototype.get=function(t,e,n){return t=e+":"+t+":"+(n?Ce(n):"null"),t in this.b?this.b[t]:null},sr.prototype.set=function(t,e,n,o){this.b[e+":"+t+":"+(n?Ce(n):"null")]=o,++this.a};var ag=new sr,sg=Array(6);c(br,he),nv=br.prototype,nv.ra=function(){for(var t in this.c)pe(this.c[t])},nv.Ba=function(t,e,n,o,i,r,a){function s(t,n){var r=d(t).toString(),a=e.layerStates[d(n)].Ie;if(!(r in e.skippedFeatureUids)||a)return o.call(i,t,a?n:null)}var u,h=e.viewState,p=h.resolution,l=h.projection,h=t;if(l.a){var l=l.D(),c=ot(l),f=t[0];(f<l[0]||f>l[2])&&(h=[f+c*Math.ceil((l[0]-f)/c),t[1]])}for(l=e.layerStatesArray,c=l.length-1;0<=c;--c){var y=l[c],f=y.layer;if(ar(y,p)&&r.call(a,f)&&(y=wr(this,f),f.ka()&&(u=y.Ba(f.ka().G?h:t,e,n,s,i)),u))return u}},nv.xi=function(t,e,n,o,i){return void 0!==this.Ba(t,e,n,eo,this,o,i)},nv.Al=function(){this.l.render()},nv.Dg=f,nv.Hp=function(t,e){for(var n in this.c)if(!(e&&n in e.layerStates)){var o=n,i=this.c[o];delete this.c[o],se(this.u[o]),delete this.u[o],pe(i)}},c(Cr,le);var ug=[0,0,0,1],hg=[],pg=[0,0,0,1];nv=Tr.prototype,nv.oc=function(){},nv.td=function(){},nv.ac=function(){},nv.te=function(){},nv.ue=function(){},nv.Rb=function(){},nv.pc=function(){},nv.qc=function(){},nv.rc=function(){},nv.sc=function(){},nv.tc=function(){},nv.Ac=function(){},nv.Na=function(){},nv.Wb=function(){},nv.Ub=function(){},c(Ar,Tr),nv=Ar.prototype,nv.ac=function(t){if(it(this.c,t.D())){if(this.a||this.b){this.a&&Or(this,this.a),this.b&&kr(this,this.b);var e;e=this.O;var n=this.u,o=t.ia();e=o?io(o,0,o.length,t.sa(),e,n):null,n=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(n*n+o*o),o=this.g,o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.Fa&&Lr(this,t.za(),2,2)}},nv.td=function(t){this.Na(t.Ca(),t.Da()),this.Wb(t.Y()),this.Ub(t.Oa())},nv.oc=function(t){switch(t.S()){case"Point":this.sc(t);break;case"LineString":this.Rb(t);break;case"Polygon":this.tc(t);break;case"MultiPoint":this.qc(t);break;case"MultiLineString":this.pc(t);break;case"MultiPolygon":this.rc(t);break;case"GeometryCollection":this.ue(t);break;case"Circle":this.ac(t)}},nv.te=function(t,e){var n=(0,e.Qa)(t);n&&it(this.c,n.D())&&(this.td(e),this.oc(n))},nv.ue=function(t){t=t.a;var e,n;for(e=0,n=t.length;e<n;++e)this.oc(t[e])},nv.sc=function(t){var e=t.ia();t=t.sa(),this.N&&Er(this,e,e.length),""!==this.Fa&&Lr(this,e,e.length,t)},nv.qc=function(t){var e=t.ia();t=t.sa(),this.N&&Er(this,e,e.length),""!==this.Fa&&Lr(this,e,e.length,t)},nv.Rb=function(t){if(it(this.c,t.D())){if(this.b){kr(this,this.b);var e=this.g,n=t.ia();e.beginPath(),Ir(this,n,0,n.length,t.sa(),!1),e.stroke()}""!==this.Fa&&(t=Mu(t),Lr(this,t,2,2))}},nv.pc=function(t){var e=t.D();if(it(this.c,e)){if(this.b){kr(this,this.b);var e=this.g,n=t.ia(),o=0,i=t.Sb(),r=t.sa();e.beginPath();var a,s;for(a=0,s=i.length;a<s;++a)o=Ir(this,n,o,i[a],r,!1);e.stroke()}""!==this.Fa&&(t=Au(t),Lr(this,t,t.length,2))}},nv.tc=function(t){if(it(this.c,t.D())){if(this.b||this.a){this.a&&Or(this,this.a),this.b&&kr(this,this.b);var e=this.g;e.beginPath(),Nr(this,t.gc(),0,t.Sb(),t.sa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.Fa&&(t=Bo(t),Lr(this,t,2,2))}},nv.rc=function(t){if(it(this.c,t.D())){if(this.b||this.a){this.a&&Or(this,this.a),this.b&&kr(this,this.b);var e,n,o=this.g,i=Ou(t),r=0,a=t.c,s=t.sa();for(o.beginPath(),e=0,n=a.length;e<n;++e)r=Nr(this,i,r,a[e],s);this.a&&o.fill(),this.b&&o.stroke()}""!==this.Fa&&(t=Nu(t),Lr(this,t,t.length,2))}},nv.Na=function(t,e){if(t){var n=t.b;this.a={fillStyle:Te(n?n:ug)}}else this.a=null;if(e){var n=e.a,o=e.i,i=e.g,r=e.f,a=e.j,s=e.c,u=e.l;this.b={lineCap:void 0!==o?o:"round",lineDash:i?i:hg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:this.v*(void 0!==s?s:1),miterLimit:void 0!==u?u:10,strokeStyle:Te(n?n:pg)}}else this.b=null},nv.Wb=function(t){if(t){var e=t.Jc(),n=t.Y(1),o=t.Tc(),i=t.kc();this.A=e[0],this.C=e[1],this.G=i[1],this.N=n,this.o=t.f,this.T=o[0],this.ea=o[1],this.fa=t.o,this.mb=t.j,this.i=t.c,this.na=t.u,this.qa=i[0]}else this.N=null},nv.Ub=function(t){if(t){var e=t.Ca();e?(e=e.b,this.f={fillStyle:Te(e?e:ug)}):this.f=null;var n=t.Da();if(n){var e=n.a,o=n.i,i=n.g,r=n.f,a=n.j,s=n.c,n=n.l;this.l={lineCap:void 0!==o?o:"round",lineDash:i?i:hg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==n?n:10,strokeStyle:Te(e?e:pg)}}else this.l=null;var e=t.a,o=t.g,i=t.c,r=t.l,a=t.i,s=t.b,n=t.Oa(),u=t.f;t=t.j,this.ta={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==u?u:"center",textBaseline:void 0!==t?t:"middle"},this.Fa=void 0!==n?n:"",this.$b=void 0!==o?this.v*o:0,this.Ja=void 0!==i?this.v*i:0,this.Ha=void 0!==r&&r,this.Va=void 0!==a?a:0,this.j=this.v*(void 0!==s?s:1)}else this.Fa=""},c(Rr,br),Rr.prototype.S=function(){return"canvas"},Rr.prototype.Dg=function(t){if(t){var e=this.g,n=t.pixelRatio,o=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.b.width!=o||this.b.height!=i?(this.b.width=o,this.b.height=i):e.clearRect(0,0,o,i),n=t.viewState.rotation,_r(t),Dr(this,"precompose",t);var r=t.layerStatesArray;h(r),n&&(e.save(),Mr(e,n,o/2,i/2));var a,s,u,o=t.viewState.resolution,i=0;for(a=r.length;i<a;++i)u=r[i],s=u.layer,s=wr(this,s),ar(u,o)&&"ready"==u.uj&&s.ud(t,u)&&s.O(t,u,e);n&&e.restore(),Dr(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Pr(this,t),t.postRenderFunctions.push(xr)}else this.a&&(this.b.style.display="none",this.a=!1)},Rr.prototype.wi=function(t,e,n,o,i,r){var a,s=e.viewState.resolution,u=e.layerStatesArray,h=u.length;for(t=fr(e.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){a=u[h];var p=a.layer;if(ar(a,s)&&i.call(r,p)&&(a=wr(this,p).v(t,e,n,o)))return a}};var lg=["Polygon","Circle","LineString","Image","Text"];c(Kr,jr),Kr.prototype.S=function(){return 35632},c(Br,jr),Br.prototype.S=function(){return 35633},c(Xr,Kr);var cg=new Xr;c(Ur,Br);var fg=new Ur;c(zr,Tr),zr.prototype.i=function(t,e,n,o,i,r,a,s,u,h,p){var l,c,f,d,y,v,g,m,b=t.b;this.j&&(l=b.isEnabled(b.STENCIL_TEST),c=b.getParameter(b.STENCIL_FUNC),f=b.getParameter(b.STENCIL_VALUE_MASK),d=b.getParameter(b.STENCIL_REF),y=b.getParameter(b.STENCIL_WRITEMASK),v=b.getParameter(b.STENCIL_FAIL),g=b.getParameter(b.STENCIL_PASS_DEPTH_PASS),m=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilMask(255),b.stencilFunc(b.ALWAYS,1,255),b.stencilOp(b.KEEP,b.KEEP,b.REPLACE),this.j.i(t,e,n,o,i,r,a,s,u,h,p),b.stencilMask(0),b.stencilFunc(b.NOTEQUAL,1,255)),na(t,34962,this.u),na(t,34963,this.o),r=this.qf(b,t,i,r);var _=hr(this.Gb);yr(_,2/(n*i[0]),2/(n*i[1])),dr(_,-o),vr(_,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),e=hr(this.yb),yr(e,2/i[0],2/i[1]),i=hr(this.Va),o&&dr(i,-o),b.uniformMatrix4fv(r.g,!1,Wr(this.Ja,_)),b.uniformMatrix4fv(r.i,!1,Wr(this.Ja,e)),b.uniformMatrix4fv(r.c,!1,Wr(this.Ja,i)),b.uniform1f(r.a,a);var x;return u?(h?t=this.ve(b,t,s,u,p):(b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.Pd(b,t,s,!0),t=(t=u(null))?t:void 0),x=t):this.Pd(b,t,s,!1),this.rf(b,r),this.j&&(l||b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(c,d,f),b.stencilMask(y),b.stencilOp(v,m,g)),x};var dg=[0,0,0,1],yg=[],vg=[0,0,0,1],gg=Number.EPSILON||2.220446049250313e-16,mg=35044;c($r,zr),nv=$r.prototype,nv.ac=function(t,e){var n=t.Yd(),o=t.sa();if(n){this.g.push(this.b.length),this.f.push(e),this.c.s&&(this.O.push(this.b.length),this.c.s=!1),this.A=n;var i,n=t.ia(),n=ro(n,2,o,-this.origin[0],-this.origin[1]),r=this.a.length,a=this.b.length,s=r/4;for(i=0;2>i;i+=o)this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=0,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=1,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=2,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=3,this.a[r++]=this.A,this.b[a++]=s,this.b[a++]=s+1,this.b[a++]=s+2,this.b[a++]=s+2,this.b[a++]=s+3,this.b[a++]=s,s+=4}else this.c.s&&(this.l.pop(),this.l.length&&(o=this.l[this.l.length-1],this.c.fillColor=o[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.s=!1))},nv.Bb=function(){this.u=new Vr(this.a),this.o=new Vr(this.b),this.g.push(this.b.length),!this.O.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},nv.Cb=function(t){var e=this.u,n=this.o;return function(){oa(t,e),oa(t,n)}},nv.qf=function(t,e,n,o){var i,r=aa(e,cg,fg);return this.v?i=this.v:this.v=i=new Yr(t,r),e.Vc(r),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,16,0),t.enableVertexAttribArray(i.j),t.vertexAttribPointer(i.j,1,5126,!1,16,8),t.enableVertexAttribArray(i.O),t.vertexAttribPointer(i.O,1,5126,!1,16,12),t.uniform2fv(i.I,n),t.uniform1f(i.ta,o),i},nv.rf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.O)},nv.Pd=function(t,e,n){if(pt(n)){var o,i,r;for(i=this.g[this.g.length-1],n=this.O.length-1;0<=n;--n)o=this.O[n],r=this.l[n],t.uniform4fv(this.v.G,r[0]),Zr(this,t,r[1],r[2]),Hr(t,e,o,i),i=o}else{var a,s,u,h;for(u=this.g.length-2,r=i=this.g[u+1],o=this.O.length-1;0<=o;--o){for(a=this.l[o],t.uniform4fv(this.v.G,a[0]),Zr(this,t,a[1],a[2]),a=this.O[o];0<=u&&this.g[u]>=a;)h=this.g[u],s=this.f[u],s=d(s).toString(),n[s]&&(i!==r&&Hr(t,e,i,r),r=h),u--,i=h;i!==r&&Hr(t,e,i,r),i=r=a}}},nv.ve=function(t,e,n,o,i){var r,a,s,u,h,p,l;for(l=this.g.length-2,s=this.g[l+1],r=this.O.length-1;0<=r;--r)for(a=this.l[r],t.uniform4fv(this.v.G,a[0]),Zr(this,t,a[1],a[2]),u=this.O[r];0<=l&&this.g[l]>=u;){if(a=this.g[l],h=this.f[l],p=d(h).toString(),void 0===n[p]&&h.U()&&(void 0===i||it(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hr(t,e,a,s),s=o(h)))return s;l--,s=a}},nv.Na=function(t,e){var n,o;e?(n=e.g,this.c.lineDash=n?n:yg,n=e.f,this.c.lineDashOffset=n?n:0,n=e.a,n=n instanceof CanvasGradient||n instanceof CanvasPattern?vg:Se(n).map(function(t,e){return 3!=e?t/255:t})||vg,o=e.c,o=void 0!==o?o:1):(n=[0,0,0,0],o=0);var i=t?t.b:[0,0,0,0];i=i instanceof CanvasGradient||i instanceof CanvasPattern?dg:Se(i).map(function(t,e){return 3!=e?t/255:t})||dg,this.c.strokeColor&&u(this.c.strokeColor,n)&&this.c.fillColor&&u(this.c.fillColor,i)&&this.c.lineWidth===o||(this.c.s=!0,this.c.fillColor=i,this.c.strokeColor=n,this.c.lineWidth=o,this.l.push([i,n,o]))},c(Jr,Kr);var bg=new Jr;c(Qr,Br);var _g=new Qr;c(ea,he),nv=ea.prototype,nv.ra=function(){ue(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.o),t.deleteTexture(this.u)}},nv.Mo=function(){return this.b},nv.No=function(){ut(this.a),ut(this.c),ut(this.g),this.o=this.u=this.i=this.l=null},nv.Oo=function(){},nv.Vc=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},c(pa,zr),nv=pa.prototype,nv.Cb=function(t){var e=this.u,n=this.o,o=this.Ha,i=this.O,r=t.b;return function(){if(!r.isContextLost()){var a,s;for(a=0,s=o.length;a<s;++a)r.deleteTexture(o[a]);for(a=0,s=i.length;a<s;++a)r.deleteTexture(i[a])}oa(t,e),oa(t,n)}},nv.qc=function(t,e){this.g.push(this.b.length),this.f.push(e);var n=t.ia();la(this,n,n.length,t.sa())},nv.sc=function(t,e){this.g.push(this.b.length),this.f.push(e);var n=t.ia();la(this,n,n.length,t.sa())},nv.Bb=function(t){t=t.b,this.A.push(this.b.length),this.v.push(this.b.length),this.u=new Vr(this.a),this.o=new Vr(this.b);var e={};ca(this.Ha,this.l,e,t),ca(this.O,this.c,e,t),this.ta=this.G=this.C=void 0,this.c=this.l=null,this.Z=this.I=void 0,this.b=null,this.na=this.mb=this.fa=this.ea=this.T=this.$a=void 0,this.a=null,this.$b=void 0},nv.qf=function(t,e){var n,o=aa(e,bg,_g);return this.qa?n=this.qa:this.qa=n=new ta(t,o),e.Vc(o),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,32,0),t.enableVertexAttribArray(n.u),t.vertexAttribPointer(n.u,2,5126,!1,32,8),t.enableVertexAttribArray(n.C),t.vertexAttribPointer(n.C,2,5126,!1,32,16),t.enableVertexAttribArray(n.v),t.vertexAttribPointer(n.v,1,5126,!1,32,24),t.enableVertexAttribArray(n.A),t.vertexAttribPointer(n.A,1,5126,!1,32,28),n},nv.rf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.u),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.A)},nv.Pd=function(t,e,n,o){var i=o?this.O:this.Ha;if(o=o?this.v:this.A,pt(n)){var r,a;for(n=0,r=i.length,a=0;n<r;++n){t.bindTexture(3553,i[n]);var s=o[n];Hr(t,e,a,s),a=s}}else for(a=r=0,s=i.length;a<s;++a){t.bindTexture(3553,i[a]);for(var u=0<a?o[a-1]:0,h=o[a],p=u;r<this.g.length&&this.g[r]<=h;){var l=d(this.f[r]).toString();void 0!==n[l]?(p!==u&&Hr(t,e,p,u),u=p=r===this.g.length-1?h:this.g[r+1]):u=r===this.g.length-1?h:this.g[r+1],r++}p!==u&&Hr(t,e,p,u)}},nv.ve=function(t,e,n,o,i){var r,a,s,u,h,p,l=this.g.length-1;for(r=this.O.length-1;0<=r;--r)for(t.bindTexture(3553,this.O[r]),a=0<r?this.v[r-1]:0,u=this.v[r];0<=l&&this.g[l]>=a;){if(s=this.g[l],h=this.f[l],p=d(h).toString(),void 0===n[p]&&h.U()&&(void 0===i||it(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hr(t,e,s,u),u=o(h)))return u;u=s,l--}},nv.Wb=function(t){var e=t.Jc(),n=t.Y(1),o=t.ye(),i=t.kg(1),r=t.f,a=t.Tc(),s=t.o,u=t.j,h=t.kc();t=t.c;var p;this.l.length?(p=this.l[this.l.length-1],d(p)!=d(n)&&(this.A.push(this.b.length),this.l.push(n))):this.l.push(n),this.c.length?(p=this.c[this.c.length-1],d(p)!=d(i)&&(this.v.push(this.b.length),this.c.push(i))):this.c.push(i),this.C=e[0],this.G=e[1],this.ta=h[1],this.I=o[1],this.Z=o[0],this.$a=r,this.T=a[0],this.ea=a[1],this.mb=u,this.fa=s,this.na=t,this.$b=h[0]},c(da,Kr);var xg=new da;c(ya,Br);var wg=new ya;c(ga,zr),nv=ga.prototype,nv.Rb=function(t,e){var n=t.ia(),o=t.sa();_a(n,n.length,o)&&(n=ro(n,n.length,o,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.g.push(this.b.length),this.f.push(e),ma(this,n,n.length,o))},nv.pc=function(t,e){var n,o,i=this.b.length,r=t.Nc();for(n=0,o=r.length;n<o;++n){var a=r[n].ia(),s=r[n].sa();_a(a,a.length,s)&&(a=ro(a,a.length,s,-this.origin[0],-this.origin[1]),ma(this,a,a.length,s))}this.b.length>i&&(this.g.push(i),this.f.push(e),this.c.s&&(this.l.push(i),this.c.s=!1))},nv.Bb=function(){this.u=new Vr(this.a),this.o=new Vr(this.b),this.g.push(this.b.length),!this.l.length&&0<this.O.length&&(this.O=[]),this.b=this.a=null},nv.Cb=function(t){var e=this.u,n=this.o;return function(){oa(t,e),oa(t,n)}},nv.qf=function(t,e,n,o){var i,r=aa(e,xg,wg);return this.v?i=this.v:this.v=i=new va(t,r),e.Vc(r),t.enableVertexAttribArray(i.l),t.vertexAttribPointer(i.l,2,5126,!1,28,0),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,28,8),t.enableVertexAttribArray(i.o),t.vertexAttribPointer(i.o,2,5126,!1,28,16),t.enableVertexAttribArray(i.f),t.vertexAttribPointer(i.f,1,5126,!1,28,24),t.uniform2fv(i.I,n),t.uniform1f(i.ta,o),i},nv.rf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.f)},nv.Pd=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a,s,u;for(s=this.g[this.g.length-1],n=this.l.length-1;0<=n;--n)a=this.l[n],u=this.O[n],Pa(this,t,u[0],u[1],u[2]),Hr(t,e,a,s),t.clear(t.DEPTH_BUFFER_BIT),s=a}else{var h,p,l,c;for(l=this.g.length-2,u=s=this.g[l+1],a=this.l.length-1;0<=a;--a){for(h=this.O[a],Pa(this,t,h[0],h[1],h[2]),h=this.l[a];0<=l&&this.g[l]>=h;)c=this.g[l],p=this.f[l],p=d(p).toString(),n[p]&&(s!==u&&(Hr(t,e,s,u),t.clear(t.DEPTH_BUFFER_BIT)),u=c),l--,s=c;s!==u&&(Hr(t,e,s,u),t.clear(t.DEPTH_BUFFER_BIT)),s=u=h}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},nv.ve=function(t,e,n,o,i){var r,a,s,u,h,p,l;for(l=this.g.length-2,s=this.g[l+1],r=this.l.length-1;0<=r;--r)for(a=this.O[r],Pa(this,t,a[0],a[1],a[2]),u=this.l[r];0<=l&&this.g[l]>=u;){if(a=this.g[l],h=this.f[l],p=d(h).toString(),void 0===n[p]&&h.U()&&(void 0===i||it(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hr(t,e,a,s),s=o(h)))return s;l--,s=a}},nv.Na=function(t,e){var n=e.i;this.c.lineCap=void 0!==n?n:"round",n=e.g,this.c.lineDash=n?n:yg,n=e.f,this.c.lineDashOffset=n?n:0,n=e.j,this.c.lineJoin=void 0!==n?n:"round",n=e.a,n=n instanceof CanvasGradient||n instanceof CanvasPattern?vg:Se(n).map(function(t,e){return 3!=e?t/255:t})||vg;var o=e.c,o=void 0!==o?o:1,i=e.l,i=void 0!==i?i:10;this.c.strokeColor&&u(this.c.strokeColor,n)&&this.c.lineWidth===o&&this.c.miterLimit===i||(this.c.s=!0,this.c.strokeColor=n,this.c.lineWidth=o,this.c.miterLimit=i,this.O.push([n,o,i]))};var Pg=3,Sg=5,Cg=7,Mg=11,Tg=13,Ag=17,Eg=19,Lg=23;c(Sa,Kr);var Ig=new Sa;c(Ca,Br);var Ng=new Ca;nv=Ta.prototype,nv.clone=function(){var t=this.a;return new Ta({color:t&&t.slice?t.slice():t||void 0,lineCap:this.i,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.f,lineJoin:this.j,miterLimit:this.l,width:this.c})},nv.Do=function(){return this.a},nv.Qk=function(){return this.i},nv.Eo=function(){return this.g},nv.Rk=function(){return this.f},nv.Sk=function(){return this.j},nv.Xk=function(){return this.l},nv.Fo=function(){return this.c},nv.Go=function(t){this.a=t,this.b=void 0},nv.Rp=function(t){this.i=t,this.b=void 0},nv.setLineDash=function(t){this.g=t,this.b=void 0},nv.Sp=function(t){this.f=t,this.b=void 0},nv.Tp=function(t){this.j=t,this.b=void 0},nv.Wp=function(t){this.l=t,this.b=void 0},nv.Zp=function(t){this.c=t,this.b=void 0},Aa.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.ub=this.b,e.ub=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}};var Og,kg,Rg,Dg;!function(){var t={},n={ma:t};!function(o){if("object"==typeof t&&"undefined"!=typeof n)n.ma=o();else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,i.Dq=o()}}(function(){return function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var h="function"==typeof o&&o;if(!u&&h)return o(s,!0);if(a)return a(s,!0);throw h=Error("Cannot find module '"+s+"'"),h.code="MODULE_NOT_FOUND",h}h=n[s]={ma:{}},e[s][0].call(h.ma,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.ma,t,e,n,i)}return n[s].ma}for(var a="function"==typeof o&&o,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){function n(t,e,r,a,s){for(r=r||0,a=a||t.length-1,s=s||i;a>r;){if(600<a-r){var u=a-r+1,h=e-r+1,p=Math.log(u),l=.5*Math.exp(2*p/3),p=.5*Math.sqrt(p*l*(u-l)/u)*(0>h-u/2?-1:1);n(t,e,Math.max(r,Math.floor(e-h*l/u+p)),Math.min(a,Math.floor(e+(u-h)*l/u+p)),s)}for(u=t[e],h=r,l=a,o(t,r,e),0<s(t[a],u)&&o(t,r,a);h<l;){for(o(t,h,l),h++,l--;0>s(t[h],u);)h++;for(;0<s(t[l],u);)l--}0===s(t[r],u)?o(t,r,l):(l++,o(t,l,a)),l<=e&&(r=l+1),e<=l&&(a=l-1)}}function o(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function i(t,e){return t<e?-1:t>e?1:0}e.ma=n},{}],2:[function(t,e){function n(t,e){return this instanceof n?(this.Df=Math.max(4,t||9),this.Xg=Math.max(2,Math.ceil(.4*this.Df)),e&&this.ak(e),void this.clear()):new n(t,e)}function o(t,e){i(t,0,t.children.length,e,t)}function i(t,e,n,o,i){i||(i=c(null)),i.da=1/0,i.ga=1/0,i.ba=-(1/0),i.ja=-(1/0);for(var a;e<n;e++)a=t.children[e],r(i,t.gb?o(a):a);return i}function r(t,e){t.da=Math.min(t.da,e.da),t.ga=Math.min(t.ga,e.ga),t.ba=Math.max(t.ba,e.ba),t.ja=Math.max(t.ja,e.ja)}function a(t,e){return t.da-e.da}function s(t,e){return t.ga-e.ga}function u(t){return(t.ba-t.da)*(t.ja-t.ga)}function h(t){return t.ba-t.da+(t.ja-t.ga)}function p(t,e){return t.da<=e.da&&t.ga<=e.ga&&e.ba<=t.ba&&e.ja<=t.ja}function l(t,e){return e.da<=t.ba&&e.ga<=t.ja&&e.ba>=t.da&&e.ja>=t.ga}function c(t){return{children:t,height:1,gb:!0,da:1/0,ga:1/0,ba:-(1/0),ja:-(1/0)}}function f(t,e,n,o,i){for(var r,a=[e,n];a.length;)n=a.pop(),e=a.pop(),n-e<=o||(r=e+Math.ceil((n-e)/o/2)*o,d(t,r,e,n,i),a.push(e,r,r,n))}e.ma=n;var d=t("quickselect");n.prototype={all:function(){return this.Sg(this.data,[])},search:function(t){var e=this.data,n=[],o=this.xb;if(!l(t,e))return n;for(var i,r,a,s,u=[];e;){for(i=0,r=e.children.length;i<r;i++)a=e.children[i],s=e.gb?o(a):a,l(t,s)&&(e.gb?n.push(a):p(t,s)?this.Sg(a,n):u.push(a));e=u.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length<this.Xg){for(var e=0,n=t.length;e<n;e++)this.Ea(t[e]);return this}return t=this.Ug(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Zg(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Wg(t,this.data.height-t.height-1,!0)):this.data=t,this},Ea:function(t){return t&&this.Wg(t,this.data.height-1),this},clear:function(){return this.data=c([]),this},remove:function(t,e){if(!t)return this;for(var n,o,i,r,a=this.data,s=this.xb(t),u=[],h=[];a||u.length;){if(a||(a=u.pop(),o=u[u.length-1],n=h.pop(),r=!0),a.gb){t:{i=t;var l=a.children,c=e;if(c){for(var f=0;f<l.length;f++)if(c(i,l[f])){i=f;break t}i=-1}else i=l.indexOf(i)}if(-1!==i){a.children.splice(i,1),u.push(a),this.Zj(u);break}}r||a.gb||!p(a,s)?o?(n++,a=o.children[n],r=!1):a=null:(u.push(a),h.push(n),n=0,o=a,a=a.children[0])}return this},xb:function(t){return t},Hf:a,If:s,toJSON:function(){return this.data},Sg:function(t,e){for(var n=[];t;)t.gb?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},Ug:function(t,e,n,i){var r,a=n-e+1,s=this.Df;if(a<=s)return r=c(t.slice(e,n+1)),o(r,this.xb),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),r=c([]),r.gb=!1,r.height=i;var u,h,p,a=Math.ceil(a/s),s=a*Math.ceil(Math.sqrt(s));for(f(t,e,n,s,this.Hf);e<=n;e+=s)for(h=Math.min(e+s-1,n),f(t,e,h,a,this.If),u=e;u<=h;u+=a)p=Math.min(u+a-1,h),r.children.push(this.Ug(t,u,p,i-1));return o(r,this.xb),r},Yj:function(t,e,n,o){for(var i,r,a,s,h,p,l,c;o.push(e),!e.gb&&o.length-1!==n;){for(l=c=1/0,i=0,r=e.children.length;i<r;i++)a=e.children[i],h=u(a),p=(Math.max(a.ba,t.ba)-Math.min(a.da,t.da))*(Math.max(a.ja,t.ja)-Math.min(a.ga,t.ga))-h,p<c?(c=p,l=h<l?h:l,s=a):p===c&&h<l&&(l=h,s=a);e=s||e.children[0]}return e},Wg:function(t,e,n){var o=this.xb;n=n?t:o(t);var o=[],i=this.Yj(n,this.data,e,o);for(i.children.push(t),r(i,n);0<=e&&o[e].children.length>this.Df;)this.fk(o,e),e--;this.Vj(n,o,e)},fk:function(t,e){var n=t[e],i=n.children.length,r=this.Xg;this.Wj(n,r,i),i=this.Xj(n,r,i),i=c(n.children.splice(i,n.children.length-i)),i.height=n.height,i.gb=n.gb,o(n,this.xb),o(i,this.xb),e?t[e-1].children.push(i):this.Zg(n,i)},Zg:function(t,e){this.data=c([t,e]),this.data.height=t.height+1,this.data.gb=!1,o(this.data,this.xb)},Xj:function(t,e,n){var o,r,a,s,h,p,l;for(h=p=1/0,o=e;o<=n-e;o++)r=i(t,0,o,this.xb),a=i(t,o,n,this.xb),s=Math.max(0,Math.min(r.ba,a.ba)-Math.max(r.da,a.da))*Math.max(0,Math.min(r.ja,a.ja)-Math.max(r.ga,a.ga)),r=u(r)+u(a),s<h?(h=s,l=o,p=r<p?r:p):s===h&&r<p&&(p=r,l=o);return l},Wj:function(t,e,n){var o=t.gb?this.Hf:a,i=t.gb?this.If:s,r=this.Tg(t,e,n,o);e=this.Tg(t,e,n,i),r<e&&t.children.sort(o)},Tg:function(t,e,n,o){t.children.sort(o),o=this.xb;var a,s,u=i(t,0,e,o),p=i(t,n-e,n,o),l=h(u)+h(p);for(a=e;a<n-e;a++)s=t.children[a],r(u,t.gb?o(s):s),l+=h(u);for(a=n-e-1;a>=e;a--)s=t.children[a],r(p,t.gb?o(s):s),l+=h(p);return l},Vj:function(t,e,n){for(;0<=n;n--)r(e[n],t)},Zj:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():o(t[n],this.xb)},ak:function(t){var e=["return a"," - b",";"];this.Hf=new Function("a","b",e.join(t[0])),this.If=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),Og=n.ma}(),nv=Da.prototype,nv.Ea=function(t,e){var n={da:t[0],ga:t[1],ba:t[2],ja:t[3],value:e};this.b.Ea(n),this.a[d(e)]=n},nv.load=function(t,e){for(var n=Array(e.length),o=0,i=e.length;o<i;o++){var r=t[o],a=e[o],r={da:r[0],ga:r[1],ba:r[2],ja:r[3],value:a};n[o]=r,this.a[d(a)]=r}this.b.load(n)},nv.remove=function(t){t=d(t);var e=this.a[t];return delete this.a[t],null!==this.b.remove(e)},nv.forEach=function(t,e){return Xa(ja(this),t,e)},nv.clear=function(){this.b.clear(),this.a={}},nv.D=function(t){var e=this.b.data;return B(e.da,e.ga,e.ba,e.ja,t)},c(Ua,zr),nv=Ua.prototype,nv.rc=function(t,e){var n,o,i,r,a=t.md(),s=t.sa(),u=this.b.length,h=this.j.b.length;for(n=0,o=a.length;n<o;++n){var p=a[n].Oc();if(0<p.length){var l,c=p[0].ia(),c=ro(c,c.length,s,-this.origin[0],-this.origin[1]),f=[];for(i=1,r=p.length;i<r;++i)l=p[i].ia(),l=ro(l,l.length,s,-this.origin[0],-this.origin[1]),f.push(l);xa(this.j,c,f,s),Ya(this,c,f,s)}}this.b.length>u&&(this.g.push(u),this.f.push(e),this.l.s&&(this.c.push(u),this.l.s=!1)),this.j.b.length>h&&wa(this.j,e,h)},nv.tc=function(t,e){var n=t.Oc(),o=t.sa();if(0<n.length){this.g.push(this.b.length),this.f.push(e),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),wa(this.j,e);var i,r,a,s=n[0].ia(),s=ro(s,s.length,o,-this.origin[0],-this.origin[1]),u=[];for(i=1,r=n.length;i<r;++i)a=n[i].ia(),a=ro(a,a.length,o,-this.origin[0],-this.origin[1]),u.push(a);xa(this.j,s,u,o),Ya(this,s,u,o)}},nv.Bb=function(t){this.u=new Vr(this.a),this.o=new Vr(this.b),this.g.push(this.b.length),this.j.Bb(t),!this.c.length&&0<this.O.length&&(this.O=[]),this.b=this.a=null},nv.Cb=function(t){var e=this.u,n=this.o,o=this.j.Cb(t);return function(){oa(t,e),oa(t,n),o()}},nv.qf=function(t,e){var n,o=aa(e,Ig,Ng);return this.v?n=this.v:this.v=n=new Ma(t,o),e.Vc(o),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,8,0),n},nv.rf=function(t,e){t.disableVertexAttribArray(e.b)},nv.Pd=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a,s,u;for(s=this.g[this.g.length-1],n=this.c.length-1;0<=n;--n)a=this.c[n],u=this.O[n],t.uniform4fv(this.v.G,u),Hr(t,e,a,s),s=a}else{var h,p,l,c;for(l=this.g.length-2,u=s=this.g[l+1],a=this.c.length-1;0<=a;--a){for(h=this.O[a],t.uniform4fv(this.v.G,h),h=this.c[a];0<=l&&this.g[l]>=h;)c=this.g[l],p=this.f[l],p=d(p).toString(),n[p]&&(s!==u&&(Hr(t,e,s,u),t.clear(t.DEPTH_BUFFER_BIT)),u=c),l--,s=c;s!==u&&(Hr(t,e,s,u),t.clear(t.DEPTH_BUFFER_BIT)),s=u=h}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},nv.ve=function(t,e,n,o,i){var r,a,s,u,h,p,l;for(l=this.g.length-2,s=this.g[l+1],r=this.c.length-1;0<=r;--r)for(a=this.O[r],t.uniform4fv(this.v.G,a),u=this.c[r];0<=l&&this.g[l]>=u;){if(a=this.g[l],h=this.f[l],p=d(h).toString(),void 0===n[p]&&h.U()&&(void 0===i||it(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Hr(t,e,a,s),s=o(h)))return s;l--,s=a}},nv.Na=function(t,e){var n=t?t.b:[0,0,0,0];n=n instanceof CanvasGradient||n instanceof CanvasPattern?dg:Se(n).map(function(t,e){return 3!=e?t/255:t})||dg,this.l.fillColor&&u(n,this.l.fillColor)||(this.l.fillColor=n,this.l.s=!0,this.O.push(n)),e?this.j.Na(null,e):this.j.Na(null,new Ta({color:[0,0,0,0],lineWidth:0}))},is.prototype.i=function(){},c(rs,Fr),rs.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0",o=this.a[n];return void 0===o&&(o={},this.a[n]=o),n=o[e],void 0===n&&(n=new jg[e](this.j,this.f),o[e]=n),n},rs.prototype.g=function(){return pt(this.a)},rs.prototype.i=function(t,e,o,i,r,a,s,u){var h=Object.keys(this.a).map(Number);h.sort(n);var p,l,c,f,d,y;for(p=0,l=h.length;p<l;++p)for(d=this.a[h[p].toString()],c=0,f=lg.length;c<f;++c)y=d[lg[c]],void 0!==y&&y.i(t,e,o,i,r,a,s,u,void 0,!1)},rs.prototype.Ba=function(t,e,n,o,i,r,a,s,u,h){var p=e.b;p.bindFramebuffer(p.FRAMEBUFFER,ia(e));var l;return void 0!==this.c&&(l=N(X(t),o*this.c)),us(this,e,t,o,i,a,s,u,function(t){var e=new Uint8Array(4);if(p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var Fg=[1,1],jg={Circle:$r,Image:pa,LineString:ga,Polygon:Ua,Text:is};c(ps,Tr),nv=ps.prototype,nv.td=function(t){this.Na(t.Ca(),t.Da()),this.Wb(t.Y())},nv.oc=function(t){switch(t.S()){case"Point":this.sc(t,null);break;case"LineString":this.Rb(t,null);break;case"Polygon":this.tc(t,null);break;case"MultiPoint":this.qc(t,null);break;case"MultiLineString":this.pc(t,null);break;case"MultiPolygon":this.rc(t,null);break;case"GeometryCollection":this.ue(t,null);break;case"Circle":this.ac(t,null)}},nv.te=function(t,e){var n=(0,e.Qa)(t);n&&it(this.a,n.D())&&(this.td(e),this.oc(n))},nv.ue=function(t){t=t.a;var e,n;for(e=0,n=t.length;e<n;++e)this.oc(t[e])},nv.sc=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"Image");o.Wb(this.u),o.sc(t,e),
o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.qc=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"Image");o.Wb(this.u),o.qc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.Rb=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"LineString");o.Na(null,this.l),o.Rb(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.pc=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"LineString");o.Na(null,this.l),o.pc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.tc=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"Polygon");o.Na(this.o,this.l),o.tc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.rc=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"Polygon");o.Na(this.o,this.l),o.rc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.ac=function(t,e){var n=this.b,o=new rs(1,this.a).b(0,"Circle");o.Na(this.o,this.l),o.ac(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},nv.Wb=function(t){this.u=t},nv.Na=function(t,e){this.o=t,this.l=e},nv=ls.prototype,nv.clear=function(){this.c=0,this.b={},this.g=this.a=null},nv.forEach=function(t,e){for(var n=this.a;n;)t.call(e,n.cd,n.wc,this),n=n.Mb},nv.get=function(t){return t=this.b[t],v(!!t,15),t===this.g?t.cd:(t===this.a?(this.a=this.a.Mb,this.a.xd=null):(t.Mb.xd=t.xd,t.xd.Mb=t.Mb),t.Mb=null,t.xd=this.g,this.g=this.g.Mb=t,t.cd)},nv.pop=function(){var t=this.a;return delete this.b[t.wc],t.Mb&&(t.Mb.xd=null),this.a=t.Mb,this.a||(this.g=null),--this.c,t.cd},nv.replace=function(t,e){this.get(t),this.b[t].cd=e},nv.set=function(t,e){v(!(t in this.b),16);var n={wc:t,Mb:null,xd:this.g,cd:e};this.g?this.g.Mb=n:this.a=n,this.g=n,this.b[t]=n,++this.c},c(cs,br),nv=cs.prototype,nv.ra=function(){var t=this.g;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Fb)}),pe(this.i),br.prototype.ra.call(this)},nv.tk=function(t,e){for(var n,o=this.g;1024<this.a.c-this.f;){if(n=this.a.a.cd)o.deleteTexture(n.Fb);else{if(+this.a.a.wc==e.index)break;--this.f}this.a.pop()}},nv.S=function(){return"webgl"},nv.On=function(t){t.preventDefault(),this.a.clear(),this.f=0,t=this.c;for(var e in t)t[e].hg()},nv.Pn=function(){ys(this),this.l.render()},nv.Dg=function(t){var e=this.i,n=this.g;if(n.isContextLost())return!1;if(!t)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.v=t.focus,this.a.set((-t.index).toString(),null),++this.f,ds(this,"precompose",t);var o=[],i=t.layerStatesArray;h(i);var r,a,s,u,p=t.viewState.resolution;for(r=0,a=i.length;r<a;++r)u=i[r],ar(u,p)&&"ready"==u.uj&&(s=wr(this,u.layer),s.ig(t,u,e)&&o.push(u));for(i=t.size[0]*t.pixelRatio,p=t.size[1]*t.pixelRatio,this.b.width==i&&this.b.height==p||(this.b.width=i,this.b.height=p),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),r=0,a=o.length;r<a;++r)u=o[r],s=wr(this,u.layer),s.zi(t,u,e);this.o||(this.b.style.display="",this.o=!0),_r(t),1024<this.a.c-this.f&&t.postRenderFunctions.push(this.tk.bind(this)),this.j.b.length&&(t.postRenderFunctions.push(this.G),t.animate=!0),ds(this,"postcompose",t),Pr(this,t),t.postRenderFunctions.push(xr)},nv.Ba=function(t,e,n,o,i,r,a){var s;if(this.g.isContextLost())return!1;var u,h=e.viewState,p=e.layerStatesArray;for(u=p.length-1;0<=u;--u){s=p[u];var l=s.layer;if(ar(s,h.resolution)&&r.call(a,l)&&(s=wr(this,l).Ba(t,e,n,o,i)))return s}},nv.xi=function(t,e,n,o,i){if(n=!1,this.g.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var u=s[r],h=u.layer;if(ar(u,a.resolution)&&o.call(i,h)&&(n=wr(this,h).Te(t,e)))return!0}return n},nv.wi=function(t,e,n,o,i){if(this.g.isContextLost())return!1;var r,a,s=e.viewState,u=e.layerStatesArray;for(a=u.length-1;0<=a;--a){r=u[a];var h=r.layer;if(ar(r,s.resolution)&&i.call(o,h)&&(r=wr(this,h).gg(t,e,n,o)))return r}};var Kg=["canvas","webgl"];c(vs,ve),nv=vs.prototype,nv.gk=function(t){this.l.push(t)},nv.hk=function(t){this.j.push(t)},nv.$g=function(t){this.Mc().sd().push(t)},nv.ah=function(t){this.o.push(t)},nv.bh=function(t){var e=t.f;void 0!==e&&(this.lg[e.toString()]=t),t.setMap(this)},nv.ra=function(){pe(this.Ja),pe(this.C),ae(this.c,"wheel",this.pd,this),ae(this.c,"mousewheel",this.pd,this),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.f&&(cancelAnimationFrame(this.f),this.f=void 0),this.Ke(null),ve.prototype.ra.call(this)},nv.we=function(t,e,n){if(this.a)return t=this.Xa(t),n=n?n:{},this.C.Ba(t,this.a,void 0!==n.hitTolerance?n.hitTolerance*this.a.pixelRatio:0,e,null,n.layerFilter?n.layerFilter:eo,null)},nv.Em=function(t,e,n,o,i){if(this.a)return this.C.wi(t,this.a,e,void 0!==n?n:null,o?o:eo,void 0!==i?i:null)},nv.Tl=function(t,e){if(!this.a)return!1;var n=this.Xa(t);return e=e?e:{},this.C.xi(n,this.a,void 0!==e.hitTolerance?e.hitTolerance*this.a.pixelRatio:0,e.layerFilter?e.layerFilter:eo,null)},nv.Of=function(t){return this.Xa(this.xe(t))},nv.xe=function(t){var e=this.c.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},nv.Wf=function(){return this.get("target")},nv.vc=function(){var t=this.Wf();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},nv.Xa=function(t){var e=this.a;return e?fr(e.pixelToCoordinateTransform,t.slice()):null},nv.Hk=function(){return this.l},nv.al=function(){return this.o},nv.$k=function(t){return t=this.lg[t.toString()],void 0!==t?t:null},nv.Nk=function(){return this.j},nv.Mc=function(){return this.get("layergroup")},nv.Qh=function(){return this.Mc().sd()},nv.Ka=function(t){var e=this.a;return e?fr(e.coordinateToPixelTransform,t.slice(0,2)):null},nv.Nb=function(){return this.get("size")},nv.$=function(){return this.get("view")},nv.nl=function(){return this.c},nv.ll=function(t,e,n,o){var i=this.a;return i&&e in i.wantedTiles&&i.wantedTiles[e][t.hb()]?(t=n[0]-i.focus[0],n=n[1]-i.focus[1],65536*Math.log(o)+Math.sqrt(t*t+n*n)/o):1/0},nv.pd=function(t,e){var n=new Je(e||t.type,this,t);this.Bh(n)},nv.Bh=function(t){if(this.a){this.T=t.coordinate,t.frameState=this.a;var e,n=this.j.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var o=n[e];if(o.c()&&!o.handleEvent(t))break}}},nv.Ml=function(){var t=this.a,e=this.Ha;if(e.b.length){var n=16,o=n;if(t){var i=t.viewHints;i[0]&&(n=this.yf?8:0,o=2),i[1]&&(n=this.zf?8:0,o=2)}e.j<n&&(On(e),Rn(e,n,o))}for(e=this.Va,n=0,o=e.length;n<o;++n)e[n](this,t);e.length=0},nv.Ol=function(){this.render()},nv.Ql=function(){var t;if(this.Wf()&&(t=this.vc()),this.u){for(var e=0,n=this.u.length;e<n;++e)se(this.u[e]);this.u=null}t?(t.appendChild(this.c),t=this.na?this.na:t,this.u=[ie(t,"keydown",this.pd,this),ie(t,"keypress",this.pd,this)],this.i||(this.i=this.Cd.bind(this),window.addEventListener("resize",this.i,!1))):(Ie(this.c),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)),this.Cd()},nv.Rl=function(){this.render()},nv.Eh=function(){this.render()},nv.Sl=function(){this.Z&&(se(this.Z),this.Z=null),this.I&&(se(this.I),this.I=null);var t=this.$();t&&(this.c.setAttribute("data-view",d(t)),this.Z=ie(t,"propertychange",this.Eh,this),this.I=ie(t,"change",this.Eh,this)),this.render()},nv.zl=function(){this.G&&(this.G.forEach(se),this.G=null);var t=this.Mc();t&&(this.G=[ie(t,"propertychange",this.render,this),ie(t,"change",this.render,this)]),this.render()},nv.Jp=function(){this.f&&cancelAnimationFrame(this.f),this.fa()},nv.render=function(){void 0===this.f&&(this.f=requestAnimationFrame(this.fa))},nv.Cp=function(t){return this.l.remove(t)},nv.Dp=function(t){return this.j.remove(t)},nv.Fp=function(t){return this.Mc().sd().remove(t)},nv.Gp=function(t){return this.o.remove(t)},nv.Ip=function(t){var e,n,o=this.Nb(),i=this.$(),r=K(),a=null;if(void 0!==o&&0<o[0]&&0<o[1]&&i&&ei(i)){var a=Zo(i,this.a?this.a.viewHints:void 0),s=this.Mc().Tf(),u={};for(e=0,n=s.length;e<n;++e)u[d(s[e].layer)]=s[e];e=i.V(),a={animate:!1,attributions:{},coordinateToPixelTransform:this.Gb,extent:r,focus:this.T?this.T:e.center,index:this.le++,layerStates:u,layerStatesArray:s,logos:hv({},this.wf),pixelRatio:this.Ef,pixelToCoordinateTransform:this.Ff,postRenderFunctions:[],size:o,skippedFeatureUids:this.ea,tileQueue:this.Ha,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}a&&(a.extent=J(e.center,e.resolution,e.rotation,a.size,r)),this.a=a,this.C.Dg(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.Va,a.postRenderFunctions),a.viewHints[0]||a.viewHints[1]||Y(a.extent,this.yb)||(this.b(new Ze("moveend",this,a)),O(a.extent,this.yb))),this.b(new Ze("postrender",this,a)),setTimeout(this.Ml.bind(this),0)},nv.lj=function(t){this.set("layergroup",t)},nv.Ig=function(t){this.set("size",t)},nv.Ke=function(t){this.set("target",t)},nv.Yp=function(t){this.set("view",t)},nv.tj=function(t){t=d(t).toString(),this.ea[t]=!0,this.render()},nv.Cd=function(){var t=this.vc();if(t){var e=getComputedStyle(t);this.Ig([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Ig(void 0)},nv.yj=function(t){t=d(t).toString(),delete this.ea[t],this.render()},c(ms,ve),nv=ms.prototype,nv.Rd=function(){return this.get(Bg)},nv.Fm=function(){return this.f},nv.Le=function(){return this.get(Xg)},nv.wh=function(){return this.get(Ug)},nv.Rh=function(){return this.get(Yg)},nv.xh=function(){return this.get(Gg)},nv.ul=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.c.appendChild(t)},nv.El=function(){this.i&&(Ie(this.c),se(this.i),this.i=null);var t=this.Le();t&&(this.i=ie(t,"postrender",this.render,this),xs(this),t=this.u?t.v:t.A,this.o?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},nv.render=function(){xs(this)},nv.Il=function(){xs(this)},nv.Kl=function(){if(xs(this),this.get(Yg)&&this.autoPan){var t=this.Le();if(t&&t.vc()){var e=bs(t.vc(),t.Nb()),n=this.Rd(),o=n.offsetWidth,i=getComputedStyle(n),o=o+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)),i=n.offsetHeight,r=getComputedStyle(n),i=i+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)),a=bs(n,[o,i]),n=this.l;D(e,a)||(o=a[0]-e[0],i=e[2]-a[2],r=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>o?e[0]=o-n:0>i&&(e[0]=Math.abs(i)+n),0>r?e[1]=r-n:0>a&&(e[1]=Math.abs(a)+n),0===e[0]&&0===e[1])||(n=t.$().za(),n=t.Ka(n),e=[n[0]+e[0],n[1]+e[1]],t.$().animate({center:t.Xa(e),duration:this.j.duration,easing:this.j.easing}))}}},nv.Ll=function(){xs(this)},nv.gj=function(t){this.set(Bg,t)},nv.setMap=function(t){this.set(Xg,t)},nv.nj=function(t){this.set(Ug,t)},nv.Me=function(t){this.set(Yg,t)},nv.qj=function(t){this.set(Gg,t)};var Bg="element",Xg="map",Ug="offset",Yg="position",Gg="positioning";c(ws,Ne),nv=ws.prototype,nv.setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.$())&&ae(e,ge("rotation"),this.Fe,this),this.c.Ke(null)),Ne.prototype.setMap.call(this,t),t&&(this.c.Ke(this.C),this.u.push(ie(t,"propertychange",this.Fl,this)),this.c.Qh().fc()||this.c.lj(t.Mc()),t=t.$()))&&(ie(t,ge("rotation"),this.Fe,this),ei(t)&&(this.c.Cd(),Ss(this)))},nv.Fl=function(t){"view"===t.key&&((t=t.oldValue)&&ae(t,ge("rotation"),this.Fe,this),t=this.a.$(),ie(t,ge("rotation"),this.Fe,this))},nv.Fe=function(){this.c.$().Ne(this.a.$().Sa())},nv.Vm=function(t){t.preventDefault(),Ms(this)},nv.Um=function(){return this.l},nv.Xm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&Ms(this))},nv.Wm=function(t){this.l&&this.j!==t&&Ms(this)},nv.Tm=function(){return this.j},nv.bl=function(){return this.c},c(Ts,Ne);var Wg=[1,2,5];Ts.prototype.Kb=function(){return this.get(zg)},Ts.prototype.I=function(){Es(this)},Ts.prototype.G=function(t){this.set(zg,t)};var zg="units";c(Ls,Ne),Ls.prototype.ra=function(){pe(this.l),Ne.prototype.ra.call(this)};var Hg=0;nv=Ls.prototype,nv.setMap=function(t){Ne.prototype.setMap.call(this,t),t&&t.render()},nv.ql=function(t){var e=this.a.$();t=Os(this,x(1===this.j?(t.offsetX-this.I[0]/2)/this.A:(t.offsetY-this.I[1]/2)/this.o,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.T,easing:Fe})},nv.tl=function(t){this.v||t.b.target!==this.element.firstElementChild||(ni(this.a.$(),1,1),this.C=t.clientX,this.G=t.clientY,this.v=!0)},nv.rl=function(t){if(this.v){var e=this.element.firstElementChild;this.c=Os(this,x(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.A:(t.clientY-this.G+parseInt(e.style.top,10))/this.o,0,1)),this.a.$().$c(this.c),Ns(this,this.c),this.C=t.clientX,this.G=t.clientY}},nv.sl=function(){if(this.v){var t=this.a.$();ni(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.T,easing:Fe}),this.v=!1,this.G=this.C=void 0}},c(ks,Ne),ks.prototype.j=function(t){t.preventDefault(),t=this.a.$();var e=this.c?this.c:t.o.D();t.Mf(e)},c(Rs,ve),nv=Rs.prototype,nv.ra=function(){this.bg(!1),ve.prototype.ra.call(this)},nv.Ro=function(t){if(null!==t.alpha){var e=C(t.alpha);this.set(qg,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Zg,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Zg,C(t.webkitCompassHeading))}null!==t.beta&&this.set(Vg,C(t.beta)),null!==t.gamma&&this.set($g,C(t.gamma)),this.s()},nv.Bk=function(){return this.get(qg)},nv.Ek=function(){return this.get(Vg)},nv.Kk=function(){return this.get($g)},nv.qm=function(){return this.get(Zg)},nv.Mh=function(){return this.get(Jg)},nv.rm=function(){if(Gv){var t=this.Mh();t&&!this.a?this.a=ie(window,"deviceorientation",this.Ro,this):t||null===this.a||(se(this.a),this.a=null)}},nv.bg=function(t){this.set(Jg,t)};var qg="alpha",Vg="beta",$g="gamma",Zg="heading",Jg="tracking";nv=Ds.prototype,nv.Ye=function(){return this.f},nv.Ze=function(){return this.o},nv.$e=function(){return this.j},nv.af=function(){return this.c},nv.ze=function(){return this.u},nv.vd=function(t){this.f=t},nv.bf=function(t){this.j=t},nv.wd=function(t){this.c=t},c(Fs,Ds),nv=Fs.prototype,nv.clone=function(){var t=new Fs({fill:this.Ca()?this.Ca().clone():void 0,points:this.g!==this.a?this.b/2:this.b,radius:this.a,radius2:this.g,angle:this.l,snapToPixel:this.u,stroke:this.Da()?this.Da().clone():void 0,rotation:this.j,rotateWithView:this.o,atlasManager:this.O});return t.vd(this.f),t.wd(this.c),t},nv.Jc=function(){return this.C},nv.Ji=function(){return this.l},nv.Ca=function(){return this.Wa},nv.kg=function(){return this.A},nv.Y=function(){return this.v},nv.ye=function(){return this.G},nv.Xe=function(){return 2},nv.Tc=function(){return this.qa},nv.Ki=function(){return this.b},nv.Li=function(){return this.a},nv.yh=function(){return this.g},nv.kc=function(){return this.ta},nv.Da=function(){return this.Za},nv.Gh=function(){},nv.load=function(){},nv.xj=function(){},nv.jh=function(t,e,n,o){var i;if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else for(this.g!==this.a&&(this.b*=2),n=0;n<=this.b;n++)o=2*n*Math.PI/this.b-Math.PI/2+this.l,i=n%2?this.g:this.a,e.lineTo(t.size/2+i*Math.cos(o),t.size/2+i*Math.sin(o));this.Wa&&(n=this.Wa.b,null===n&&(n=ug),e.fillStyle=Te(n),e.fill()),this.Za&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.vj,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},nv.ih=function(t,e,n,o){if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{this.g!==this.a&&(this.b*=2);var i;for(n=0;n<=this.b;n++)i=2*n*Math.PI/this.b-Math.PI/2+this.l,o=n%2?this.g:this.a,e.lineTo(t.size/2+o*Math.cos(i),t.size/2+o*Math.sin(i))}e.fillStyle=ug,e.fill(),this.Za&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.vj,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},c(Ks,Fs),Ks.prototype.clone=function(){var t=new Ks({fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,radius:this.a,snapToPixel:this.u,atlasManager:this.O});return t.vd(this.f),t.wd(this.c),t},Ks.prototype.Zc=function(t){this.a=t,js(this,this.O)},Bs.prototype.clone=function(){var t=this.b;return new Bs({color:t&&t.slice?t.slice():t||void 0})},Bs.prototype.g=function(){return this.b},Bs.prototype.c=function(t){this.b=t,this.a=void 0},nv=Xs.prototype,nv.clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new Xs({geometry:t,fill:this.Ca()?this.Ca().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,text:this.Oa()?this.Oa().clone():void 0,zIndex:this.Aa()})},nv.U=function(){return this.Ic},nv.Lk=function(){return this.Qa},nv.Ca=function(){return this.Wa},nv.mf=function(t){this.Wa=t},nv.Y=function(){return this.N},nv.Hg=function(t){this.N=t},nv.Da=function(){return this.Za},nv.nf=function(t){this.Za=t},nv.Oa=function(){return this.Fa},nv.pf=function(t){this.Fa=t},nv.Aa=function(){return this.Bj},nv.Ta=function(t){"function"==typeof t?this.Qa=t:"string"==typeof t?this.Qa=function(e){return e.get(t)}:t?t&&(this.Qa=function(){return t}):this.Qa=Ws,this.Ic=t},nv.Xb=function(t){this.Bj=t};var Qg=null;c(zs,ve),nv=zs.prototype,nv.clone=function(){var t=new zs(this.M());t.Yc(this.c);var e=this.U();return e&&t.Ta(e.clone()),(e=this.f)&&t.cg(e),t},nv.U=function(){return this.get(this.c)},nv.sm=function(){return this.a},nv.Mk=function(){return this.c},nv.tm=function(){return this.f},nv.Rc=function(){return this.j},nv.vl=function(){this.s()},nv.De=function(){this.i&&(se(this.i),this.i=null);var t=this.U();t&&(this.i=ie(t,"change",this.vl,this)),this.s()},nv.Ta=function(t){this.set(this.c,t)},nv.cg=function(t){this.j=(this.f=t)?Hs(t):void 0,this.s()},nv.lc=function(t){this.a=t,this.s()},nv.Yc=function(t){ae(this,ge(this.c),this.De,this),this.c=t,ie(this,ge(this.c),this.De,this),this.De()};var tm=document.implementation.createDocument("","",null),em=su();c(_u,vu),nv=_u.prototype,nv.S=function(){return"json"},nv.Vb=function(t,e){return this.Wc(xu(t),gu(this,t,e))},nv.Pa=function(t,e){return this.sg(xu(t),gu(this,t,e))},nv.Xc=function(t,e){return this.wg(xu(t),gu(this,t,e))},nv.jb=function(t){return this.zg(xu(t))},nv.Dd=function(t,e){return JSON.stringify(this.dd(t,e))},nv.Yb=function(t,e){return JSON.stringify(this.ge(t,e))},nv.ed=function(t,e){return JSON.stringify(this.ie(t,e))},c(Cu,ao),nv=Cu.prototype,nv.ik=function(t){this.B?a(this.B,t):this.B=t.slice(),this.s()},nv.clone=function(){var t=new Cu(null);return t.ca(this.la,this.B.slice()),t},nv.Hb=function(t,e,n,o){return o<k(this.D(),t,e)?o:(this.v!=this.g&&(this.A=Math.sqrt(fo(this.B,0,this.B.length,this.a,0)),this.v=this.g),vo(this.B,0,this.B.length,this.a,this.A,!1,t,e,n,o))},nv.yk=function(t,e){return No(this.B,0,this.B.length,this.a,t,e)},nv.gn=function(t,e){return"XYM"!=this.la&&"XYZM"!=this.la?null:Pu(this.B,0,this.B.length,this.a,t,void 0!==e&&e)},nv.W=function(){return xo(this.B,0,this.B.length,this.a)},nv.ph=function(t,e){return wu(this.B,0,this.B.length,this.a,t,e)},nv.hn=function(){var t,e=this.B,n=this.a,o=e[0],i=e[1],r=0;for(t=0+n;t<this.B.length;t+=n)var a=e[t],s=e[t+1],r=r+Math.sqrt((a-o)*(a-o)+(s-i)*(s-i)),o=a,i=s;return r},nv.od=function(t){var e=[];return e.length=Po(this.B,0,this.B.length,this.a,t,e,0),t=new Cu(null),t.ca("XY",e),t},nv.S=function(){return"LineString"},nv.Ya=function(t){return Oo(this.B,0,this.B.length,this.a,t)},nv.pa=function(t,e){t?(ho(this,e,t,1),this.B||(this.B=[]),this.B.length=bo(this.B,0,t,this.a),this.s()):this.ca("XY",null)},nv.ca=function(t,e){uo(this,t,e),this.s()},c(Tu,ao),nv=Tu.prototype,nv.jk=function(t){this.B?a(this.B,t.ia().slice()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},nv.clone=function(){var t=new Tu(null);return t.ca(this.la,this.B.slice(),this.c.slice()),t},nv.Hb=function(t,e,n,o){return o<k(this.D(),t,e)?o:(this.j!=this.g&&(this.v=Math.sqrt(yo(this.B,0,this.c,this.a,0)),this.j=this.g),go(this.B,0,this.c,this.a,this.v,!1,t,e,n,o))},nv.kn=function(t,e,n){return"XYM"!=this.la&&"XYZM"!=this.la||!this.B.length?null:Su(this.B,this.c,this.a,t,void 0!==e&&e,void 0!==n&&n)},nv.W=function(){return wo(this.B,0,this.c,this.a)},nv.Sb=function(){return this.c},nv.Tk=function(t){if(0>t||this.c.length<=t)return null;var e=new Cu(null);return e.ca(this.la,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},nv.Nc=function(){var t,e,n=this.B,o=this.c,i=this.la,r=[],a=0;for(t=0,e=o.length;t<e;++t){var s=o[t],u=new Cu(null);u.ca(i,n.slice(a,s)),r.push(u),a=s}return r},nv.od=function(t){var e,n,o=[],i=[],r=this.B,a=this.c,s=this.a,u=0,h=0;for(e=0,n=a.length;e<n;++e){var p=a[e],h=Po(r,u,p,s,t,o,h);i.push(h),u=p}return o.length=h,t=new Tu(null),t.ca("XY",o,i),t},nv.S=function(){return"MultiLineString"},nv.Ya=function(t){t:{var e,n,o=this.B,i=this.c,r=this.a,a=0;for(e=0,n=i.length;e<n;++e){if(Oo(o,a,i[e],r,t)){t=!0;break t}a=i[e]}t=!1}return t},nv.pa=function(t,e){if(t){ho(this,e,t,2),this.B||(this.B=[]);var n=_o(this.B,0,t,this.a,this.c);this.B.length=n.length?n[n.length-1]:0,this.s()}else this.ca("XY",null,this.c)},nv.ca=function(t,e,n){uo(this,t,e),this.c=n,this.s()},c(Lu,ao),nv=Lu.prototype,nv.lk=function(t){this.B?a(this.B,t.ia()):this.B=t.ia().slice(),this.s()},nv.clone=function(){var t=new Lu(null);return t.ca(this.la,this.B.slice()),t},nv.Hb=function(t,e,n,o){if(o<k(this.D(),t,e))return o;var i,r,a,s=this.B,u=this.a;for(i=0,r=s.length;i<r;i+=u)if(a=S(t,e,s[i],s[i+1]),a<o){for(o=a,a=0;a<u;++a)n[a]=s[i+a];n.length=u}return o},nv.W=function(){return xo(this.B,0,this.B.length,this.a)},nv.dl=function(t){var e=this.B?this.B.length/this.a:0;return 0>t||e<=t?null:(e=new To(null),e.ca(this.la,this.B.slice(t*this.a,(t+1)*this.a)),e)},nv.Zd=function(){var t,e,n=this.B,o=this.la,i=this.a,r=[];for(t=0,e=n.length;t<e;t+=i){var a=new To(null);a.ca(o,n.slice(t,t+i)),r.push(a)}return r},nv.S=function(){return"MultiPoint"},nv.Ya=function(t){var e,n,o,i,r=this.B,a=this.a;for(e=0,n=r.length;e<n;e+=a)if(o=r[e],i=r[e+1],F(t,o,i))return!0;return!1},nv.pa=function(t,e){t?(ho(this,e,t,1),this.B||(this.B=[]),this.B.length=bo(this.B,0,t,this.a),this.s()):this.ca("XY",null)},nv.ca=function(t,e){uo(this,t,e),this.s()},c(Iu,ao),nv=Iu.prototype,nv.mk=function(t){if(this.B){var e=this.B.length;a(this.B,t.ia()),t=t.Sb().slice();var n,o;for(n=0,o=t.length;n<o;++n)t[n]+=e}else this.B=t.ia().slice(),t=t.Sb().slice(),this.c.push();this.c.push(t),this.s()},nv.clone=function(){for(var t=new Iu(null),e=this.c.length,n=Array(e),o=0;o<e;++o)n[o]=this.c[o].slice();return ku(t,this.la,this.B.slice(),n),t},nv.Hb=function(t,e,n,o){if(o<k(this.D(),t,e))return o;if(this.C!=this.g){var i,r,a=this.c,s=0,u=0;for(i=0,r=a.length;i<r;++i)var h=a[i],u=yo(this.B,s,h,this.a,u),s=h[h.length-1];this.G=Math.sqrt(u),this.C=this.g}a=Ou(this),s=this.c,u=this.a,i=this.G,r=0;var p,l,h=[NaN,NaN];for(p=0,l=s.length;p<l;++p){var c=s[p];o=go(a,r,c,u,i,!0,t,e,n,o,h),r=c[c.length-1]}return o},nv.Sc=function(t,e){var n;t:{n=Ou(this);var o=this.c,i=0;if(o.length){var r,a;for(r=0,a=o.length;r<a;++r){var s=o[r];if(Lo(n,i,s,this.a,t,e)){n=!0;break t}i=s[s.length-1]}}n=!1}return n},nv.ln=function(){var t,e,n=Ou(this),o=this.c,i=0,r=0;for(t=0,e=o.length;t<e;++t)var a=o[t],r=r+lo(n,i,a,this.a),i=a[a.length-1];return r},nv.W=function(t){var e;void 0!==t?(e=Ou(this).slice(),jo(e,this.c,this.a,t)):e=this.B,t=e,e=this.c;var n,o,i=this.a,r=0,a=[],s=0;for(n=0,o=e.length;n<o;++n){var u=e[n];a[s++]=wo(t,r,u,i,a[s]),r=u[u.length-1]}return a.length=s,a},nv.Pk=function(){var t=new Lu(null);return t.ca("XY",Nu(this).slice()),t},nv.od=function(t){var e=[],n=[],o=this.B,i=this.c,r=this.a;t=Math.sqrt(t);var a,s,u=0,h=0;for(a=0,s=i.length;a<s;++a){var p=i[a],l=[],h=So(o,u,p,r,t,e,h,l);n.push(l),u=p[p.length-1]}return e.length=h,o=new Iu(null),ku(o,"XY",e,n),o},nv.el=function(t){if(0>t||this.c.length<=t)return null;var e;t?(e=this.c[t-1],e=e[e.length-1]):e=0,t=this.c[t].slice();var n=t[t.length-1];if(e){var o,i;for(o=0,i=t.length;o<i;++o)t[o]-=e}return o=new Ko(null),o.ca(this.la,this.B.slice(e,n),t),o},nv.md=function(){var t,e,n,o,i=this.la,r=this.B,a=this.c,s=[],u=0;for(t=0,e=a.length;t<e;++t){var h=a[t].slice(),p=h[h.length-1];if(u)for(n=0,o=h.length;n<o;++n)h[n]-=u;n=new Ko(null),n.ca(i,r.slice(u,p),h),s.push(n),u=p}return s},nv.S=function(){return"MultiPolygon"},nv.Ya=function(t){t:{var e,n,o=Ou(this),i=this.c,r=this.a,a=0;for(e=0,n=i.length;e<n;++e){var s=i[e];if(ko(o,a,s,r,t)){t=!0;break t}a=s[s.length-1]}t=!1}return t},nv.pa=function(t,e){if(t){ho(this,e,t,3),this.B||(this.B=[]);var n,o,i=this.B,r=this.a,a=this.c,s=0,a=a?a:[],u=0;for(n=0,o=t.length;n<o;++n)s=_o(i,s,t[n],r,a[u]),a[u++]=s,s=s[s.length-1];a.length=u,a.length?(i=a[a.length-1],this.B.length=i.length?i[i.length-1]:0):this.B.length=0,this.s()}else ku(this,"XY",null,this.c)},c(Du,_u);var nm={Point:function(t){return void 0!==t.m&&void 0!==t.z?new To([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new To([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new To([t.x,t.y,t.m],"XYM"):new To([t.x,t.y])},LineString:function(t){return new Cu(t.paths[0],ju(t))},Polygon:function(t){return new Ko(t.rings,ju(t))},MultiPoint:function(t){return new Lu(t.points,ju(t))},MultiLineString:function(t){return new Tu(t.paths,ju(t))},MultiPolygon:function(t){return new Iu(t.rings,ju(t))}},om={Point:function(t){var e,n=t.W();return t=t.la,"XYZ"===t?e={x:n[0],y:n[1],z:n[2]}:"XYM"===t?e={x:n[0],y:n[1],m:n[2]}:"XYZM"===t?e={x:n[0],y:n[1],z:n[2],m:n[3]}:"XY"===t?e={x:n[0],y:n[1]}:v(!1,34),e},LineString:function(t){var e=Ku(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=Ku(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=Ku(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=Ku(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=Ku(t);t=t.W(!1);for(var n=[],o=0;o<t.length;o++)for(var i=t[o].length-1;0<=i;i--)n.push(t[o][i]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};nv=Du.prototype,nv.Wc=function(t,e){var n=Fu(t.geometry,e),o=new zs;return this.b&&o.Yc(this.b),o.Ta(n),e&&e.Zf&&t.attributes[e.Zf]&&o.lc(t.attributes[e.Zf]),t.attributes&&o.H(t.attributes),o},nv.sg=function(t,e){var n=e?e:{};if(t.features){var o,i,r=[],a=t.features;for(n.Zf=t.objectIdFieldName,o=0,i=a.length;o<i;++o)r.push(this.Wc(a[o],n));return r}return[this.Wc(t,n)]},nv.wg=function(t,e){return Fu(t,e)},nv.zg=function(t){return t.spatialReference&&t.spatialReference.wkid?Tt("EPSG:"+t.spatialReference.wkid):null},nv.ie=function(t,e){return Bu(t,mu(this,e))},nv.dd=function(t,e){e=mu(this,e);var n={},o=t.U();return o&&(n.geometry=Bu(o,e)),o=t.M(),delete o[t.c],n.attributes=pt(o)?{}:o,e&&e.featureProjection&&(n.spatialReference={wkid:Tt(e.featureProjection).nb.split(":").pop()}),n},nv.ge=function(t,e){e=mu(this,e);var n,o,i=[];for(n=0,o=t.length;n<o;++n)i.push(this.dd(t[n],e));return{features:i}},c(Uu,Xu),c(Yu,Uu),c(Gu,Xu),c(Wu,Xu),c(zu,Wu),c(Hu,zu),c(qu,zu),c(Vu,zu),c($u,Xu),c(Zu,$u),c(Ju,Wu),c(Qu,Wu),c(th,Wu),c(eh,zu),c(nh,zu),c(oh,Xu),c(ih,zu),c(rh,Uu),c(ah,$u),c(hh,oo),nv=hh.prototype,nv.clone=function(){var t=new hh(null);return t.jj(this.a),t},nv.Hb=function(t,e,n,o){if(o<k(this.D(),t,e))return o;var i,r,a=this.a;for(i=0,r=a.length;i<r;++i)o=a[i].Hb(t,e,n,o);return o},nv.Sc=function(t,e){var n,o,i=this.a;for(n=0,o=i.length;n<o;++n)if(i[n].Sc(t,e))return!0;return!1},nv.se=function(t){B(1/0,1/0,-(1/0),-(1/0),t);for(var e=this.a,n=0,o=e.length;n<o;++n)G(t,e[n].D());return t},nv.Qf=function(){return ph(this.a)},nv.Td=function(t){if(this.l!=this.g&&(ut(this.i),this.f=0,this.l=this.g),0>t||this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n,o,i=[],r=this.a,a=!1;for(n=0,o=r.length;n<o;++n){var s=r[n],u=s.Td(t);i.push(u),u!==s&&(a=!0)}return a?(t=new hh(null),lh(t),t.a=i,ch(t),t.s(),this.i[e]=t):(this.f=t,this)},nv.S=function(){return"GeometryCollection"},nv.Ya=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)if(o[e].Ya(t))return!0;return!1},nv.rotate=function(t,e){for(var n=this.a,o=0,i=n.length;o<i;++o)n[o].rotate(t,e);this.s()},nv.scale=function(t,e,n){n||(n=Z(this.D()));for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].scale(t,e,n);this.s()},nv.jj=function(t){t=ph(t),lh(this),this.a=t,ch(this),this.s()},nv.Fc=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)o[e].Fc(t);this.s()},nv.translate=function(t,e){var n,o,i=this.a;for(n=0,o=i.length;n<o;++n)i[n].translate(t,e);this.s()},nv.ra=function(){lh(this),oo.prototype.ra.call(this)},c(fh,_u);var im={Point:function(t){return new To(t.coordinates)},LineString:function(t){return new Cu(t.coordinates)},Polygon:function(t){return new Ko(t.coordinates)},MultiPoint:function(t){return new Lu(t.coordinates)},MultiLineString:function(t){return new Tu(t.coordinates)},MultiPolygon:function(t){return new Iu(t.coordinates)},GeometryCollection:function(t,e){var n=t.geometries.map(function(t){return dh(t,e)});return new hh(n)}},rm={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.W(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.W(n)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var n=hv({},e);return delete n.featureProjection,yh(t,n)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};nv=fh.prototype,nv.Wc=function(t,e){var n;n="Feature"===t.type?t:{type:"Feature",geometry:t};var o=dh(n.geometry,e),i=new zs;return this.b&&i.Yc(this.b),i.Ta(o),void 0!==n.id&&i.lc(n.id),n.properties&&i.H(n.properties),i},nv.sg=function(t,e){var n;if("FeatureCollection"===t.type){n=[];var o,i,r=t.features;for(o=0,i=r.length;o<i;++o)n.push(this.Wc(r[o],e))}else n=[this.Wc(t,e)];return n},nv.wg=function(t,e){return dh(t,e)},nv.zg=function(t){t=t.crs;var e;return t?"name"==t.type?e=Tt(t.properties.name):"EPSG"==t.type?e=Tt("EPSG:"+t.properties.code):v(!1,36):e=this.defaultDataProjection,e},nv.dd=function(t,e){e=mu(this,e);var n={type:"Feature"},o=t.a;return void 0!==o&&(n.id=o),(o=t.U())?n.geometry=yh(o,e):n.geometry=null,o=t.M(),delete o[t.c],pt(o)?n.properties=null:n.properties=o,n},nv.ge=function(t,e){e=mu(this,e);var n,o,i=[];for(n=0,o=t.length;n<o;++n)i.push(this.dd(t[n],e));return{type:"FeatureCollection",features:i}},nv.ie=function(t,e){return yh(t,mu(this,e))},c(vh,vu),nv=vh.prototype,nv.S=function(){return"xml"},nv.Vb=function(t,e){if(Zs(t))return gh(this,t,e);if(Js(t))return this.rg(t,e);if("string"==typeof t){var n=Qs(t);return gh(this,n,e)}return null},nv.rg=function(){return null},nv.Pa=function(t,e){if(Zs(t))return mh(this,t,e);if(Js(t))return this.Bc(t,e);if("string"==typeof t){var n=Qs(t);return mh(this,n,e)}return[]},nv.Xc=function(t,e){return Zs(t)?null:Js(t)?this.Vi(t,e):("string"==typeof t&&Qs(t),null)},nv.Vi=function(){return null},nv.jb=function(t){return Zs(t)?this.yg(t):Js(t)?this.hf(t):"string"==typeof t?(t=Qs(t),this.yg(t)):null},nv.yg=function(){return this.defaultDataProjection},nv.hf=function(){return this.defaultDataProjection},nv.Dd=function(t,e){return this.g.serializeToString(this.Ng(t,e))},nv.Ng=function(){return null},nv.Yb=function(t,e){var n=this.Zb(t,e);return this.g.serializeToString(n)},nv.Zb=function(){return null},nv.ed=function(t,e){var n=this.he(t,e);return this.g.serializeToString(n)},nv.he=function(){return null},c(bh,vh);var am=/^[\s\xa0]*$/;nv=bh.prototype,nv.ae=function(t,e){var n=t.localName,o=null;if("FeatureCollection"==n)o="http://www.opengis.net/wfs"===t.namespaceURI?lu([],this.b,t,e,this):lu(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i,r,a=e[0],s=a.featureType,u=a.featureNS;if(!s&&t.childNodes){
for(s=[],u={},i=0,r=t.childNodes.length;i<r;++i){var h=t.childNodes[i];if(1===h.nodeType){var p=h.nodeName.split(":").pop();if(-1===s.indexOf(p)){var l,c="",f=0,h=h.namespaceURI;for(l in u){if(u[l]===h){c=l;break}++f}c||(c="p"+f,u[c]=h),s.push(c+":"+p)}}}"featureMember"!=n&&(a.featureType=s,a.featureNS=u)}"string"==typeof u&&(i=u,u={},u.p0=i);var d,a={},s=Array.isArray(s)?s:[s];for(d in u){for(p={},i=0,r=s.length;i<r;++i)(-1===s[i].indexOf(":")?"p0":s[i].split(":")[0])===d&&(p[s[i].split(":").pop()]="featureMembers"==n?eu(this.qg,this):nu(this.qg,this));a[u[d]]=p}o="featureMember"==n?lu(void 0,a,t,e):lu([],a,t,e)}return null===o&&(o=[]),o},nv.ef=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName");var o=lu(null,this.Rg,t,e,this);if(o)return bu(o,!1,n)},nv.qg=function(t,e){var n,o;(o=t.getAttribute("fid"))||(o=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var i,r={};for(n=t.firstElementChild;n;n=n.nextElementSibling){var a=n.localName;if(0===n.childNodes.length||1===n.childNodes.length&&(3===n.firstChild.nodeType||4===n.firstChild.nodeType)){var s=Vs(n,!1);am.test(s)&&(s=void 0),r[a]=s}else"boundedBy"!==a&&(i=a),r[a]=this.ef(n,e)}return n=new zs(r),i&&n.Yc(i),o&&n.lc(o),n},nv.$i=function(t,e){var n=this.df(t,e);if(n){var o=new To(null);return o.ca("XYZ",n),o}},nv.Yi=function(t,e){var n=lu([],this.Jj,t,e,this);if(n)return new Lu(n)},nv.Xi=function(t,e){var n=lu([],this.Ij,t,e,this);if(n){var o=new Tu(null);return Eu(o,n),o}},nv.Zi=function(t,e){var n=lu([],this.Kj,t,e,this);if(n){var o=new Iu(null);return Ru(o,n),o}},nv.Ri=function(t,e){pu(this.Nj,t,e,this)},nv.Fh=function(t,e){pu(this.Gj,t,e,this)},nv.Si=function(t,e){pu(this.Oj,t,e,this)},nv.ff=function(t,e){var n=this.df(t,e);if(n){var o=new Cu(null);return o.ca("XYZ",n),o}},nv.mp=function(t,e){var n=lu(null,this.je,t,e,this);if(n)return n},nv.Wi=function(t,e){var n=this.df(t,e);if(n){var o=new Co(null);return Mo(o,"XYZ",n),o}},nv.gf=function(t,e){var n=lu([null],this.xf,t,e,this);if(n&&n[0]){var o,i,r=new Ko(null),s=n[0],u=[s.length];for(o=1,i=n.length;o<i;++o)a(s,n[o]),u.push(s.length);return r.ca("XYZ",s,u),r}},nv.df=function(t,e){return lu(null,this.je,t,e,this)},nv.Jj={"http://www.opengis.net/gml":{pointMember:eu(bh.prototype.Ri),pointMembers:eu(bh.prototype.Ri)}},nv.Ij={"http://www.opengis.net/gml":{lineStringMember:eu(bh.prototype.Fh),lineStringMembers:eu(bh.prototype.Fh)}},nv.Kj={"http://www.opengis.net/gml":{polygonMember:eu(bh.prototype.Si),polygonMembers:eu(bh.prototype.Si)}},nv.Nj={"http://www.opengis.net/gml":{Point:eu(bh.prototype.df)}},nv.Gj={"http://www.opengis.net/gml":{LineString:eu(bh.prototype.ff)}},nv.Oj={"http://www.opengis.net/gml":{Polygon:eu(bh.prototype.gf)}},nv.ke={"http://www.opengis.net/gml":{LinearRing:nu(bh.prototype.mp)}},nv.Vi=function(t,e){var n=this.ef(t,[gu(this,t,e?e:{})]);return n?n:null},nv.Bc=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&hv(n,gu(this,t,e)),this.ae(t,[n])||[]},nv.hf=function(t){return Tt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},c(Nh,bh),nv=Nh.prototype,nv.qp=function(t,e){var n=lu([],this.Hj,t,e,this);if(n){var o=new Tu(null);return Eu(o,n),o}},nv.rp=function(t,e){var n=lu([],this.Lj,t,e,this);if(n){var o=new Iu(null);return Ru(o,n),o}},nv.hh=function(t,e){pu(this.Dj,t,e,this)},nv.wj=function(t,e){pu(this.Rj,t,e,this)},nv.up=function(t,e){return lu([null],this.Mj,t,e,this)},nv.xp=function(t,e){return lu([null],this.Qj,t,e,this)},nv.vp=function(t,e){return lu([null],this.xf,t,e,this)},nv.pp=function(t,e){return lu([null],this.je,t,e,this)},nv.Yl=function(t,e){var n=lu(void 0,this.ke,t,e,this);n&&e[e.length-1].push(n)},nv.uk=function(t,e){var n=lu(void 0,this.ke,t,e,this);n&&(e[e.length-1][0]=n)},nv.aj=function(t,e){var n=lu([null],this.Sj,t,e,this);if(n&&n[0]){var o,i,r=new Ko(null),s=n[0],u=[s.length];for(o=1,i=n.length;o<i;++o)a(s,n[o]),u.push(s.length);return r.ca("XYZ",s,u),r}},nv.Ti=function(t,e){var n=lu([null],this.Ej,t,e,this);if(n){var o=new Cu(null);return o.ca("XYZ",n),o}},nv.lp=function(t,e){var n=lu([null],this.Fj,t,e,this);return B(n[1][0],n[1][1],n[2][0],n[2][1])},nv.np=function(t,e){for(var n,o=Vs(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,r=[];n=i.exec(o);)r.push(parseFloat(n[1])),o=o.substr(n[0].length);if(""===o){if(o=e[0].srsName,i="enu",o&&(i=Tt(o).b),"neu"===i)for(o=0,i=r.length;o<i;o+=3)n=r[o],r[o]=r[o+1],r[o+1]=n;if(o=r.length,2==o&&r.push(0),o)return r}},nv.vg=function(t,e){var n=Vs(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i=t.parentNode.getAttribute("srsDimension"),r="enu";o&&(r=Tt(o).b),n=n.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=Mh(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=Mh(t.getAttribute("dimension")):i&&(o=Mh(i));for(var a,s,u=[],h=0,p=n.length;h<p;h+=o)i=parseFloat(n[h]),a=parseFloat(n[h+1]),s=3===o?parseFloat(n[h+2]):0,"en"===r.substr(0,2)?u.push(i,a,s):u.push(a,i,s);return u},nv.je={"http://www.opengis.net/gml":{pos:nu(Nh.prototype.np),posList:nu(Nh.prototype.vg)}},nv.xf={"http://www.opengis.net/gml":{interior:Nh.prototype.Yl,exterior:Nh.prototype.uk}},nv.Rg={"http://www.opengis.net/gml":{Point:nu(bh.prototype.$i),MultiPoint:nu(bh.prototype.Yi),LineString:nu(bh.prototype.ff),MultiLineString:nu(bh.prototype.Xi),LinearRing:nu(bh.prototype.Wi),Polygon:nu(bh.prototype.gf),MultiPolygon:nu(bh.prototype.Zi),Surface:nu(Nh.prototype.aj),MultiSurface:nu(Nh.prototype.rp),Curve:nu(Nh.prototype.Ti),MultiCurve:nu(Nh.prototype.qp),Envelope:nu(Nh.prototype.lp)}},nv.Hj={"http://www.opengis.net/gml":{curveMember:eu(Nh.prototype.hh),curveMembers:eu(Nh.prototype.hh)}},nv.Lj={"http://www.opengis.net/gml":{surfaceMember:eu(Nh.prototype.wj),surfaceMembers:eu(Nh.prototype.wj)}},nv.Dj={"http://www.opengis.net/gml":{LineString:eu(bh.prototype.ff),Curve:eu(Nh.prototype.Ti)}},nv.Rj={"http://www.opengis.net/gml":{Polygon:eu(bh.prototype.gf),Surface:eu(Nh.prototype.aj)}},nv.Sj={"http://www.opengis.net/gml":{patches:nu(Nh.prototype.up)}},nv.Ej={"http://www.opengis.net/gml":{segments:nu(Nh.prototype.xp)}},nv.Fj={"http://www.opengis.net/gml":{lowerCorner:eu(Nh.prototype.vg),upperCorner:eu(Nh.prototype.vg)}},nv.Mj={"http://www.opengis.net/gml":{PolygonPatch:nu(Nh.prototype.vp)}},nv.Qj={"http://www.opengis.net/gml":{LineStringSegment:nu(Nh.prototype.pp)}},nv.gi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=qs(t.namespaceURI,"pos"),t.appendChild(o),n=n[n.length-1].srsName,t="enu",n&&(t=Tt(n).b),e=e.W(),Ih(o,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var sm={"http://www.opengis.net/gml":{lowerCorner:ru(Ih),upperCorner:ru(Ih)}};nv=Nh.prototype,nv.cn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),fu({node:t},sm,em,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},nv.di=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=qs(t.namespaceURI,"posList"),t.appendChild(o),Oh(o,e,n)},nv.bn=function(t,e){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),qs(o.namespaceURI,void 0!==i?"interior":"exterior")},nv.Re=function(t,e,n){var o=n[n.length-1].srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Oc(),fu({node:t,srsName:o},lm,this.bn,e,n,void 0,this)):"Surface"===t.nodeName&&(o=qs(t.namespaceURI,"patches"),t.appendChild(o),t=qs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.Re(t,e,n))},nv.Qe=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=qs(t.namespaceURI,"posList"),t.appendChild(o),Oh(o,e,n)):"Curve"===t.nodeName&&(o=qs(t.namespaceURI,"segments"),t.appendChild(o),t=qs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Qe(t,e,n))},nv.fi=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.surface;i&&t.setAttribute("srsName",i),e=e.md(),fu({node:t,srsName:i,surface:o},um,this.l,e,n,void 0,this)},nv.dn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),e=e.Zd(),fu({node:t,srsName:o},hm,su("pointMember"),e,n,void 0,this)},nv.ei=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.curve;i&&t.setAttribute("srsName",i),e=e.Nc(),fu({node:t,srsName:i,curve:o},pm,this.l,e,n,void 0,this)},nv.hi=function(t,e,n){var o=qs(t.namespaceURI,"LinearRing");t.appendChild(o),this.di(o,e,n)},nv.ii=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Re(o,e,n))},nv.en=function(t,e,n){var o=qs(t.namespaceURI,"Point");t.appendChild(o),this.gi(o,e,n)},nv.ci=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Qe(o,e,n))},nv.rd=function(t,e,n){var o=n[n.length-1],i=hv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?kt(e,o.featureProjection,o.dataProjection):e:bu(e,!0,o),fu(i,cm,this.a,[r],n,void 0,this)},nv.bi=function(t,e,n){var o=e.a;o&&t.setAttribute("fid",o);var o=n[n.length-1],i=o.featureNS,r=e.c;o.kb||(o.kb={},o.kb[i]={});var a=e.M();e=[];var s,u=[];for(s in a){var h=a[s];null!==h&&(e.push(s),u.push(h),s==r||h instanceof oo?s in o.kb[i]||(o.kb[i][s]=ru(this.rd,this)):s in o.kb[i]||(o.kb[i][s]=ru(Ih)))}s=hv({},o),s.node=t,fu(s,o.kb,su(void 0,i),u,n,e)};var um={"http://www.opengis.net/gml":{surfaceMember:ru(Nh.prototype.ii),polygonMember:ru(Nh.prototype.ii)}},hm={"http://www.opengis.net/gml":{pointMember:ru(Nh.prototype.en)}},pm={"http://www.opengis.net/gml":{lineStringMember:ru(Nh.prototype.ci),curveMember:ru(Nh.prototype.ci)}},lm={"http://www.opengis.net/gml":{exterior:ru(Nh.prototype.hi),interior:ru(Nh.prototype.hi)}},cm={"http://www.opengis.net/gml":{Curve:ru(Nh.prototype.Qe),MultiCurve:ru(Nh.prototype.ei),Point:ru(Nh.prototype.gi),MultiPoint:ru(Nh.prototype.dn),LineString:ru(Nh.prototype.Qe),MultiLineString:ru(Nh.prototype.ei),LinearRing:ru(Nh.prototype.di),Polygon:ru(Nh.prototype.Re),MultiPolygon:ru(Nh.prototype.fi),Surface:ru(Nh.prototype.Re),MultiSurface:ru(Nh.prototype.fi),Envelope:ru(Nh.prototype.cn)}},fm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Nh.prototype.l=function(t,e){return qs("http://www.opengis.net/gml",fm[e[e.length-1].node.nodeName])},Nh.prototype.a=function(t,e){var n,o=e[e.length-1],i=o.multiSurface,r=o.surface,a=o.curve,o=o.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.S(),"MultiPolygon"===n&&!0===i?n="MultiSurface":"Polygon"===n&&!0===r?n="Surface":"LineString"===n&&!0===a?n="Curve":"MultiLineString"===n&&!0===o&&(n="MultiCurve")),qs("http://www.opengis.net/gml",n)},Nh.prototype.he=function(t,e){e=mu(this,e);var n=qs("http://www.opengis.net/gml","geom"),o={node:n,srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.f};return e&&hv(o,e),this.rd(n,t,[o]),n},Nh.prototype.Zb=function(t,e){e=mu(this,e);var n=qs("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&hv(o,e);var o=[o],i=o[o.length-1],r=i.featureType,a=i.featureNS,s={};return s[a]={},s[a][r]=ru(this.bi,this),i=hv({},i),i.node=n,fu(i,s,su(r,a),t,o),n},c(kh,bh),nv=kh.prototype,nv.Ui=function(t,e){var n=Vs(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i="enu";o&&(o=Tt(o))&&(i=o.b);for(var r,a,n=n.trim().split(/\s+/),s=[],u=0,h=n.length;u<h;u++)a=n[u].split(/,+/),o=parseFloat(a[0]),r=parseFloat(a[1]),a=3===a.length?parseFloat(a[2]):0,"en"===i.substr(0,2)?s.push(o,r,a):s.push(r,o,a);return s},nv.jp=function(t,e){var n=lu([null],this.Cj,t,e,this);return B(n[1][0],n[1][1],n[1][3],n[1][4])},nv.Wl=function(t,e){var n=lu(void 0,this.ke,t,e,this);n&&e[e.length-1].push(n)},nv.So=function(t,e){var n=lu(void 0,this.ke,t,e,this);n&&(e[e.length-1][0]=n)},nv.je={"http://www.opengis.net/gml":{coordinates:nu(kh.prototype.Ui)}},nv.xf={"http://www.opengis.net/gml":{innerBoundaryIs:kh.prototype.Wl,outerBoundaryIs:kh.prototype.So}},nv.Cj={"http://www.opengis.net/gml":{coordinates:eu(kh.prototype.Ui)}},nv.Rg={"http://www.opengis.net/gml":{Point:nu(bh.prototype.$i),MultiPoint:nu(bh.prototype.Yi),LineString:nu(bh.prototype.ff),MultiLineString:nu(bh.prototype.Xi),LinearRing:nu(bh.prototype.Wi),Polygon:nu(bh.prototype.gf),MultiPolygon:nu(bh.prototype.Zi),Box:nu(kh.prototype.jp)}},nv.eg=function(t,e){var n,o=e[e.length-1],i=o.multiSurface,r=o.surface,o=o.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.S(),"MultiPolygon"===n&&!0===i?n="MultiSurface":"Polygon"===n&&!0===r?n="Surface":"MultiLineString"===n&&!0===o&&(n="MultiCurve")),qs("http://www.opengis.net/gml",n)},nv.Uh=function(t,e,n){var o=n[n.length-1],i=hv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?kt(e,o.featureProjection,o.dataProjection):e:bu(e,!0,o),fu(i,dm,this.eg,[r],n,void 0,this)},nv.Oe=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Rh(t.namespaceURI),t.appendChild(o),Dh(o,e,n)):"Curve"===t.nodeName&&(o=qs(t.namespaceURI,"segments"),t.appendChild(o),t=qs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Oe(t,e,n))},nv.Pe=function(t,e,n){var o=n[n.length-1].srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Oc(),fu({node:t,srsName:o},ym,this.Ym,e,n,void 0,this)):"Surface"===t.nodeName&&(o=qs(t.namespaceURI,"patches"),t.appendChild(o),t=qs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.Pe(t,e,n))},nv.Ym=function(t,e){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),qs(o.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},nv.$h=function(t,e,n){var o=qs(t.namespaceURI,"LinearRing");t.appendChild(o),this.Wh(o,e,n)},nv.Xh=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.curve;i&&t.setAttribute("srsName",i),e=e.Nc(),fu({node:t,srsName:i,curve:o},gm,this.a,e,n,void 0,this)},nv.Zh=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),n=Rh(t.namespaceURI),t.appendChild(n),t=e.W(),t=Fh(t,o),Ih(n,t)},nv.$m=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),e=e.Zd(),fu({node:t,srsName:o},vm,su("pointMember"),e,n,void 0,this)},nv.an=function(t,e,n){var o=qs(t.namespaceURI,"Point");t.appendChild(o),this.Zh(o,e,n)},nv.Vh=function(t,e,n){var o=this.eg(e,n);o&&(t.appendChild(o),this.Oe(o,e,n))},nv.Wh=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Rh(t.namespaceURI),t.appendChild(o),Dh(o,e,n)},nv.Yh=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.surface;i&&t.setAttribute("srsName",i),e=e.md(),fu({node:t,srsName:i,surface:o},bm,this.a,e,n,void 0,this)},nv.ai=function(t,e,n){var o=this.eg(e,n);o&&(t.appendChild(o),this.Pe(o,e,n))},nv.Zm=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),fu({node:t},_m,em,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)};var dm={"http://www.opengis.net/gml":{Curve:ru(kh.prototype.Oe),MultiCurve:ru(kh.prototype.Xh),Point:ru(kh.prototype.Zh),MultiPoint:ru(kh.prototype.$m),LineString:ru(kh.prototype.Oe),MultiLineString:ru(kh.prototype.Xh),LinearRing:ru(kh.prototype.Wh),Polygon:ru(kh.prototype.Pe),MultiPolygon:ru(kh.prototype.Yh),Surface:ru(kh.prototype.Pe),MultiSurface:ru(kh.prototype.Yh),Envelope:ru(kh.prototype.Zm)}},ym={"http://www.opengis.net/gml":{outerBoundaryIs:ru(kh.prototype.$h),innerBoundaryIs:ru(kh.prototype.$h)}},vm={"http://www.opengis.net/gml":{pointMember:ru(kh.prototype.an)}},gm={"http://www.opengis.net/gml":{lineStringMember:ru(kh.prototype.Vh),curveMember:ru(kh.prototype.Vh)}};kh.prototype.a=function(t,e){return qs("http://www.opengis.net/gml",mm[e[e.length-1].node.nodeName])};var mm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},bm={"http://www.opengis.net/gml":{surfaceMember:ru(kh.prototype.ai),polygonMember:ru(kh.prototype.ai)}},_m={"http://www.opengis.net/gml":{lowerCorner:ru(Ih),upperCorner:ru(Ih)}};c(jh,vh);var xm=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],wm={rte:Yh,trk:Gh,wpt:Wh},Pm=hu(xm,{rte:eu(Yh),trk:eu(Gh),wpt:eu(Wh)}),Sm=hu(xm,{text:iu(Th,"linkText"),type:iu(Th,"linkType")}),Cm=hu(xm,{name:iu(Th),cmt:iu(Th),desc:iu(Th),src:iu(Th),link:Xh,number:iu(Ch),extensions:Uh,type:iu(Th),rtept:function(t,e){var n=lu({},Mm,t,e);if(n){var o=e[e.length-1];Kh(o.flatCoordinates,o.layoutOptions,t,n)}}}),Mm=hu(xm,{ele:iu(Ph),time:iu(wh)}),Tm=hu(xm,{name:iu(Th),cmt:iu(Th),desc:iu(Th),src:iu(Th),link:Xh,number:iu(Ch),type:iu(Th),extensions:Uh,trkseg:function(t,e){var n=e[e.length-1];pu(Am,t,e),n.ends.push(n.flatCoordinates.length)}}),Am=hu(xm,{trkpt:function(t,e){var n=lu({},Em,t,e);if(n){var o=e[e.length-1];Kh(o.flatCoordinates,o.layoutOptions,t,n)}}}),Em=hu(xm,{ele:iu(Ph),time:iu(wh)}),Lm=hu(xm,{ele:iu(Ph),time:iu(wh),magvar:iu(Ph),geoidheight:iu(Ph),name:iu(Th),cmt:iu(Th),desc:iu(Th),src:iu(Th),link:Xh,sym:iu(Th),type:iu(Th),fix:iu(Th),sat:iu(Ch),hdop:iu(Ph),vdop:iu(Ph),pdop:iu(Ph),ageofdgpsdata:iu(Ph),dgpsid:iu(Ch),extensions:Uh});jh.prototype.rg=function(t,e){if(!i(xm,t.namespaceURI))return null;var n=wm[t.localName];return n&&(n=n(t,[gu(this,t,e)]))?(zh(this,[n]),n):null},jh.prototype.Bc=function(t,e){if(!i(xm,t.namespaceURI))return[];if("gpx"==t.localName){var n=lu([],Pm,t,[gu(this,t,e)]);if(n)return zh(this,n),n}return[]};var Im=["text","type"],Nm=hu(xm,{text:ru(Ih),type:ru(Ih)}),Om=hu(xm,"name cmt desc src link number type rtept".split(" ")),km=hu(xm,{name:ru(Ih),cmt:ru(Ih),desc:ru(Ih),src:ru(Ih),link:ru(Hh),number:ru(Lh),type:ru(Ih),rtept:au(ru(qh))}),Rm=hu(xm,["ele","time"]),Dm=hu(xm,"name cmt desc src link number type trkseg".split(" ")),Fm=hu(xm,{name:ru(Ih),cmt:ru(Ih),desc:ru(Ih),src:ru(Ih),link:ru(Hh),number:ru(Lh),type:ru(Ih),trkseg:au(ru(function(t,e,n){fu({node:t,geometryLayout:e.la,properties:{}},Km,jm,e.W(),n)}))}),jm=su("trkpt"),Km=hu(xm,{trkpt:ru(qh)}),Bm=hu(xm,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Xm=hu(xm,{ele:ru(Eh),time:ru(function(t,e){var n=new Date(1e3*e);t.appendChild(tm.createTextNode(n.getUTCFullYear()+"-"+Un(n.getUTCMonth()+1)+"-"+Un(n.getUTCDate())+"T"+Un(n.getUTCHours())+":"+Un(n.getUTCMinutes())+":"+Un(n.getUTCSeconds())+"Z"))}),magvar:ru(Eh),geoidheight:ru(Eh),name:ru(Ih),cmt:ru(Ih),desc:ru(Ih),src:ru(Ih),link:ru(Hh),sym:ru(Ih),type:ru(Ih),fix:ru(Ih),sat:ru(Lh),hdop:ru(Eh),vdop:ru(Eh),pdop:ru(Eh),ageofdgpsdata:ru(Eh),dgpsid:ru(Lh)}),Um={Point:"wpt",LineString:"rte",MultiLineString:"trk"},Ym=hu(xm,{rte:ru(function(t,e,n){var o=n[0],i=e.M();t={node:t,properties:i},(e=e.U())&&(e=bu(e,!0,o),t.geometryLayout=e.la,i.rtept=e.W()),o=Om[n[n.length-1].node.namespaceURI],i=uu(i,o),fu(t,km,em,i,n,o)}),trk:ru(function(t,e,n){var o=n[0],i=e.M();t={node:t,properties:i},(e=e.U())&&(e=bu(e,!0,o),i.trkseg=e.Nc()),o=Dm[n[n.length-1].node.namespaceURI],i=uu(i,o),fu(t,Fm,em,i,n,o)}),wpt:ru(function(t,e,n){var o=n[0],i=n[n.length-1];i.properties=e.M(),(e=e.U())&&(e=bu(e,!0,o),i.geometryLayout=e.la,qh(t,e.W(),n))})});jh.prototype.Zb=function(t,e){e=mu(this,e);var n=qs("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),fu({node:n},Ym,Vh,t,[e]),n},c($h,vu),nv=$h.prototype,nv.S=function(){return"text"},nv.Vb=function(t,e){return this.$d(Zh(t),mu(this,e))},nv.Pa=function(t,e){return this.tg(Zh(t),mu(this,e))},nv.Xc=function(t,e){return this.yd(Zh(t),mu(this,e))},nv.jb=function(){return this.defaultDataProjection},nv.Dd=function(t,e){return this.fe(t,mu(this,e))},nv.Yb=function(t,e){return this.Og(t,mu(this,e))},nv.ed=function(t,e){return this.Ed(t,mu(this,e))},c(Jh,$h);var Gm=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Wm=/^H.([A-Z]{3}).*?:(.*)/,zm=/^HFDTE(\d{2})(\d{2})(\d{2})/,Hm=/\r\n|\r|\n/;nv=Jh.prototype,nv.$d=function(t,e){var n,o,i=this.b,r=t.split(Hm),a={},s=[],u=2e3,h=0,p=1,l=-1;for(n=0,o=r.length;n<o;++n){var c,f=r[n];if("B"==f.charAt(0)){if(c=Gm.exec(f)){var f=parseInt(c[1],10),d=parseInt(c[2],10),y=parseInt(c[3],10),v=parseInt(c[4],10)+parseInt(c[5],10)/6e4;"S"==c[6]&&(v=-v);var g=parseInt(c[7],10)+parseInt(c[8],10)/6e4;"W"==c[9]&&(g=-g),s.push(g,v),"none"!=i&&s.push("gps"==i?parseInt(c[11],10):"barometric"==i?parseInt(c[12],10):0),c=Date.UTC(u,h,p,f,d,y),c<l&&(c=Date.UTC(u,h,p+1,f,d,y)),s.push(c/1e3),l=c}}else"H"==f.charAt(0)&&((c=zm.exec(f))?(p=parseInt(c[1],10),h=parseInt(c[2],10)-1,u=2e3+parseInt(c[3],10)):(c=Wm.exec(f))&&(a[c[1]]=c[2].trim()))}return s.length?(r=new Cu(null),r.ca("none"==i?"XYM":"XYZM",s),i=new zs(bu(r,!1,e)),i.H(a),i):null},nv.tg=function(t,e){var n=this.$d(t,e);return n?[n]:[]},nv.fe=function(){},nv.Og=function(){},nv.Ed=function(){},nv.yd=function(){},c(Qh,fe),Qh.prototype.u=function(){this.g=3,this.i.forEach(se),this.i=null,this.b("change")},Qh.prototype.v=function(){if(this.g=2,this.a&&(this.N.width=this.a[0],this.N.height=this.a[1]),this.a=[this.N.width,this.N.height],this.i.forEach(se),this.i=null,tp(this),!this.o&&null!==this.f){this.c.width=this.N.width,this.c.height=this.N.height;var t=this.c.getContext("2d");t.drawImage(this.N,0,0);for(var e=t.getImageData(0,0,this.N.width,this.N.height),n=e.data,o=this.f[0]/255,i=this.f[1]/255,r=this.f[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=o,n[a+1]*=i,n[a+2]*=r;t.putImageData(e,0,0)}this.b("change")},Qh.prototype.Y=function(){return this.c?this.c:this.N},Qh.prototype.load=function(){if(0==this.g){this.g=1,this.i=[re(this.N,"error",this.u,this),re(this.N,"load",this.v,this)];try{this.N.src=this.l}catch(t){this.u()}}},c(ep,Ds),nv=ep.prototype,nv.clone=function(){var t,e=this.Y(1);if(2===this.b.g)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var n=t.getContext("2d");t.width=e.width,t.height=e.height,n.drawImage(e,0,0)}return new ep({anchor:this.l.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.G,crossOrigin:this.ta,color:this.i&&this.i.slice?this.i.slice():this.i||void 0,img:t?t:void 0,imgSize:t?this.b.a.slice():void 0,src:t?void 0:this.b.l,offset:this.qa.slice(),offsetOrigin:this.g,size:null!==this.A?this.A.slice():void 0,opacity:this.f,scale:this.c,snapToPixel:this.u,rotation:this.j,rotateWithView:this.o})},nv.Jc=function(){if(this.v)return this.v;var t=this.l,e=this.kc();if("fraction"==this.C||"fraction"==this.G){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.G&&(t[1]*=e[1])}if("top-left"!=this.a){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.a&&"bottom-right"!=this.a||(t[0]=-t[0]+e[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(t[1]=-t[1]+e[1])}return this.v=t},nv.Bo=function(){return this.i},nv.Y=function(t){return this.b.Y(t)},nv.ye=function(){return this.b.a},nv.Xe=function(){return this.b.g},nv.kg=function(){var t=this.b;if(!t.j)if(t.o){var e=t.a[0],n=t.a[1],o=Ee(e,n);o.fillRect(0,0,e,n),t.j=o.canvas}else t.j=t.N;return t.j},nv.Tc=function(){if(this.O)return this.O;var t=this.qa;if("top-left"!=this.g){var e=this.kc(),n=this.b.a;if(!e||!n)return null;t=t.slice(),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=n[1]-e[1]-t[1])}return this.O=t},nv.Co=function(){return this.b.l},nv.kc=function(){return this.A?this.A:this.b.a},nv.Gh=function(t,e){return ie(this.b,"change",t,e)},nv.load=function(){this.b.load()},nv.xj=function(t,e){ae(this.b,"change",t,e)},nv=np.prototype,nv.clone=function(){return new np({font:this.a,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Oa(),textAlign:this.f,textBaseline:this.j,fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,offsetX:this.g,offsetY:this.c})},nv.Jk=function(){return this.a},nv.Yk=function(){return this.g},nv.Zk=function(){return this.c},nv.Ca=function(){return this.Wa},nv.Ho=function(){return this.l},nv.Io=function(){return this.i},nv.Jo=function(){return this.b},nv.Da=function(){return this.Za},nv.Oa=function(){return this.Fa},nv.il=function(){return this.f},nv.jl=function(){return this.j},nv.ij=function(t){this.a=t},nv.oj=function(t){this.g=t},nv.pj=function(t){this.c=t},nv.mf=function(t){this.Wa=t},nv.Ko=function(t){this.i=t},nv.Mi=function(t){this.b=t},nv.nf=function(t){this.Za=t},nv.pf=function(t){this.Fa=t},nv.rj=function(t){this.f=t},nv.Xp=function(t){this.j=t};var qm,Vm,$m,Zm,Jm,Qm,tb,eb,nb,ob,ib,rb,ab,sb,ub;c(op,vh);var hb=["http://www.google.com/kml/ext/2.2"],pb=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],lb={fraction:"fraction",pixels:"pixels"},cb=hu(pb,{displayName:iu(Th),value:iu(Th)}),fb=hu(pb,{Data:function(t,e){var n=t.getAttribute("name");pu(cb,t,e);var o=e[e.length-1];null!==n?o[n]=o.value:null!==o.displayName&&(o[o.displayName]=o.value)},SchemaData:function(t,e){pu(Rb,t,e)}}),db=hu(pb,{LatLonAltBox:function(t,e){var n=lu({},yb,t,e);if(n){var o=e[e.length-1];o.extent=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)],o.altitudeMode=n.altitudeMode,o.minAltitude=parseFloat(n.minAltitude),o.maxAltitude=parseFloat(n.maxAltitude)}},Lod:function(t,e){var n=lu({},vb,t,e);if(n){var o=e[e.length-1];o.minLodPixels=parseFloat(n.minLodPixels),o.maxLodPixels=parseFloat(n.maxLodPixels),o.minFadeExtent=parseFloat(n.minFadeExtent),o.maxFadeExtent=parseFloat(n.maxFadeExtent)}}}),yb=hu(pb,{altitudeMode:iu(Th),minAltitude:iu(Ph),maxAltitude:iu(Ph),north:iu(Ph),south:iu(Ph),east:iu(Ph),west:iu(Ph)}),vb=hu(pb,{minLodPixels:iu(Ph),maxLodPixels:iu(Ph),minFadeExtent:iu(Ph),maxFadeExtent:iu(Ph)}),gb=hu(pb,{extrude:iu(_h),altitudeMode:iu(Th)}),mb=hu(pb,{coordinates:nu(up)}),bb=hu(pb,{innerBoundaryIs:function(t,e){var n=lu(void 0,Sb,t,e);n&&e[e.length-1].push(n)},outerBoundaryIs:function(t,e){var n=lu(void 0,Ib,t,e);n&&(e[e.length-1][0]=n)}}),_b=hu(pb,{when:function(t,e){var n=e[e.length-1].Aj,o=Vs(t,!1),o=Date.parse(o);n.push(isNaN(o)?0:o)}},hu(hb,{coord:function(t,e){var n=e[e.length-1].B,o=Vs(t,!1);(o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(o))?n.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),0):n.push(0,0,0,0)}})),xb=hu(pb,{coordinates:nu(up)}),wb=hu(pb,{href:iu(hp)},hu(hb,{x:iu(Ph),y:iu(Ph),w:iu(Ph),h:iu(Ph)})),Pb=hu(pb,{Icon:iu(function(t,e){var n=lu({},wb,t,e);return n?n:null}),heading:iu(Ph),hotSpot:iu(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),Pg:lb[e],y:parseFloat(t.getAttribute("y")),Qg:lb[n]}}),scale:iu(pp)}),Sb=hu(pb,{LinearRing:nu(lp)}),Cb=hu(pb,{color:iu(sp),scale:iu(pp)}),Mb=hu(pb,{color:iu(sp),width:iu(Ph)}),Tb=hu(pb,{LineString:eu(fp),LinearRing:eu(dp),MultiGeometry:eu(yp),Point:eu(vp),Polygon:eu(gp)}),Ab=hu(hb,{Track:eu(cp)}),Eb=hu(pb,{ExtendedData:_p,Region:xp,Link:function(t,e){pu(Lb,t,e)},address:iu(Th),description:iu(Th),name:iu(Th),open:iu(_h),phoneNumber:iu(Th),visibility:iu(_h)}),Lb=hu(pb,{href:iu(hp)}),Ib=hu(pb,{LinearRing:nu(lp)}),Nb=hu(pb,{Style:iu(mp),key:iu(Th),styleUrl:iu(hp)}),Ob=hu(pb,{ExtendedData:_p,Region:xp,MultiGeometry:iu(yp,"geometry"),LineString:iu(fp,"geometry"),LinearRing:iu(dp,"geometry"),Point:iu(vp,"geometry"),Polygon:iu(gp,"geometry"),Style:iu(mp),StyleMap:function(t,e){var n=lu(void 0,Fb,t,e);if(n){var o=e[e.length-1];Array.isArray(n)?o.Style=n:"string"==typeof n?o.styleUrl=n:v(!1,38)}},address:iu(Th),description:iu(Th),name:iu(Th),open:iu(_h),phoneNumber:iu(Th),styleUrl:iu(hp),visibility:iu(_h)},hu(hb,{MultiTrack:iu(function(t,e){var n=lu([],Ab,t,e);if(n){var o=new Tu(null);return Eu(o,n),o}},"geometry"),Track:iu(cp,"geometry")})),kb=hu(pb,{color:iu(sp),fill:iu(_h),outline:iu(_h)}),Rb=hu(pb,{SimpleData:function(t,e){var n=t.getAttribute("name");if(null!==n){var o=Th(t);e[e.length-1][n]=o}}}),Db=hu(pb,{IconStyle:function(t,e){var n=lu({},Pb,t,e);if(n){var o,i=e[e.length-1],r="Icon"in n?n.Icon:{},a=!("Icon"in n)||0<Object.keys(r).length,s=r.href;s?o=s:a&&(o=eb);var u,h,p;(s=n.hotSpot)?(u=[s.x,s.y],h=s.Pg,p=s.Qg):o===eb?(u=Zm,h=Jm,p=Qm):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)&&(u=[.5,0],p=h="fraction");var l,s=r.x,c=r.y;void 0!==s&&void 0!==c&&(l=[s,c]);var f,s=r.w,r=r.h;void 0!==s&&void 0!==r&&(f=[s,r]);var d,r=n.heading;void 0!==r&&(d=C(r)),n=n.scale,a?(o==eb&&(f=tb,void 0===n&&(n=nb)),a=new ep({anchor:u,anchorOrigin:"bottom-left",anchorXUnits:h,anchorYUnits:p,crossOrigin:"anonymous",offset:l,offsetOrigin:"bottom-left",rotation:d,scale:n,size:f,src:o}),i.imageStyle=a):i.imageStyle=ib}},LabelStyle:function(t,e){var n=lu({},Cb,t,e);n&&(e[e.length-1].textStyle=new np({fill:new Bs({color:"color"in n?n.color:Vm}),scale:n.scale}))},LineStyle:function(t,e){var n=lu({},Mb,t,e);n&&(e[e.length-1].strokeStyle=new Ta({color:"color"in n?n.color:Vm,width:"width"in n?n.width:1}))},PolyStyle:function(t,e){var n=lu({},kb,t,e);if(n){var o=e[e.length-1];o.fillStyle=new Bs({color:"color"in n?n.color:Vm});var i=n.fill;void 0!==i&&(o.fill=i),n=n.outline,void 0!==n&&(o.outline=n)}}}),Fb=hu(pb,{Pair:function(t,e){var n=lu({},Nb,t,e);if(n){var o=n.key;o&&"normal"==o&&((o=n.styleUrl)&&(e[e.length-1]=o),(n=n.Style)&&(e[e.length-1]=n))}}});nv=op.prototype,nv.pg=function(t,e){var n=hu(pb,{Document:tu(this.pg,this),Folder:tu(this.pg,this),Placemark:eu(this.xg,this),Style:this.zp.bind(this),StyleMap:this.yp.bind(this)});if(n=lu([],n,t,e,this))return n},nv.xg=function(t,e){var n=lu({geometry:null},Ob,t,e);if(n){var o=new zs,i=t.getAttribute("id");null!==i&&o.lc(i);var i=e[0],r=n.geometry;return r&&bu(r,!1,i),o.Ta(r),delete n.geometry,this.c&&o.cg(rp(n.Style,n.styleUrl,this.a,this.b,this.f)),delete n.Style,o.H(n),o}},nv.zp=function(t,e){var n=t.getAttribute("id");if(null!==n){var o=mp(t,e);o&&(n=t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[n]=o)}},nv.yp=function(t,e){var n=t.getAttribute("id");if(null!==n){var o=lu(void 0,Fb,t,e);o&&(n=t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[n]=o)}},nv.rg=function(t,e){if(!i(pb,t.namespaceURI))return null;var n=this.xg(t,[gu(this,t,e)]);return n?n:null},nv.Bc=function(t,e){if(!i(pb,t.namespaceURI))return[];var n;if(n=t.localName,"Document"==n||"Folder"==n)return(n=this.pg(t,[gu(this,t,e)]))?n:[];if("Placemark"==n)return(n=this.xg(t,[gu(this,t,e)]))?[n]:[];if("kml"==n){n=[];var o;for(o=t.firstElementChild;o;o=o.nextElementSibling){var r=this.Bc(o,e);r&&a(n,r)}return n}return[]},nv.sp=function(t){return Zs(t)?wp(this,t):Js(t)?Pp(this,t):"string"==typeof t?(t=Qs(t),wp(this,t)):void 0},nv.tp=function(t){var e=[];return Zs(t)?a(e,Sp(this,t)):Js(t)?a(e,Cp(this,t)):"string"==typeof t&&(t=Qs(t),a(e,Sp(this,t))),e},nv.wp=function(t){var e=[];return Zs(t)?a(e,Mp(this,t)):Js(t)?a(e,this.jf(t)):"string"==typeof t&&(t=Qs(t),a(e,Mp(this,t))),e},nv.jf=function(t){var e,n=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(i(pb,e.namespaceURI)&&"Region"==e.localName){var o=lu({},db,e,[]);n.push(o)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!i(pb,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||a(n,this.jf(e));return n};var jb=hu(pb,["Document","Placemark"]),Kb=hu(pb,{Document:ru(function(t,e,n){fu({node:t},Bb,Rp,e,n,void 0,this)}),Placemark:ru(Lp)}),Bb=hu(pb,{Placemark:ru(Lp)}),Xb=hu(pb,{Data:ru(function(t,e,n){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&fu(t,Xb,em,[e.displayName],n,["displayName"]),null!==e&&e.value&&fu(t,Xb,em,[e.value],n,["value"])):fu(t,Xb,em,[e],n,["value"]);
}),value:ru(function(t,e){Ih(t,e)}),displayName:ru(function(t,e){t.appendChild(tm.createCDATASection(e))})}),Ub={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Yb=hu(pb,["href"],hu(hb,["x","y","w","h"])),Gb=hu(pb,{href:ru(Ih)},hu(hb,{x:ru(Eh),y:ru(Eh),w:ru(Eh),h:ru(Eh)})),Wb=hu(pb,["scale","heading","Icon","hotSpot"]),zb=hu(pb,{Icon:ru(function(t,e,n){t={node:t};var o=Yb[n[n.length-1].node.namespaceURI],i=uu(e,o);fu(t,Gb,em,i,n,o),o=Yb[hb[0]],i=uu(e,o),fu(t,Gb,kp,i,n,o)}),heading:ru(Eh),hotSpot:ru(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Pg),t.setAttribute("yunits",e.Qg)}),scale:ru(Op)}),Hb=hu(pb,["color","scale"]),qb=hu(pb,{color:ru(Tp),scale:ru(Op)}),Vb=hu(pb,["color","width"]),$b=hu(pb,{color:ru(Tp),width:ru(Eh)}),Zb=hu(pb,{LinearRing:ru(Ip)}),Jb=hu(pb,{LineString:ru(Ip),Point:ru(Ip),Polygon:ru(Np),GeometryCollection:ru(Ap)}),Qb=hu(pb,"name open visibility address phoneNumber description styleUrl Style".split(" ")),t_=hu(pb,{ExtendedData:ru(function(t,e,n){t={node:t};var o=e.names;e=e.values;for(var i=o.length,r=0;r<i;r++)fu(t,Xb,u_,[{name:o[r],value:e[r]}],n)}),MultiGeometry:ru(Ap),LineString:ru(Ip),LinearRing:ru(Ip),Point:ru(Ip),Polygon:ru(Np),Style:ru(function(t,e,n){t={node:t};var o={},i=e.Ca(),r=e.Da(),a=e.Y();e=e.Oa(),a instanceof ep&&(o.IconStyle=a),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),i&&(o.PolyStyle=i),e=i_[n[n.length-1].node.namespaceURI],o=uu(o,e),fu(t,r_,em,o,n,e)}),address:ru(Ih),description:ru(Ih),name:ru(Ih),open:ru(Ah),phoneNumber:ru(Ih),styleUrl:ru(Ih),visibility:ru(Ah)}),e_=hu(pb,{coordinates:ru(function(t,e,n){n=n[n.length-1];var o=n.layout;n=n.stride;var i;"XY"==o||"XYM"==o?i=2:"XYZ"==o||"XYZM"==o?i=3:v(!1,34);var r,a=e.length,s="";if(0<a){for(s+=e[0],o=1;o<i;++o)s+=","+e[o];for(r=n;r<a;r+=n)for(s+=" "+e[r],o=1;o<i;++o)s+=","+e[r+o]}Ih(t,s)})}),n_=hu(pb,{outerBoundaryIs:ru(Ep),innerBoundaryIs:ru(Ep)}),o_=hu(pb,{color:ru(Tp)}),i_=hu(pb,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),r_=hu(pb,{IconStyle:ru(function(t,e,n){t={node:t};var o={},i=e.kc(),r=e.ye(),a={href:e.b.l};if(i){a.w=i[0],a.h=i[1];var s=e.Jc(),u=e.Tc();u&&r&&u[0]&&u[1]!==i[1]&&(a.x=u[0],a.y=r[1]-(u[1]+i[1])),s&&s[0]&&s[1]!==i[1]&&(o.hotSpot={x:s[0],Pg:"pixels",y:i[1]-s[1],Qg:"pixels"})}o.Icon=a,i=e.c,1!==i&&(o.scale=i),(e=e.j)&&(o.heading=e),e=Wb[n[n.length-1].node.namespaceURI],o=uu(o,e),fu(t,zb,em,o,n,e)}),LabelStyle:ru(function(t,e,n){t={node:t};var o={},i=e.Ca();i&&(o.color=i.b),(e=e.b)&&1!==e&&(o.scale=e),e=Hb[n[n.length-1].node.namespaceURI],o=uu(o,e),fu(t,qb,em,o,n,e)}),LineStyle:ru(function(t,e,n){t={node:t};var o=Vb[n[n.length-1].node.namespaceURI];e=uu({color:e.a,width:e.c},o),fu(t,$b,em,e,n,o)}),PolyStyle:ru(function(t,e,n){fu({node:t},o_,a_,[e.b],n)})}),a_=su("color"),s_=su("coordinates"),u_=su("Data"),h_=su("ExtendedData"),p_=su("innerBoundaryIs"),l_=su("Point"),c_=su("LineString"),f_=su("LinearRing"),d_=su("Polygon"),y_=su("outerBoundaryIs");op.prototype.Zb=function(t,e){e=mu(this,e);var n=qs(pb[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",hb[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:n},i={};1<t.length?i.Document=t:1==t.length&&(i.Placemark=t[0]);var r=jb[n.namespaceURI],i=uu(i,r);return fu(o,Kb,em,i,[e],r,this),n},function(){var t={},n={ma:t};!function(o){if("object"==typeof t&&"undefined"!=typeof n)n.ma=o();else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,i.Bq=o()}}(function(){return function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var h="function"==typeof o&&o;if(!u&&h)return o(s,!0);if(a)return a(s,!0);throw h=Error("Cannot find module '"+s+"'"),h.code="MODULE_NOT_FOUND",h}h=n[s]={ma:{}},e[s][0].call(h.ma,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.ma,t,e,n,i)}return n[s].ma}for(var a="function"==typeof o&&o,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){n.read=function(t,e,n,o,i){var r;r=8*i-o-1;var a=(1<<r)-1,s=a>>1,u=-7;i=n?i-1:0;var h=n?-1:1,p=t[e+i];for(i+=h,n=p&(1<<-u)-1,p>>=-u,u+=r;0<u;n=256*n+t[e+i],i+=h,u-=8);for(r=n&(1<<-u)-1,n>>=-u,u+=o;0<u;r=256*r+t[e+i],i+=h,u-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,o),n-=s}return(p?-1:1)*r*Math.pow(2,n-o)},n.write=function(t,e,n,o,i,r){var a,s=8*r-i-1,u=(1<<s)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;r=o?0:r-1;var l=o?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-o))&&(o--,a*=2),e=1<=o+h?e+p/a:e+p*Math.pow(2,1-h),2<=e*a&&(o++,a/=2),o+h>=u?(e=0,o=u):1<=o+h?(e=(e*a-1)*Math.pow(2,i),o+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[n+r]=255&e,r+=l,e/=256,i-=8);for(o=o<<i|e,s+=i;0<s;t[n+r]=255&o,r+=l,o/=256,s-=8);t[n+r-l]|=128*c}},{}],2:[function(t,e){function n(t){this.nc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ha=0,this.length=this.nc.length}function o(t,e,n){var o,r,a=n.nc;if(r=a[n.ha++],o=(112&r)>>4,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<3,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<10,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<17,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<24,128>r)return i(t,o,e);if(r=a[n.ha++],128>r)return i(t,o|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function i(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.ma=n;var r=t("ieee754");n.c=0,n.g=1,n.b=2,n.a=5,n.prototype={ug:function(t,e,n){for(n=n||this.length;this.ha<n;){var o=this.Ma(),i=o>>3,r=this.ha;this.type=7&o,t(i,e,this),this.ha===r&&this.bq(o)}return e},op:function(){var t=r.read(this.nc,this.ha,!0,23,4);return this.ha+=4,t},kp:function(){var t=r.read(this.nc,this.ha,!0,52,8);return this.ha+=8,t},Ma:function(t){var e,n,i=this.nc;return n=i[this.ha++],e=127&n,128>n?e:(n=i[this.ha++],e|=(127&n)<<7,128>n?e:(n=i[this.ha++],e|=(127&n)<<14,128>n?e:(n=i[this.ha++],e|=(127&n)<<21,128>n?e:(n=i[this.ha],o(e|(15&n)<<28,t,this)))))},Ap:function(){return this.Ma(!0)},be:function(){var t=this.Ma();return 1===t%2?(t+1)/-2:t/2},ip:function(){return!!this.Ma()},Ag:function(){for(var t=this.Ma()+this.ha,e=this.nc,n="",o=this.ha;o<t;){var i=e[o],r=null,a=239<i?4:223<i?3:191<i?2:1;if(o+a>t)break;var s,u,h;1===a?128>i&&(r=i):2===a?(s=e[o+1],128===(192&s)&&(r=(31&i)<<6|63&s,127>=r&&(r=null))):3===a?(s=e[o+1],u=e[o+2],128===(192&s)&&128===(192&u)&&(r=(15&i)<<12|(63&s)<<6|63&u,2047>=r||55296<=r&&57343>=r)&&(r=null)):4===a&&(s=e[o+1],u=e[o+2],h=e[o+3],128===(192&s)&&128===(192&u)&&128===(192&h)&&(r=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&h,65535>=r||1114112<=r))&&(r=null),null===r?(r=65533,a=1):65535<r&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n+=String.fromCharCode(r),o+=a}return this.ha=t,n},bq:function(t){if(t&=7,t===n.c)for(;127<this.nc[this.ha++];);else if(t===n.b)this.ha=this.Ma()+this.ha;else if(t===n.a)this.ha+=4;else{if(t!==n.g)throw Error("Unimplemented type: "+t);this.ha+=8}}}},{ieee754:1}]},{},[2])(2)}),kg=n.ma}(),function(){var t={},n={ma:t};!function(o){if("object"==typeof t&&"undefined"!=typeof n)n.ma=o();else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,i.Eq=o()}}(function(){return function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var h="function"==typeof o&&o;if(!u&&h)return o(s,!0);if(a)return a(s,!0);throw h=Error("Cannot find module '"+s+"'"),h.code="MODULE_NOT_FOUND",h}h=n[s]={ma:{}},e[s][0].call(h.ma,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.ma,t,e,n,i)}return n[s].ma}for(var a="function"==typeof o&&o,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){function n(t,e){this.x=t,this.y=e}e.ma=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone().Uj(t)},rotate:function(t){return this.clone().dk(t)},round:function(){return this.clone().ek()},angle:function(){return Math.atan2(this.y,this.x)},Uj:function(t){return this.x+=t.x,this.y+=t.y,this},dk:function(t){var e=Math.cos(t);t=Math.sin(t);var n=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=n,this},ek:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.b=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],2:[function(t,e){e.ma.Tj=t("./lib/vectortile.js"),e.ma.yq=t("./lib/vectortilefeature.js"),e.ma.zq=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function n(t,e,n){3===t&&(t=new o(n,n.Ma()+n.ha),t.length&&(e[t.name]=t))}var o=t("./vectortilelayer");e.ma=function(t,e){this.layers=t.ug(n,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function n(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this.Ec=t,this.Af=-1,this.ne=i,this.pe=r,t.ug(o,this,e)}function o(t,e,n){if(1==t)e.id=n.Ma();else if(2==t)for(t=n.Ma()+n.ha;n.ha<t;){var o=e.ne[n.Ma()],i=e.pe[n.Ma()];e.properties[o]=i}else 3==t?e.type=n.Ma():4==t&&(e.Af=n.ha)}var i=t("point-geometry");e.ma=n,n.b=["Unknown","Point","LineString","Polygon"],n.prototype.Hh=function(){var t=this.Ec;t.ha=this.Af;for(var e,n=t.Ma()+t.ha,o=1,r=0,a=0,s=0,u=[];t.ha<n;)if(r||(r=t.Ma(),o=7&r,r>>=3),r--,1===o||2===o)a+=t.be(),s+=t.be(),1===o&&(e&&u.push(e),e=[]),e.push(new i(a,s));else{if(7!==o)throw Error("unknown command "+o);e&&e.push(e[0].clone())}return e&&u.push(e),u},n.prototype.bbox=function(){var t=this.Ec;t.ha=this.Af;for(var e=t.Ma()+t.ha,n=1,o=0,i=0,r=0,a=1/0,s=-(1/0),u=1/0,h=-(1/0);t.ha<e;)if(o||(o=t.Ma(),n=7&o,o>>=3),o--,1===n||2===n)i+=t.be(),r+=t.be(),i<a&&(a=i),i>s&&(s=i),r<u&&(u=r),r>h&&(h=r);else if(7!==n)throw Error("unknown command "+n);return[a,u,s,h]}},{"point-geometry":1}],5:[function(t,e){function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Ec=t,this.ne=[],this.pe=[],this.me=[],t.ug(o,this,e),this.length=this.me.length}function o(t,e,n){15===t?e.version=n.Ma():1===t?e.name=n.Ag():5===t?e.extent=n.Ma():2===t?e.me.push(n.ha):3===t?e.ne.push(n.Ag()):4===t&&e.pe.push(i(n))}function i(t){for(var e=null,n=t.Ma()+t.ha;t.ha<n;)e=t.Ma()>>3,e=1===e?t.Ag():2===e?t.op():3===e?t.kp():4===e?t.Ap():5===e?t.Ma():6===e?t.be():7===e?t.ip():null;return e}var r=t("./vectortilefeature.js");e.ma=n,n.prototype.feature=function(t){if(0>t||t>=this.me.length)throw Error("feature index out of bounds");return this.Ec.ha=this.me[t],t=this.Ec.Ma()+this.Ec.ha,new r(this.Ec,t,this.extent,this.ne,this.pe)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),Rg=n.ma}(),nv=Fp.prototype,nv.get=function(t){return this.c[t]},nv.Sb=function(){return this.i},nv.D=function(){return this.a||(this.a="Point"===this.g?X(this.b):U(this.b,0,this.b.length,2)),this.a},nv.gc=function(){return this.b},nv.ia=Fp.prototype.gc,nv.U=function(){return this},nv.Nn=function(){return this.c},nv.Td=Fp.prototype.U,nv.sa=function(){return 2},nv.Rc=f,nv.S=function(){return this.g},c(jp,vu),nv=jp.prototype,nv.S=function(){return"arraybuffer"},nv.Pa=function(t,e){var n,o,i,r=this.c,a=new kg(t),a=new Rg.Tj(a),s=[],u=this.b;for(i in a.layers)if(!r||-1!=r.indexOf(i)){n=a.layers[i];for(var h=0,p=n.length;h<p;++h){if(u===Fp){o=void 0;var l=n.feature(h),c=i,f=l.Hh(),d=[],y=[];Kp(f,y,d);var v=l.type;1===v?o=1===f.length?"Point":"MultiPoint":2===v?o=1===f.length?"LineString":"MultiLineString":3===v&&(o="Polygon"),l=l.properties,l[this.a]=c,o=new this.b(o,y,d,l)}else{if(v=n.feature(h),l=i,y=e,o=new this.b,c=v.id,d=v.properties,d[this.a]=l,this.g&&o.Yc(this.g),l=void 0,f=v.type,0===f)l=null;else{var v=v.Hh(),g=[],m=[];Kp(v,m,g),1===f?l=1===v.length?new To(null):new Lu(null):2===f?l=1===v.length?new Cu(null):new Tu(null):3===f&&(l=new Ko(null)),l.ca("XY",m,g)}y=bu(l,!1,mu(this,y)),o.Ta(y),o.lc(c),o.H(d)}s.push(o)}}return s},nv.jb=function(){return this.defaultDataProjection},nv.fn=function(t){this.c=t},nv.Vb=function(){},nv.Xc=function(){},nv.Dd=function(){},nv.ed=function(){},nv.Yb=function(){},c(Bp,vh);var v_=[null],g_=hu(v_,{nd:function(t,e){e[e.length-1].qd.push(t.getAttribute("ref"))},tag:Xp}),m_=hu(v_,{node:function(t,e){var n=e[0],o=e[e.length-1],i=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.Lh[i]=r;var a=lu({ee:{}},b_,t,e);pt(a.ee)||(r=new To(r),bu(r,!1,n),n=new zs(r),n.lc(i),n.H(a.ee),o.features.push(n))},way:function(t,e){for(var n=e[0],o=t.getAttribute("id"),i=lu({qd:[],ee:{}},g_,t,e),r=e[e.length-1],s=[],u=0,h=i.qd.length;u<h;u++)a(s,r.Lh[i.qd[u]]);i.qd[0]==i.qd[i.qd.length-1]?(u=new Ko(null),u.ca("XY",s,[s.length])):(u=new Cu(null),u.ca("XY",s)),bu(u,!1,n),n=new zs(u),n.lc(o),n.H(i.ee),r.features.push(n)}}),b_=hu(v_,{tag:Xp});Bp.prototype.Bc=function(t,e){var n=gu(this,t,e);return"osm"==t.localName&&(n=lu({Lh:{},features:[]},m_,t,[n]),n.features)?n.features:[]},Bp.prototype.Ng=function(){},Bp.prototype.Zb=function(){},Bp.prototype.he=function(){},Yp.prototype.read=function(t){return Zs(t)?this.a(t):Js(t)?this.b(t):"string"==typeof t?(t=Qs(t),this.a(t)):null},c(Gp,Yp),Gp.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Gp.prototype.b=function(t){return(t=lu({},x_,t,[]))?t:null};var __=[null,"http://www.opengis.net/ows/1.1"],x_=hu(__,{ServiceIdentification:iu(function(t,e){return lu({},O_,t,e)}),ServiceProvider:iu(function(t,e){return lu({},k_,t,e)}),OperationsMetadata:iu(function(t,e){return lu({},E_,t,e)})}),w_=hu(__,{DeliveryPoint:iu(Th),City:iu(Th),AdministrativeArea:iu(Th),PostalCode:iu(Th),Country:iu(Th),ElectronicMailAddress:iu(Th)}),P_=hu(__,{Value:ou(function(t){return Th(t)})}),S_=hu(__,{AllowedValues:iu(function(t,e){return lu({},P_,t,e)})}),C_=hu(__,{Phone:iu(function(t,e){return lu({},L_,t,e)}),Address:iu(function(t,e){return lu({},w_,t,e)})}),M_=hu(__,{HTTP:iu(function(t,e){return lu({},T_,t,e)})}),T_=hu(__,{Get:ou(function(t,e){var n=Up(t);if(n)return lu({href:n},I_,t,e)}),Post:void 0}),A_=hu(__,{DCP:iu(function(t,e){return lu({},M_,t,e)})}),E_=hu(__,{Operation:function(t,e){var n=t.getAttribute("name"),o=lu({},A_,t,e);o&&(e[e.length-1][n]=o)}}),L_=hu(__,{Voice:iu(Th),Facsimile:iu(Th)}),I_=hu(__,{Constraint:ou(function(t,e){var n=t.getAttribute("name");if(n)return lu({name:n},S_,t,e)})}),N_=hu(__,{IndividualName:iu(Th),PositionName:iu(Th),ContactInfo:iu(function(t,e){return lu({},C_,t,e)})}),O_=hu(__,{Title:iu(Th),ServiceTypeVersion:iu(Th),ServiceType:iu(Th)}),k_=hu(__,{ProviderName:iu(Th),ProviderSite:iu(Up),ServiceContact:iu(function(t,e){return lu({},N_,t,e)})});c(zp,$h),nv=zp.prototype,nv.$d=function(t,e){var n=this.yd(t,e);return new zs(n)},nv.tg=function(t,e){return[this.$d(t,e)]},nv.yd=function(t,e){var n=so(this.a),o=qp(t,n,this.b);return Wp(o,o.length,n,o),n=xo(o,0,o.length,n),bu(new Cu(n,this.a),!1,mu(this,e))},nv.fe=function(t,e){var n=t.U();return n?this.Ed(n,e):(v(!1,40),"")},nv.Og=function(t,e){return this.fe(t[0],e)},nv.Ed=function(t,e){t=bu(t,!0,mu(this,e));var n=t.ia(),o=t.sa();return Wp(n,n.length,o,n),Hp(n,o,this.b)},c(Zp,_u),Zp.prototype.sg=function(t,e){if("Topology"==t.type){var n,o=null,i=null;t.transform&&(n=t.transform,o=n.scale,i=n.translate);var r=t.arcs;if(n){n=o;var a,s,u=i;for(a=0,s=r.length;a<s;++a){var h,p,l,c=r[a],f=n,d=u,y=0,v=0;for(p=0,h=c.length;p<h;++p)l=c[p],y+=l[0],v+=l[1],l[0]=y,l[1]=v,el(l,f,d)}}for(n=[],u=ht(t.objects),a=0,s=u.length;a<s;++a)"GeometryCollection"===u[a].type?(h=u[a],n.push.apply(n,Qp(h,r,o,i,e))):(h=u[a],n.push(tl(h,r,o,i,e)));return n}return[]},Zp.prototype.zg=function(){return this.defaultDataProjection};var R_={Point:function(t,e,n){return t=t.coordinates,e&&n&&el(t,e,n),new To(t)},LineString:function(t,e){var n=Jp(t.arcs,e);return new Cu(n)},Polygon:function(t,e){var n,o,i=[];for(n=0,o=t.arcs.length;n<o;++n)i[n]=Jp(t.arcs[n],e);return new Ko(i)},MultiPoint:function(t,e,n){t=t.coordinates;var o,i;if(e&&n)for(o=0,i=t.length;o<i;++o)el(t[o],e,n);return new Lu(t)},MultiLineString:function(t,e){var n,o,i=[];for(n=0,o=t.arcs.length;n<o;++n)i[n]=Jp(t.arcs[n],e);return new Tu(i)},MultiPolygon:function(t,e){var n,o,i,r,a,s,u=[];for(a=0,s=t.arcs.length;a<s;++a){for(n=t.arcs[a],o=[],i=0,r=n.length;i<r;++i)o[i]=Jp(n[i],e);u[a]=o}return new Iu(u)}};nv=Zp.prototype,nv.dd=function(){},nv.ge=function(){},nv.ie=function(){},nv.wg=function(){},nv.Wc=function(){},c(nl,vh);var D_={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};nl.prototype.Bc=function(t,e){var n={featureType:this.c,featureNS:this.a};return hv(n,gu(this,t,e?e:{})),n=[n],this.b.b["http://www.opengis.net/gml"].featureMember=eu(bh.prototype.ae),(n=lu([],this.b.b,t,n,this.b))||(n=[]),n},nl.prototype.j=function(t){return Zs(t)?rl(t):Js(t)?lu({},X_,t,[]):"string"==typeof t?(t=Qs(t),rl(t)):void 0},nl.prototype.f=function(t){return Zs(t)?ol(this,t):Js(t)?il(this,t):"string"==typeof t?(t=Qs(t),ol(this,t)):void 0};var F_={"http://www.opengis.net/gml":{boundedBy:iu(bh.prototype.ef,"bounds")}},j_={"http://www.opengis.net/wfs":{totalInserted:iu(Ch),totalUpdated:iu(Ch),totalDeleted:iu(Ch)}},K_={"http://www.opengis.net/ogc":{FeatureId:eu(function(t){return t.getAttribute("fid")})}},B_={"http://www.opengis.net/wfs":{Feature:function(t,e){pu(K_,t,e)}}},X_={"http://www.opengis.net/wfs":{TransactionSummary:iu(function(t,e){return lu({},j_,t,e)},"transactionSummary"),InsertResults:iu(function(t,e){return lu([],B_,t,e)},"insertIds")}},U_={"http://www.opengis.net/wfs":{PropertyName:ru(Ih)}},Y_={"http://www.opengis.net/wfs":{Insert:ru(function(t,e,n){var o=n[n.length-1],i=o.gmlVersion,o=qs(o.featureNS,o.featureType);if(t.appendChild(o),2===i){t=kh.prototype,(i=e.a)&&o.setAttribute("fid",i);var i=n[n.length-1],r=i.featureNS,a=e.c;i.kb||(i.kb={},i.kb[r]={});var s=e.M();e=[];var u,h=[];for(u in s){var p=s[u];null!==p&&(e.push(u),h.push(p),u==a||p instanceof oo?u in i.kb[r]||(i.kb[r][u]=ru(t.Uh,t)):u in i.kb[r]||(i.kb[r][u]=ru(Ih)))}u=hv({},i),u.node=o,fu(u,i.kb,su(void 0,r),h,n,e)}else Nh.prototype.bi(o,e,n)}),Update:ru(function(t,e,n){var o=n[n.length-1];v(void 0!==e.a,27);var i=o.featureType,r=o.featurePrefix,r=r?r:"feature",a=o.featureNS;if(t.setAttribute("typeName",r+":"+i),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,a),i=e.a,void 0!==i){for(var r=e.P(),a=[],s=0,u=r.length;s<u;s++){var h=e.get(r[s]);void 0!==h&&a.push({name:r[s],value:h})}fu({gmlVersion:o.gmlVersion,node:t,srsName:o.srsName},Y_,su("Property"),a,n),al(t,i)}}),Delete:ru(function(t,e,n){var o=n[n.length-1];v(void 0!==e.a,26),n=o.featureType;var i=o.featurePrefix,i=i?i:"feature",o=o.featureNS;t.setAttribute("typeName",i+":"+n),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,o),e=e.a,void 0!==e&&al(t,e)}),Property:ru(function(t,e,n){var o=qs("http://www.opengis.net/wfs","Name"),i=n[n.length-1].gmlVersion;t.appendChild(o),Ih(o,e.name),void 0!==e.value&&null!==e.value&&(o=qs("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof oo?2===i?kh.prototype.Uh(o,e.value,n):Nh.prototype.rd(o,e.value,n):Ih(o,e.value))}),Native:ru(function(t,e){e.kq&&t.setAttribute("vendorId",e.kq),void 0!==e.Lp&&t.setAttribute("safeToIgnore",e.Lp),void 0!==e.value&&Ih(t,e.value)})}},G_={"http://www.opengis.net/wfs":{Query:ru(function(t,e,n){var o=n[n.length-1],i=o.featurePrefix,r=o.featureNS,a=o.propertyNames,s=o.srsName;t.setAttribute("typeName",(i?i+":":"")+e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),e=hv({},o),e.node=t,fu(e,U_,su("PropertyName"),a,n),(o=o.filter)&&(a=qs("http://www.opengis.net/ogc","Filter"),t.appendChild(a),fu({node:a},G_,su(o.mc),[o],n))})},"http://www.opengis.net/ogc":{And:ru(sl),Or:ru(sl),Not:ru(function(t,e,n){e=e.condition,fu({node:t},G_,su(e.mc),[e],n)}),BBOX:ru(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Nh.prototype.rd(t,e.extent,n)}),Intersects:ru(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Nh.prototype.rd(t,e.geometry,n)}),Within:ru(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Nh.prototype.rd(t,e.geometry,n)}),PropertyIsEqualTo:ru(ul),PropertyIsNotEqualTo:ru(ul),PropertyIsLessThan:ru(ul),PropertyIsLessThanOrEqualTo:ru(ul),PropertyIsGreaterThan:ru(ul),PropertyIsGreaterThanOrEqualTo:ru(ul),PropertyIsNull:ru(function(t,e){pl(t,e.b)}),PropertyIsBetween:ru(function(t,e){pl(t,e.b);var n=qs("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(n),ll(n,""+e.a),n=qs("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(n),ll(n,""+e.g)}),PropertyIsLike:ru(function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),pl(t,e.b),ll(t,""+e.c)})}};nl.prototype.o=function(t){var e=qs("http://www.opengis.net/wfs","GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0");var n;if(t&&(t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count),n=t.filter,t.bbox)){v(t.geometryName,12);var o=uh(t.geometryName,t.bbox,t.srsName);n=n?sh(n,o):o}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),n={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]},v(Array.isArray(t.featureTypes),11),t=t.featureTypes,n=[n],o=hv({},n[n.length-1]),o.node=e,fu(o,G_,su("Query"),t,n),e},nl.prototype.u=function(t,e,n,o){var i=[],r=qs("http://www.opengis.net/wfs","Transaction"),a=o.version?o.version:"1.1.0",s="1.0.0"===a?2:3;r.setAttribute("service","WFS"),r.setAttribute("version",a);var u;return o&&(u=o.gmlOptions?o.gmlOptions:{},o.handle&&r.setAttribute("handle",o.handle)),r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",D_[a]),t&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},hv(a,u),fu(a,Y_,su("Insert"),t,i)),e&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},hv(a,u),fu(a,Y_,su("Update"),e,i)),n&&fu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},Y_,su("Delete"),n,i),o.nativeElements&&fu({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},Y_,su("Native"),o.nativeElements,i),r},nl.prototype.yg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.hf(t);return null},nl.prototype.hf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.ef(t,e),Tt(e.pop().srsName)}return null},c(cl,$h);var W_={Point:fl,LineString:dl,Polygon:yl,MultiPoint:function(t){var e=[];t=t.Zd();for(var n=0,o=t.length;n<o;++n)e.push("("+fl(t[n])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.Nc();for(var n=0,o=t.length;n<o;++n)e.push("("+dl(t[n])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.md();for(var n=0,o=t.length;n<o;++n)e.push("("+yl(t[n])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.Qf();for(var n=0,o=t.length;n<o;++n)e.push(vl(t[n]));return e.join(",")}};nv=cl.prototype,nv.$d=function(t,e){var n=this.yd(t,e);if(n){var o=new zs;return o.Ta(n),o}return null},nv.tg=function(t,e){var n=[],o=this.yd(t,e);n=this.b&&"GeometryCollection"==o.S()?o.a:[o];for(var i=[],r=0,a=n.length;r<a;++r)o=new zs,o.Ta(n[r]),i.push(o);return i},nv.yd=function(t,e){var n;return n=new bl(new gl(t)),_l(n),(n=wl(n))?bu(n,!1,e):null},nv.fe=function(t,e){var n=t.U();return n?this.Ed(n,e):""},nv.Og=function(t,e){if(1==t.length)return this.fe(t[0],e);for(var n=[],o=0,i=t.length;o<i;++o)n.push(t[o].U());return n=new hh(n),this.Ed(n,e)},nv.Ed=function(t,e){return vl(bu(t,!0,e))},nv=bl.prototype,nv.ng=function(){if(xl(this,2)){var t=Pl(this);if(xl(this,3))return t}else if(Ml(this))return null;throw Error(Tl(this))},nv.mg=function(){if(xl(this,2)){var t=Sl(this);if(xl(this,3))return t}else if(Ml(this))return[];throw Error(Tl(this))},nv.og=function(){if(xl(this,2)){var t=Cl(this);if(xl(this,3))return t}else if(Ml(this))return[];throw Error(Tl(this))},nv.Vo=function(){if(xl(this,2)){var t;if(2==this.b.type)for(t=[this.ng()];xl(this,5);)t.push(this.ng());else t=Sl(this);if(xl(this,3))return t}else if(Ml(this))return[];throw Error(Tl(this))},nv.Uo=function(){if(xl(this,2)){var t=Cl(this);if(xl(this,3))return t}else if(Ml(this))return[];throw Error(Tl(this))},nv.Wo=function(){if(xl(this,2)){for(var t=[this.og()];xl(this,5);)t.push(this.og());if(xl(this,3))return t}else if(Ml(this))return[];throw Error(Tl(this))};var z_={POINT:To,LINESTRING:Cu,POLYGON:Ko,MULTIPOINT:Lu,MULTILINESTRING:Tu,MULTIPOLYGON:Iu},H_={POINT:bl.prototype.ng,LINESTRING:bl.prototype.mg,POLYGON:bl.prototype.og,MULTIPOINT:bl.prototype.Vo,MULTILINESTRING:bl.prototype.Uo,MULTIPOLYGON:bl.prototype.Wo};c(Al,Yp),Al.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Al.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=lu({version:this.version},V_,t,[]))?t:null};var q_=[null,"http://www.opengis.net/wms"],V_=hu(q_,{Service:iu(function(t,e){return lu({},Z_,t,e)}),Capability:iu(function(t,e){return lu({},$_,t,e)})}),$_=hu(q_,{Request:iu(function(t,e){return lu({},rx,t,e)}),Exception:iu(function(t,e){return lu([],ex,t,e)}),Layer:iu(function(t,e){return lu({},nx,t,e)})}),Z_=hu(q_,{Name:iu(Th),Title:iu(Th),Abstract:iu(Th),KeywordList:iu(Nl),OnlineResource:iu(Up),ContactInformation:iu(function(t,e){return lu({},J_,t,e)}),Fees:iu(Th),AccessConstraints:iu(Th),LayerLimit:iu(Ch),MaxWidth:iu(Ch),MaxHeight:iu(Ch)}),J_=hu(q_,{ContactPersonPrimary:iu(function(t,e){return lu({},Q_,t,e)}),ContactPosition:iu(Th),ContactAddress:iu(function(t,e){return lu({},tx,t,e)}),ContactVoiceTelephone:iu(Th),ContactFacsimileTelephone:iu(Th),ContactElectronicMailAddress:iu(Th)}),Q_=hu(q_,{ContactPerson:iu(Th),ContactOrganization:iu(Th)}),tx=hu(q_,{AddressType:iu(Th),Address:iu(Th),City:iu(Th),StateOrProvince:iu(Th),PostCode:iu(Th),Country:iu(Th)}),ex=hu(q_,{Format:eu(Th)}),nx=hu(q_,{Name:iu(Th),Title:iu(Th),Abstract:iu(Th),KeywordList:iu(Nl),CRS:ou(Th),EX_GeographicBoundingBox:iu(function(t,e){var n=lu({},ix,t,e);if(n){var o=n.westBoundLongitude,i=n.southBoundLatitude,r=n.eastBoundLongitude,n=n.northBoundLatitude;if(void 0!==o&&void 0!==i&&void 0!==r&&void 0!==n)return[o,i,r,n]}}),BoundingBox:ou(function(t){var e=[Sh(t.getAttribute("minx")),Sh(t.getAttribute("miny")),Sh(t.getAttribute("maxx")),Sh(t.getAttribute("maxy"))],n=[Sh(t.getAttribute("resx")),Sh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:ou(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:xh(t.getAttribute("multipleValues")),nearestValue:xh(t.getAttribute("nearestValue")),current:xh(t.getAttribute("current")),values:Th(t)}}),Attribution:iu(function(t,e){return lu({},ox,t,e)}),AuthorityURL:ou(function(t,e){var n=El(t,e);if(n)return n.name=t.getAttribute("name"),n}),Identifier:ou(Th),MetadataURL:ou(function(t,e){var n=El(t,e);if(n)return n.type=t.getAttribute("type"),n}),DataURL:ou(El),FeatureListURL:ou(El),Style:ou(function(t,e){return lu({},hx,t,e)}),MinScaleDenominator:iu(Ph),MaxScaleDenominator:iu(Ph),Layer:ou(function(t,e){var n=e[e.length-1],o=lu({},nx,t,e);if(o){var i=xh(t.getAttribute("queryable"));return void 0===i&&(i=n.queryable),o.queryable=void 0!==i&&i,i=Mh(t.getAttribute("cascaded")),void 0===i&&(i=n.cascaded),o.cascaded=i,i=xh(t.getAttribute("opaque")),void 0===i&&(i=n.opaque),o.opaque=void 0!==i&&i,i=xh(t.getAttribute("noSubsets")),void 0===i&&(i=n.noSubsets),o.noSubsets=void 0!==i&&i,(i=Sh(t.getAttribute("fixedWidth")))||(i=n.fixedWidth),o.fixedWidth=i,(i=Sh(t.getAttribute("fixedHeight")))||(i=n.fixedHeight),o.fixedHeight=i,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(o[t]=(o[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=n[t])}),o}})}),ox=hu(q_,{Title:iu(Th),OnlineResource:iu(Up),LogoURL:iu(Il)}),ix=hu(q_,{westBoundLongitude:iu(Ph),eastBoundLongitude:iu(Ph),southBoundLatitude:iu(Ph),northBoundLatitude:iu(Ph)}),rx=hu(q_,{GetCapabilities:iu(Ll),GetMap:iu(Ll),GetFeatureInfo:iu(Ll)}),ax=hu(q_,{Format:ou(Th),DCPType:ou(function(t,e){return lu({},sx,t,e)})}),sx=hu(q_,{HTTP:iu(function(t,e){return lu({},ux,t,e)})}),ux=hu(q_,{Get:iu(El),Post:iu(El)}),hx=hu(q_,{Name:iu(Th),Title:iu(Th),Abstract:iu(Th),LegendURL:ou(Il),StyleSheetURL:iu(El),StyleURL:iu(El)}),px=hu(q_,{Format:iu(Th),OnlineResource:iu(Up)}),lx=hu(q_,{Keyword:eu(Th)});c(Ol,vh),Ol.prototype.Bc=function(t,e){var n={};e&&hv(n,gu(this,t,e));var o=[n];t.setAttribute("namespaceURI",this.a);var r=t.localName,n=[];if(t.childNodes.length){if("msGMLOutput"==r)for(var s=0,u=t.childNodes.length;s<u;s++){var h=t.childNodes[s];if(h.nodeType===Node.ELEMENT_NODE){var p=o[0],l=h.localName.replace("_layer","");if(!this.c||i(this.c,l)){l+="_feature",p.featureType=l,p.featureNS=this.a;var c={};c[l]=eu(this.b.qg,this.b),p=hu([p.featureNS,null],c),h.setAttribute("namespaceURI",this.a),(h=lu([],p,h,o,this.b))&&a(n,h)}}}"FeatureCollection"==r&&(o=lu([],this.b.b,t,[{}],this.b))&&(n=o)}return n},Ol.prototype.Ng=function(){},Ol.prototype.Zb=function(){},Ol.prototype.he=function(){},c(kl,Yp),kl.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},kl.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.g.b(t);return n?(n.version=e,(n=lu(n,dx,t,[]))?n:null):null};var cx=[null,"http://www.opengis.net/wmts/1.0"],fx=[null,"http://www.opengis.net/ows/1.1"],dx=hu(cx,{Contents:iu(function(t,e){return lu({},yx,t,e)})}),yx=hu(cx,{Layer:ou(function(t,e){return lu({},vx,t,e)}),TileMatrixSet:ou(function(t,e){return lu({},Px,t,e)})}),vx=hu(cx,{Style:ou(function(t,e){var n=lu({},gx,t,e);if(n){var o="true"===t.getAttribute("isDefault");return n.isDefault=o,n}}),Format:ou(Th),TileMatrixSetLink:ou(function(t,e){return lu({},mx,t,e)}),Dimension:ou(function(t,e){return lu({},xx,t,e)}),ResourceURL:ou(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),n&&(o.template=n),t&&(o.resourceType=t),o})},hu(fx,{Title:iu(Th),Abstract:iu(Th),WGS84BoundingBox:iu(function(t,e){var n=lu([],wx,t,e);if(2==n.length)return I(n)}),Identifier:iu(Th)})),gx=hu(cx,{LegendURL:ou(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Up(t),e})},hu(fx,{Title:iu(Th),Identifier:iu(Th)})),mx=hu(cx,{TileMatrixSet:iu(Th),TileMatrixSetLimits:iu(function(t,e){return lu([],bx,t,e)})}),bx=hu(cx,{TileMatrixLimits:eu(function(t,e){return lu({},_x,t,e)})}),_x=hu(cx,{TileMatrix:iu(Th),MinTileRow:iu(Ch),MaxTileRow:iu(Ch),MinTileCol:iu(Ch),MaxTileCol:iu(Ch)}),xx=hu(cx,{Default:iu(Th),Value:ou(Th)
},hu(fx,{Identifier:iu(Th)})),wx=hu(fx,{LowerCorner:eu(Rl),UpperCorner:eu(Rl)}),Px=hu(cx,{WellKnownScaleSet:iu(Th),TileMatrix:ou(function(t,e){return lu({},Sx,t,e)})},hu(fx,{SupportedCRS:iu(Th),Identifier:iu(Th)})),Sx=hu(cx,{TopLeftCorner:iu(Rl),ScaleDenominator:iu(Ph),TileWidth:iu(Ch),TileHeight:iu(Ch),MatrixWidth:iu(Ch),MatrixHeight:iu(Ch)},hu(fx,{Identifier:iu(Th)}));c(Dl,ve),nv=Dl.prototype,nv.ra=function(){this.Je(!1),ve.prototype.ra.call(this)},nv.wm=function(){var t=this.Nh();t&&(this.i=Lt(Tt("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},nv.xm=function(){if(Wv){var t=this.Oh();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.cp.bind(this),this.ep.bind(this),this.zh()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},nv.cp=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:C(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),t=Xo(gv,this.a,t.accuracy),t.Fc(this.i),this.set("accuracyGeometry",t),this.s()},nv.ep=function(t){t.type="error",this.Je(!1),this.b(t)},nv.zk=function(){return this.get("accuracy")},nv.Ak=function(){return this.get("accuracyGeometry")||null},nv.Ck=function(){return this.get("altitude")},nv.Dk=function(){return this.get("altitudeAccuracy")},nv.um=function(){return this.get("heading")},nv.vm=function(){return this.get("position")},nv.Nh=function(){return this.get("projection")},nv.gl=function(){return this.get("speed")},nv.Oh=function(){return this.get("tracking")},nv.zh=function(){return this.get("trackingOptions")},nv.Ph=function(t){this.set("projection",t)},nv.Je=function(t){this.set("tracking",t)},nv.sj=function(t){this.set("trackingOptions",t)},c(Fl,ao),nv=Fl.prototype,nv.clone=function(){var t=new Fl(null);return uo(t,this.la,this.B.slice()),t.s(),t},nv.Hb=function(t,e,n,o){var i=this.B;t-=i[0];var r=e-i[1];if(e=t*t+r*r,e<o){if(e)for(o=this.Yd()/Math.sqrt(e),n[0]=i[0]+o*t,n[1]=i[1]+o*r,o=2;o<this.a;++o)n[o]=i[o];else for(o=0;o<this.a;++o)n[o]=i[o];return n.length=this.a,e}return o},nv.Sc=function(t,e){var n=this.B,o=t-n[0],n=e-n[1];return o*o+n*n<=jl(this)},nv.za=function(){return this.B.slice(0,this.a)},nv.se=function(t){var e=this.B,n=e[this.a]-e[0];return B(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},nv.Yd=function(){return Math.sqrt(jl(this))},nv.S=function(){return"Circle"},nv.Ya=function(t){var e=this.D();return!!it(t,e)&&(e=this.za(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||H(t,this.sb,this))},nv.lb=function(t){var e=this.a,n=t.slice();n[e]=n[0]+(this.B[e]-this.B[0]);var o;for(o=1;o<e;++o)n[e+o]=t[o];uo(this,this.la,n),this.s()},nv.Gg=function(t,e,n){if(t){ho(this,n,t,0),this.B||(this.B=[]),n=this.B,t=mo(n,t),n[t++]=n[0]+e;var o;for(e=1,o=this.a;e<o;++e)n[t++]=n[e];n.length=t}else uo(this,"XY",null);this.s()},nv.W=function(){},nv.pa=function(){},nv.Zc=function(t){this.B[this.a]=this.B[0]+t,this.s()};var Cx=new Ta({color:"rgba(0,0,0,0.2)"}),Mx=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];nv=Ul.prototype,nv.ym=function(){return this.l},nv.Wk=function(){return this.b},nv.cl=function(){return this.a},nv.Dh=function(t){var e=t.vectorContext,n=t.frameState,o=n.extent;t=n.viewState;var i=t.center,r=t.projection,a=t.resolution;if(t=n.pixelRatio,t=a*a/(4*t*t),!this.i||!At(this.i,r)){var s=Tt("EPSG:4326"),u=r.D(),h=r.f,p=kt(h,s,r),l=h[2],c=h[1],f=h[0],d=p[3],y=p[2],v=p[1],p=p[0];this.f=h[3],this.g=l,this.j=c,this.c=f,this.O=d,this.A=y,this.C=v,this.G=p,this.o=Et(s,r),this.v=Et(r,s),this.u=this.v(Z(u)),this.i=r}for(r.a&&(r=r.D(),s=ot(r),n=n.focus[0],n<r[0]||n>r[2])&&(n=s*Math.ceil((r[0]-n)/s),o=[o[0]+n,o[1],o[2]+n,o[3]]),n=this.u[0],r=this.u[1],s=-1,h=Math.pow(this.I*a,2),l=[],c=[],a=0,u=Mx.length;a<u&&(f=Mx[a]/2,l[0]=n-f,l[1]=r-f,c[0]=n+f,c[1]=r+f,this.o(l,l),this.o(c,c),f=Math.pow(c[0]-l[0],2)+Math.pow(c[1]-l[1],2),!(f<=h));++a)s=Mx[a];if(a=s,-1==a)this.b.length=this.a.length=0;else{for(n=this.v(i),i=n[0],n=n[1],r=this.qa,s=[Math.max(o[0],this.G),Math.max(o[1],this.C),Math.min(o[2],this.A),Math.min(o[3],this.O)],s=kt(s,this.i,"EPSG:4326"),h=s[3],c=s[1],i=Math.floor(i/a)*a,l=x(i,this.c,this.g),u=Yl(this,l,c,h,t,o,0),s=0;l!=this.c&&s++<r;)l=Math.max(l-a,this.c),u=Yl(this,l,c,h,t,o,u);for(l=x(i,this.c,this.g),s=0;l!=this.g&&s++<r;)l=Math.min(l+a,this.g),u=Yl(this,l,c,h,t,o,u);for(this.b.length=u,n=Math.floor(n/a)*a,i=x(n,this.j,this.f),u=Gl(this,i,t,o,0),s=0;i!=this.j&&s++<r;)i=Math.max(i-a,this.j),u=Gl(this,i,t,o,u);for(i=x(n,this.j,this.f),s=0;i!=this.f&&s++<r;)i=Math.min(i+a,this.f),u=Gl(this,i,t,o,u);this.a.length=u}for(e.Na(null,this.ta),t=0,i=this.b.length;t<i;++t)a=this.b[t],e.Rb(a,null);for(t=0,i=this.a.length;t<i;++t)a=this.a[t],e.Rb(a,null)},nv.setMap=function(t){this.l&&(this.l.K("postcompose",this.Dh,this),this.l.render()),t&&(t.J("postcompose",this.Dh,this),t.render()),this.l=t},c(Wl,fe),Wl.prototype.s=function(){this.b("change")},Wl.prototype.D=function(){return this.extent},Wl.prototype.V=function(){return this.state},c(zl,Wl),nv=zl.prototype,nv.Y=function(t){if(void 0!==t){var e;return t=d(t),t in this.c?this.c[t]:(e=pt(this.c)?this.N:this.N.cloneNode(!1),this.c[t]=e)}return this.N},nv.Bm=function(){this.state=3,this.g.forEach(se),this.g=null,this.s()},nv.Cm=function(){void 0===this.resolution&&(this.resolution=Q(this.extent)/this.N.height),this.state=2,this.g.forEach(se),this.g=null,this.s()},nv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.g=[re(this.N,"error",this.Bm,this),re(this.N,"load",this.Cm,this)],this.f(this,this.j))},nv.Hg=function(t){this.N=t},c(Hl,Wl),Hl.prototype.f=function(t){this.state=t?3:2,this.s()},Hl.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.f.bind(this)))},Hl.prototype.Y=function(){return this.g},c(ql,fe),ql.prototype.s=function(){this.b("change")},ql.prototype.hb=function(){return this.key+"/"+this.Ga},ql.prototype.i=function(){return this.Ga},ql.prototype.V=function(){return this.state},c($l,ql),nv=$l.prototype,nv.ra=function(){1==this.state&&Zl(this),this.a&&pe(this.a),this.state=5,this.s(),ql.prototype.ra.call(this)},nv.Y=function(){return this.N},nv.hb=function(){return this.f},nv.zm=function(){this.state=3,Zl(this),this.s()},nv.Am=function(){this.state=this.N.naturalWidth&&this.N.naturalHeight?2:4,Zl(this),this.s()},nv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[re(this.N,"error",this.zm,this),re(this.N,"load",this.Am,this)],this.l(this,this.f))},c(Jl,ri),Jl.prototype.j=function(t,e){var n=e.target.result,o=this.v,i=this.l;i||(i=o.$().o);var r,a,o=this.f,s=[];for(r=0,a=o.length;r<a;++r){var u=new o[r],h={featureProjection:i};try{s=u.Pa(n,h)}catch(t){s=null}if(s&&0<s.length)break}this.b(new ec(Tx,t,s,i))},Jl.prototype.setMap=function(t){this.a&&(this.a.forEach(se),this.a=null),ri.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.c,this.a=[ie(t,"drop",Ql,this),ie(t,"dragenter",tc,this),ie(t,"dragover",tc,this),ie(t,"drop",tc,this)])};var Tx="addfeatures";c(ec,le),c(nc,_i),c(ac,Tr),ac.prototype.Wa=function(t,e){if(this.$a){var n=fr(this.ea,this.$a.slice());t.translate(n[0],n[1]),t.rotate(e)}t.fill(),this.$a&&t.setTransform.apply(t,this.fa)},ac.prototype.i=function(t,e,n,o,i){hc(this,t,e,n,o,i,this.a,void 0,void 0)},ac.prototype.Se=f,ac.prototype.Nf=function(){return this.T},c(cc,ac),cc.prototype.sc=function(t,e){if(this.N){uc(this,e);var n=t.ia(),o=this.coordinates.length,n=sc(this,n,0,n.length,t.sa(),!1,!1);this.a.push([4,o,n,this.N,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),this.b.push([4,o,n,this.Z,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),lc(this,e)}},cc.prototype.qc=function(t,e){if(this.N){uc(this,e);var n=t.ia(),o=this.coordinates.length,n=sc(this,n,0,n.length,t.sa(),!1,!1);this.a.push([4,o,n,this.N,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),this.b.push([4,o,n,this.Z,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),lc(this,e)}},cc.prototype.Se=function(){pc(this),this.f=this.g=void 0,this.N=this.Z=null,this.G=this.C=this.O=this.v=this.u=this.o=this.l=this.A=this.j=void 0},cc.prototype.Wb=function(t){var e=t.Jc(),n=t.kc(),o=t.kg(1),i=t.Y(1),r=t.Tc();this.g=e[0],this.f=e[1],this.Z=o,this.N=i,this.j=n[1],this.l=t.f,this.o=r[0],this.u=r[1],this.v=t.o,this.O=t.j,this.A=t.c,this.C=t.u,this.G=n[0]},c(fc,ac),nv=fc.prototype,nv.Nf=function(){return this.f||(this.f=O(this.T),0<this.c&&N(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},nv.Rb=function(t,e){var n=this.g,o=n.lineWidth;void 0!==n.strokeStyle&&void 0!==o&&(yc(this),uc(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.ia(),dc(this,n,0,n.length,t.sa()),this.b.push([12]),lc(this,e))},nv.pc=function(t,e){var n=this.g,o=n.lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){yc(this),uc(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]);var i,r,n=t.Sb(),o=t.ia(),a=t.sa(),s=0;for(i=0,r=n.length;i<r;++i)s=dc(this,o,s,n[i],a);this.b.push([12]),lc(this,e)}},nv.Se=function(){this.g.$f!=this.coordinates.length&&this.a.push([12]),pc(this),this.g=null},nv.Na=function(t,e){var n=e.a;this.g.strokeStyle=Te(n?n:pg),n=e.i,this.g.lineCap=void 0!==n?n:"round",n=e.g,this.g.lineDash=n?n:hg,n=e.f,this.g.lineDashOffset=n?n:0,n=e.j,this.g.lineJoin=void 0!==n?n:"round",n=e.c,this.g.lineWidth=void 0!==n?n:1,n=e.l,this.g.miterLimit=void 0!==n?n:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)},c(vc,ac),nv=vc.prototype,nv.ac=function(t,e){var n=this.g,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){mc(this,t),uc(this,e),this.b.push([9,Ce(ug)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i=t.ia(),o=this.coordinates.length;sc(this,i,0,i.length,t.sa(),!1,!1),i=[1],o=[2,o],this.a.push(i,o),this.b.push(i,o),o=[7],this.b.push(o),void 0!==n.fillStyle&&this.a.push(o),void 0!==n.strokeStyle&&(n=[12],this.a.push(n),this.b.push(n)),lc(this,e)}},nv.tc=function(t,e){var n=this.g;mc(this,t),uc(this,e),this.b.push([9,Ce(ug)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var n=t.Sb(),o=t.gc();gc(this,o,0,n,t.sa()),lc(this,e)},nv.rc=function(t,e){var n=this.g,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){mc(this,t),uc(this,e),this.b.push([9,Ce(ug)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i,r,n=t.c,o=Ou(t),a=t.sa(),s=0;for(i=0,r=n.length;i<r;++i)s=gc(this,o,s,n[i],a);lc(this,e)}},nv.Se=function(){pc(this),this.g=null;var t=this.na;if(t){var e,n,o=this.coordinates;for(e=0,n=o.length;e<n;++e)o[e]=t*Math.round(o[e]/t)}},nv.Nf=function(){return this.f||(this.f=O(this.T),0<this.c&&N(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},nv.Na=function(t,e){var n=this.g;if(t){var o=t.b;n.fillStyle=Te(o?o:ug)}else n.fillStyle=void 0;e?(o=e.a,n.strokeStyle=Te(o?o:pg),o=e.i,n.lineCap=void 0!==o?o:"round",o=e.g,n.lineDash=o?o.slice():hg,o=e.f,n.lineDashOffset=o?o:0,o=e.j,n.lineJoin=void 0!==o?o:"round",o=e.c,n.lineWidth=void 0!==o?o:1,o=e.l,n.miterLimit=void 0!==o?o:10,n.lineWidth>this.c&&(this.c=n.lineWidth,this.f=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},c(bc,ac),bc.prototype.Ac=function(t,e,n,o,i,r){if(""!==this.Fa&&this.j&&(this.g||this.f)){if(this.g){i=this.g;var a=this.A;if(!a||a.fillStyle!=i.fillStyle){var s=[9,i.fillStyle];this.a.push(s),this.b.push(s),a?a.fillStyle=i.fillStyle:this.A={fillStyle:i.fillStyle}}}this.f&&(i=this.f,a=this.C,a&&a.lineCap==i.lineCap&&a.lineDash==i.lineDash&&a.lineDashOffset==i.lineDashOffset&&a.lineJoin==i.lineJoin&&a.lineWidth==i.lineWidth&&a.miterLimit==i.miterLimit&&a.strokeStyle==i.strokeStyle||(s=[10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!1,1],this.a.push(s),this.b.push(s),a?(a.lineCap=i.lineCap,a.lineDash=i.lineDash,a.lineDashOffset=i.lineDashOffset,a.lineJoin=i.lineJoin,a.lineWidth=i.lineWidth,a.miterLimit=i.miterLimit,a.strokeStyle=i.strokeStyle):this.C={lineCap:i.lineCap,lineDash:i.lineDash,lineDashOffset:i.lineDashOffset,lineJoin:i.lineJoin,lineWidth:i.lineWidth,miterLimit:i.miterLimit,strokeStyle:i.strokeStyle})),i=this.j,a=this.G,a&&a.font==i.font&&a.textAlign==i.textAlign&&a.textBaseline==i.textBaseline||(s=[11,i.font,i.textAlign,i.textBaseline],this.a.push(s),this.b.push(s),a?(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline):this.G={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),uc(this,r),i=this.coordinates.length,t=sc(this,t,e,n,o,!1,!1),t=[5,i,t,this.Fa,this.l,this.o,this.v,this.O,!!this.g,!!this.f,this.u],this.a.push(t),this.b.push(t),lc(this,r)}},bc.prototype.Ub=function(t){if(t){var e=t.Ca();e?(e=e.b,e=Te(e?e:ug),this.g?this.g.fillStyle=e:this.g={fillStyle:e}):this.g=null;var n=t.Da();if(n){var e=n.a,o=n.i,i=n.g,r=n.f,a=n.j,s=n.c,n=n.l,o=void 0!==o?o:"round",i=i?i.slice():hg,r=void 0!==r?r:0,a=void 0!==a?a:"round",s=void 0!==s?s:1,n=void 0!==n?n:10,e=Te(e?e:pg);if(this.f){var u=this.f;u.lineCap=o,u.lineDash=i,u.lineDashOffset=r,u.lineJoin=a,u.lineWidth=s,u.miterLimit=n,u.strokeStyle=e}else this.f={lineCap:o,lineDash:i,lineDashOffset:r,lineJoin:a,lineWidth:s,miterLimit:n,strokeStyle:e}}else this.f=null;var h=t.a,e=t.g,o=t.c,i=t.l,s=t.i,n=t.b,r=t.Oa(),a=t.f,u=t.j;t=void 0!==h?h:"10px sans-serif",a=void 0!==a?a:"center",u=void 0!==u?u:"middle",this.j?(h=this.j,h.font=t,h.textAlign=a,h.textBaseline=u):this.j={font:t,textAlign:a,textBaseline:u},this.Fa=void 0!==r?r:"",this.l=void 0!==e?e:0,this.o=void 0!==o?o:0,this.u=void 0!==i&&i,this.v=void 0!==s?s:0,this.O=void 0!==n?n:1}else this.Fa=""},c(_c,Fr);var Ax={0:[[!0]]};_c.prototype.Ba=function(t,e,n,o,i,r){o=Math.round(o);var a=2*o+1,s=gr(this.l,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),u=this.j;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):u.clearRect(0,0,a,a);var h;void 0!==this.f&&(h=K(),W(h,t),N(h,e*(this.f+o),h));var p=wc(o);return Cc(this,u,s,n,i,function(t){for(var e=u.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var o=0;o<a;o++)if(p[n][o]&&0<e[4*(o*a+n)+3])return(t=r(t))?t:void u.clearRect(0,0,a,a)},h)},_c.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0",o=this.a[n];return void 0===o&&(o={},this.a[n]=o),n=o[e],void 0===n&&(n=new Ex[e](this.v,this.c,this.u,this.o),o[e]=n),n},_c.prototype.g=function(){return pt(this.a)},_c.prototype.i=function(t,e,o,i,r,a){var s=Object.keys(this.a).map(Number);s.sort(n);var u=Sc(this,o);t.save(),t.beginPath(),t.moveTo(u[0],u[1]),t.lineTo(u[2],u[3]),t.lineTo(u[4],u[5]),t.lineTo(u[6],u[7]),t.clip(),a=a?a:lg;var h,p,l,c,f,u=0;for(h=s.length;u<h;++u)for(c=this.a[s[u].toString()],p=0,l=a.length;p<l;++p)f=c[a[p]],void 0!==f&&f.i(t,e,o,i,r);t.restore()};var Ex={Circle:vc,Image:cc,LineString:fc,Polygon:vc,Text:bc};c(Mc,ye),Mc.prototype.Ba=f,Mc.prototype.Te=no,Mc.prototype.Jf=function(t,e,n){return function(o,i){return Qd(t,e,o,i,function(t){n[o]||(n[o]={}),n[o][t.Ga.toString()]=t})}},Mc.prototype.ea=function(t){2===t.target.V()&&Ac(this)},c(kc,Mc),kc.prototype.v=function(t,e,n,o){if(this.Ba(t,e,0,eo,this))return n.call(o,this.a,null)},kc.prototype.cf=function(t,e,n,o){Dc(this,"postcompose",t,e,o)};var Lx={Point:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Xe())return;var r=t.b(n.Aa(),"Image");r.Wb(i),r.sc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(e.ia(),0,2,2,e,o))},LineString:function(t,e,n,o){var i=n.Da();if(i){var r=t.b(n.Aa(),"LineString");r.Na(null,i),r.Rb(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(Mu(e),0,2,2,e,o))},Polygon:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(i||r){var a=t.b(n.Aa(),"Polygon");a.Na(i,r),a.tc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(Bo(e),0,2,2,e,o))},MultiPoint:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Xe())return;var r=t.b(n.Aa(),"Image");r.Wb(i),r.qc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=e.ia(),t.Ac(n,0,n.length,e.sa(),e,o))},MultiLineString:function(t,e,n,o){var i=n.Da();if(i){var r=t.b(n.Aa(),"LineString");r.Na(null,i),r.pc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=Au(e),t.Ac(n,0,n.length,2,e,o))},MultiPolygon:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(r||i){var a=t.b(n.Aa(),"Polygon");a.Na(i,r),a.rc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=Nu(e),t.Ac(n,0,n.length,2,e,o))},GeometryCollection:function(t,e,n,o){e=e.a;var i,r;for(i=0,r=e.length;i<r;++i)(0,Lx[e[i].S()])(t,e[i],n,o)},Circle:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(i||r){var a=t.b(n.Aa(),"Circle");a.Na(i,r),a.ac(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(e.za(),0,2,2,e,o))}};c(Xc,kc),Xc.prototype.O=function(t,e,n){var o=t.extent,i=t.pixelRatio,r=e.Ie?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,a=a.rotation,u=s.D(),h=this.a.ka(),p=Fc(this,t,0);Dc(this,"precompose",n,t,p);var l=e.extent,c=void 0!==l;if(c&&Rc(n,t,l),(l=this.i)&&!l.g()){var f,d=0,y=0;if(de(this.a,"render")){f=n.canvas.width;var v=n.canvas.height;if(a){var g=Math.round(Math.sqrt(f*f+v*v)),d=(g-f)/2,y=(g-v)/2;f=v=g}this.f.canvas.width=f,this.f.canvas.height=v,f=this.f}else f=n;v=f.globalAlpha,f.globalAlpha=e.opacity,f!=n&&f.translate(d,y);var g=t.size[0]*i,m=t.size[1]*i;if(Mr(f,-a,g/2,m/2),l.i(f,i,p,a,r),h.G&&s.a&&!D(u,o)){for(var s=o[0],h=ot(u),b=0;s<u[0];)--b,p=h*b,p=Fc(this,t,p),l.i(f,i,p,a,r),s+=h;for(b=0,s=o[2];s>u[2];)++b,p=h*b,p=Fc(this,t,p),l.i(f,i,p,a,r),s-=h;p=Fc(this,t,0)}Mr(f,a,g/2,m/2),f!=n&&(Dc(this,"render",f,t,p),n.drawImage(f.canvas,-d,-y),f.translate(-d,-y)),f.globalAlpha=v}c&&n.restore(),this.cf(n,t,e,p)},Xc.prototype.Ba=function(t,e,n,o,i){if(this.i){var r=this.a,a={};return this.i.Ba(t,e.viewState.resolution,e.viewState.rotation,n,{},function(t){var e=d(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},Xc.prototype.A=function(){Ac(this)},Xc.prototype.ud=function(t){function e(t){var e,o=t.Rc();if(o?e=o.call(t,h):(o=n.i)&&(e=o(t,h)),e){if(e){if(o=!1,Array.isArray(e))for(var i=0,r=e.length;i<r;++i)o=Bc(c,t,e[i],Kc(h,p),this.A,this)||o;else o=Bc(c,t,e,Kc(h,p),this.A,this)||o;t=o}else t=!1;this.c=this.c||t}}var n=this.a,o=n.ka();Lc(t.attributions,o.j),Ic(t,o);var i=t.viewHints[0],r=t.viewHints[1],a=n.ea,s=n.fa;if(!this.c&&!a&&i||!s&&r)return!0;var u=t.extent,s=t.viewState,i=s.projection,h=s.resolution,p=t.pixelRatio,r=n.g,l=n.c,a=n.get(Ox);if(void 0===a&&(a=jc),u=N(u,l*h),l=s.projection.D(),o.G&&s.projection.a&&!D(l,t.extent)&&(t=Math.max(ot(u)/2,ot(l)),u[0]=l[0]-t,u[2]=l[2]+t),!this.c&&this.o==h&&this.u==r&&this.l==a&&D(this.j,u))return!0;this.i=null,this.c=!1;var c=new _c(.5*h/p,u,h,o.Ha,n.c);if(o.Xd(u,h,i),a){var f=[];o.bc(u,function(t){f.push(t)},this),f.sort(a),f.forEach(e,this)}else o.bc(u,e,this);return Pc(c),this.o=h,this.u=r,this.l=a,this.j=u,this.i=c,!0},c(Uc,Kr);var Ix=new Uc;c(Yc,Br);var Nx=new Yc;c(Wc,Mc),Wc.prototype.zi=function(t,e,n){Hc(this,"precompose",n,t),na(n,34962,this.T);var o,i=n.b,r=aa(n,Ix,Nx);this.v?o=this.v:this.v=o=new Gc(i,r),n.Vc(r)&&(i.enableVertexAttribArray(o.b),i.vertexAttribPointer(o.b,2,5126,!1,16,0),i.enableVertexAttribArray(o.a),i.vertexAttribPointer(o.a,2,5126,!1,16,8),i.uniform1i(o.i,0)),i.uniformMatrix4fv(o.f,!1,Wr(this.C,this.u)),i.uniformMatrix4fv(o.c,!1,Wr(this.C,this.O)),i.uniform1f(o.g,e.opacity),i.bindTexture(3553,this.Fb),i.drawArrays(5,0,4),Hc(this,"postcompose",n,t)},Wc.prototype.hg=function(){this.f=this.Fb=null,this.j=void 0},c(qc,Wc),nv=qc.prototype,nv.zi=function(t,e,n){this.l=e;var o=t.viewState,i=this.i,r=t.size,a=t.pixelRatio,s=this.c.g;i&&!i.g()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,r[0]*a,r[1]*a),i.i(n,o.center,o.resolution,o.rotation,r,a,e.opacity,e.Ie?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},nv.ra=function(){var t=this.i;t&&(as(t,this.c.i)(),this.i=null),Wc.prototype.ra.call(this)},nv.Ba=function(t,e,n,o,i){if(this.i&&this.l){n=e.viewState;var r=this.a,a={};return this.i.Ba(t,this.c.i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=d(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},nv.Te=function(t,e){if(this.i&&this.l){var n=e.viewState;return hs(this.i,t,this.c.i,n.resolution,n.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},nv.gg=function(t,e,n,o){if(t=fr(e.pixelToCoordinateTransform,t.slice()),this.Te(t,e))return n.call(o,this.a,null)},nv.Ai=function(){Ac(this)},nv.ig=function(t,e,n){function o(t){var e,n=t.Rc();if(n?e=n.call(t,h):(n=i.i)&&(e=n(t,h)),e){if(e){if(n=!1,Array.isArray(e))for(var o=e.length-1;0<=o;--o)n=Bc(c,t,e[o],Kc(h,p),this.Ai,this)||n;else n=Bc(c,t,e,Kc(h,p),this.Ai,this)||n;t=n}else t=!1;this.o=this.o||t}}var i=this.a;e=i.ka(),Lc(t.attributions,e.j),Ic(t,e);var r=t.viewHints[0],a=t.viewHints[1],s=i.ea,u=i.fa;if(!this.o&&!s&&r||!u&&a)return!0;var a=t.extent,s=t.viewState,r=s.projection,h=s.resolution,p=t.pixelRatio,s=i.g,l=i.c,u=i.get(Ox);if(void 0===u&&(u=jc),a=N(a,l*h),!this.o&&this.I==h&&this.Z==s&&this.G==u&&D(this.A,a))return!0;this.i&&t.postRenderFunctions.push(as(this.i,n)),this.o=!1;var c=new rs(.5*h/p,a,i.c);if(e.Xd(a,h,r),u){var f=[];e.bc(a,function(t){f.push(t)},this),f.sort(u),f.forEach(o,this)}else e.bc(a,o,this);return ss(c,n),this.I=h,this.Z=s,this.G=u,this.A=a,this.i=c,!0},c(Vc,rr),Vc.prototype.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new Xc(this):"webgl"===n&&(e=new qc(t,this)),e},Vc.prototype.C=function(){return this.A},Vc.prototype.G=function(){return this.i},Vc.prototype.f=function(t){this.A=void 0!==t?t:Ys,this.i=null===t?void 0:Us(this.A),this.s()};var Ox="renderOrder";c(Zc,ve),nv=Zc.prototype,nv.Ba=f,nv.xa=function(){return this.j},nv.wa=function(){return this.Z},nv.ya=function(){return this.c},nv.V=function(){return this.Ja},nv.va=function(){this.s()},nv.ua=function(t){this.j=Jc(t),this.s()},c(tf,Zc),nv=tf.prototype,nv.zb=function(t){var e=d(t).toString();if(nf(this,e,t)){ef(this,e,t);var n=t.U();n?(e=n.D(),this.a&&this.a.Ea(e,t)):this.f[e]=t,this.b(new uf("addfeature",t))}this.s()},nv.gd=function(t){of(this,t),this.s()},nv.clear=function(t){if(t){for(var e in this.u)this.u[e].forEach(se);this.i||(this.u={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.Cg,this);for(var n in this.f)this.Cg(this.f[n])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.na.clear(),this.f={},this.b(new uf("clear")),this.s()},nv.kh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},nv.bc=function(t,e,n){return this.a?Ba(this.a,t,e,n):this.i?this.i.forEach(e,n):void 0},nv.lh=function(t,e,n){return this.bc(t,function(o){if(o.U().Ya(t)&&(o=e.call(n,o)))return o})},nv.th=function(){return this.i},nv.We=function(){var t;return this.i?t=this.i.a:this.a&&(t=ja(this.a),pt(this.f)||a(t,ht(this.f))),t},nv.sh=function(t){var e=[];return af(this,t,function(t){e.push(t)}),e},nv.Pf=function(t){return Ka(this.a,t)},nv.oh=function(t,e){var n=t[0],o=t[1],i=null,r=[NaN,NaN],a=1/0,s=[-(1/0),-(1/0),1/0,1/0],u=e?e:eo;return Ba(this.a,s,function(t){if(u(t)){var e=t.U(),h=a;a=e.Hb(n,o,r,a),a<h&&(i=t,t=Math.sqrt(a),s[0]=n-t,s[1]=o-t,s[2]=n+t,s[3]=o+t)}}),i},nv.D=function(t){return this.a.D(t)},nv.rh=function(t){return t=this.l[t.toString()],void 0!==t?t:null},nv.Gi=function(){return this.T},nv.Hi=function(){return this.fa},nv.Ii=function(t){t=t.target;var e=d(t).toString(),n=t.U();n?(n=n.D(),e in this.f?(delete this.f[e],this.a&&this.a.Ea(n,t)):this.a&&Fa(this.a,n,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),n=t.a,void 0!==n?(n=n.toString(),e in this.o?(delete this.o[e],this.l[n]=t):this.l[n]!==t&&(sf(this,t),this.l[n]=t)):e in this.o||(sf(this,t),this.o[e]=t),this.s(),this.b(new uf("changefeature",t))},nv.Xd=function(t,e,n){var o=this.na;t=this.Va(t,e);var i,r;for(i=0,r=t.length;i<r;++i){var a=t[i];Ba(o,a,function(t){return D(t.extent,a)})||(this.ea.call(this,a,e,n),o.Ea(a,{extent:a.slice()}))}},nv.Db=function(t){var e=d(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Cg(t),this.s()},nv.Cg=function(t){var e=d(t).toString();this.u[e].forEach(se),delete this.u[e];var n=t.a;void 0!==n?delete this.l[n.toString()]:delete this.o[e],this.b(new uf("removefeature",t))},c(uf,le),c(hf,_i),nv=hf.prototype,nv.setMap=function(t){_i.prototype.setMap.call(this,t),this.ji()},nv.Ep=function(){if(this.j){var t,e,n=this.j.U();this.f===Rx?(t=this.a,t.splice(-2,1),this.Qa(t,n),2<=t.length&&(this.o=t[t.length-2].slice())):this.f===Dx&&(t=this.a[0],t.splice(-2,1),e=this.C.U(),e.pa(t),this.Qa(this.a,n)),0===t.length&&(this.o=null),bf(this)}},nv.Qd=function(){var t=mf(this),e=this.a,n=t.U();this.f===Rx?(e.pop(),this.Qa(e,n)):this.f===Dx&&(e[0].pop(),this.Qa(e,n),e=n.W()),"MultiPoint"===this.Z?t.Ta(new Lu([e])):"MultiLineString"===this.Z?t.Ta(new Tu([e])):"MultiPolygon"===this.Z&&t.Ta(new Iu([e])),this.b(new xf("drawend",t)),this.Va&&this.Va.push(t),this.Gb&&this.Gb.zb(t)},nv.nn=function(t){var e=t.U();this.j=t,this.a=e.W(),t=this.a[this.a.length-1],this.o=t.slice(),this.a.push(t.slice()),bf(this),this.b(new xf("drawstart",this.j))},nv.bd=no,nv.ji=function(){var t=this.v,e=this.c();t&&e||mf(this),this.na.setMap(e?t:null)};var kx="Point",Rx="LineString",Dx="Polygon",Fx="Circle";c(xf,le),c(wf,_i),wf.prototype.setMap=function(t){this.u.setMap(t),this.I.setMap(t),_i.prototype.setMap.call(this,t)},wf.prototype.D=function(){return this.j},wf.prototype.f=function(t){this.j=t?t:null;var e=this.o;e?t?e.Ta(Uo(t)):e.Ta(void 0):(this.o=e=new zs(t?Uo(t):{}),this.u.ka().zb(e)),this.b(new Of(this.j))},c(Of,le);var jx="extentchanged";c(kf,_i),nv=kf.prototype,nv.fg=function(t){var e=t.U();e&&e.S()in this.T&&this.T[e.S()].call(this,t,e),(e=this.v)&&e.a&&this.c()&&Gf(this,this.Ja,e),ie(t,"change",this.ki,this)},nv.Ia=function(t){this.f&&!t&&(this.G.ka().Db(this.f),this.f=null),_i.prototype.Ia.call(this,t)},nv.setMap=function(t){this.G.setMap(t),_i.prototype.setMap.call(this,t)},nv.pn=function(t){this.fg(t.element)},nv.ki=function(t){this.o||(t=t.target,Df(this,t),this.fg(t))},nv.qn=function(t){Df(this,t.element)},nv.wn=function(t,e){var n=e.W(),n={feature:t,geometry:e,oa:[n,n]};this.a.Ea(e.D(),n)},nv.tn=function(t,e){var n,o,i,r=e.W();for(o=0,i=r.length;o<i;++o)n=r[o],n={feature:t,geometry:e,depth:[o],index:o,oa:[n,n]},this.a.Ea(e.D(),n)},nv.li=function(t,e){var n,o,i,r,a=e.W();for(n=0,o=a.length-1;n<o;++n)i=a.slice(n,n+2),r={feature:t,geometry:e,index:n,oa:i},this.a.Ea(I(i),r)},nv.sn=function(t,e){var n,o,i,r,a,s,u,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),u={feature:t,geometry:e,depth:[r],index:o,oa:s},this.a.Ea(I(s),u)},nv.xn=function(t,e){var n,o,i,r,a,s,u,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),u={feature:t,geometry:e,depth:[r],index:o,oa:s},this.a.Ea(I(s),u)},nv.vn=function(t,e){var n,o,i,r,a,s,u,h,p,l,c=e.W();for(s=0,u=c.length;s<u;++s)for(h=c[s],r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)p=n.slice(o,o+2),l={feature:t,geometry:e,depth:[r,s],index:o,oa:p},this.a.Ea(I(p),l)},nv.lq=function(t,e){var n=e.za(),o={feature:t,geometry:e,index:0,oa:[n,n]},i={feature:t,geometry:e,index:1,oa:[n,n]};o.Lf=i.Lf=[o,i],this.a.Ea(X(n),o),this.a.Ea(e.D(),i)},nv.rn=function(t,e){var n,o=e.a;for(n=0;n<o.length;++n)this.T[o[n].S()].call(this,t,o[n])},nv.Xl=function(t,e){for(var n,o=t.oa,i=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.sa();)e.push(0);switch(r.S()){case"MultiLineString":n=r.W(),n[a[0]].splice(s+1,0,e);break;case"Polygon":n=r.W(),n[a[0]].splice(s+1,0,e);break;case"MultiPolygon":n=r.W(),n[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":n=r.W(),n.splice(s+1,0,e);break;default:return}this.o=!0,r.pa(n),this.o=!1,n=this.a,n.remove(t),Hf(this,r,s,a,1);var u={oa:[o[0],e],feature:i,geometry:r,depth:a,index:s};n.Ea(I(u.oa),u),this.j.push([u,1]),o={oa:[e,o[1]],feature:i,geometry:r,depth:a,index:s+1},n.Ea(I(o.oa),o),this.j.push([o,0]),this.I=!0},nv.cj=function(){if(this.Z&&"pointerdrag"!=this.Z.type){var t=this.Z;Rf(this,t);var e,n,o,i,r,a,s,u,h,p,l=this.j,c={};for(r=l.length-1;0<=r;--r)i=l[r],h=i[0],p=d(h.feature),h.depth&&(p+="-"+h.depth.join("-")),p in c||(c[p]={}),0===i[1]?(c[p].right=h,c[p].index=h.index):1==i[1]&&(c[p].left=h,c[p].index=h.index+1);for(p in c){switch(u=c[p].right,a=c[p].left,r=c[p].index,s=r-1,h=void 0!==a?a:u,0>s&&(s=0),i=h.geometry,n=o=i.W(),e=!1,i.S()){case"MultiLineString":2<o[h.depth[0]].length&&(o[h.depth[0]].splice(r,1),e=!0);break;case"LineString":2<o.length&&(o.splice(r,1),e=!0);break;case"MultiPolygon":n=n[h.depth[1]];case"Polygon":n=n[h.depth[0]],4<n.length&&(r==n.length-1&&(r=0),n.splice(r,1),e=!0,0===r&&(n.pop(),n.push(n[0]),s=n.length-1))}e&&(e=i,this.o=!0,e.pa(o),this.o=!1,o=[],void 0!==a&&(this.a.remove(a),o.push(a.oa[0])),void 0!==u&&(this.a.remove(u),o.push(u.oa[1])),void 0!==a&&void 0!==u&&(a={depth:h.depth,feature:h.feature,geometry:h.geometry,index:s,oa:o},this.a.Ea(I(a.oa),a)),Hf(this,i,r,h.depth,-1),this.f&&(this.G.ka().Db(this.f),this.f=null),l.length=0)}return this.b(new Vf("modifyend",this.u,t)),this.C=!1,!0}return!1},c(Vf,le),c($f,ri),nv=$f.prototype,nv.zn=function(){return this.f.ka().i},nv.An=function(){return this.j},nv.Bn=function(t){return t=d(t),this.a[t]},nv.Dn=function(t){this.j=t},nv.setMap=function(t){var e=this.v,n=this.f.ka().i;e&&n.forEach(e.yj,e),ri.prototype.setMap.call(this,t),this.f.setMap(t),t&&n.forEach(t.tj,t)},nv.yn=function(t){var e=this.v;e&&e.tj(t.element)},nv.Cn=function(t){var e=this.v;e&&e.yj(t.element)},c(Qf,le);var Kx="select";c(td,_i),nv=td.prototype,nv.zb=function(t,e){var n=void 0===e||e,o=d(t),i=t.U();if(i){var r=this.T[i.S()];r&&(this.Z[o]=i.D(K()),r.call(this,t,i))}n&&(this.C[o]=ie(t,"change",this.En,this))},nv.wk=function(t){this.zb(t)},nv.xk=function(t){this.Db(t)},nv.mi=function(t){var e;t instanceof uf?e=t.feature:t instanceof Pe&&(e=t.element),this.zb(e)},nv.ni=function(t){var e;t instanceof uf?e=t.feature:t instanceof Pe&&(e=t.element),this.Db(e)},nv.En=function(t){if(t=t.target,this.A){var e=d(t);e in this.u||(this.u[e]=t)}else this.zj(t)},nv.Db=function(t,e){var n=void 0===e||e,o=d(t),i=this.Z[o];if(i){var r=this.a,a=[];for(Ba(r,i,function(e){t===e.feature&&a.push(e)}),i=a.length-1;0<=i;--i)r.remove(a[i])}n&&(se(this.C[o]),delete this.C[o])},nv.setMap=function(t){var e,n=this.v,o=this.na;this.j?e=this.j:this.o&&(e=this.o.We()),n&&(o.forEach(se),o.length=0,e.forEach(this.xk,this)),_i.prototype.setMap.call(this,t),t&&(this.j?o.push(ie(this.j,"add",this.mi,this),ie(this.j,"remove",this.ni,this)):this.o&&o.push(ie(this.o,"addfeature",this.mi,this),ie(this.o,"removefeature",this.ni,this)),e.forEach(this.wk,this))},nv.bd=no,nv.zj=function(t){this.Db(t,!1),this.zb(t,!1)},nv.Fn=function(t,e){var n,o=e.a;for(n=0;n<o.length;++n)this.T[o[n].S()].call(this,t,o[n])},nv.oi=function(t,e){var n,o,i,r,a=e.W();for(n=0,o=a.length-1;n<o;++n)i=a.slice(n,n+2),r={feature:t,oa:i},this.a.Ea(I(i),r)},nv.Gn=function(t,e){var n,o,i,r,a,s,u,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),u={feature:t,oa:s},this.a.Ea(I(s),u)},nv.Hn=function(t,e){var n,o,i,r=e.W();for(o=0,i=r.length;o<i;++o)n=r[o],n={feature:t,oa:[n,n]},this.a.Ea(e.D(),n)},nv.In=function(t,e){var n,o,i,r,a,s,u,h,p,l,c=e.W();for(s=0,u=c.length;s<u;++s)for(h=c[s],r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)p=n.slice(o,o+2),l={feature:t,oa:p},this.a.Ea(I(p),l)},nv.Jn=function(t,e){var n=e.W(),n={feature:t,oa:[n,n]};this.a.Ea(e.D(),n)},nv.Kn=function(t,e){var n,o,i,r,a,s,u,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),
u={feature:t,oa:s},this.a.Ea(I(s),u)},c(id,_i),id.prototype.I=function(){return this.u},id.prototype.Z=function(t){this.u=t},id.prototype.setMap=function(t){var e=this.v;_i.prototype.setMap.call(this,t),pd(this,e)},id.prototype.C=function(){pd(this,null)},c(ld,le),c(cd,Vc);var Bx=["#00f","#0ff","#0f0","#ff0","#f00"];nv=cd.prototype,nv.nh=function(){return this.get(Xx)},nv.uh=function(){return this.get(Ux)},nv.ri=function(){return this.get(Yx)},nv.wl=function(){for(var t=this.uh(),e=Ee(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),i=0,r=t.length;i<r;++i)n.addColorStop(i*o,t[i]);e.fillStyle=n,e.fillRect(0,0,1,256),this.j=e.getImageData(0,0,1,256).data},nv.Yf=function(){var t=this.ri(),e=this.nh(),n=t+e+1,o=2*n,o=Ee(o,o);o.shadowOffsetX=o.shadowOffsetY=this.T,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),e=n-this.T,o.arc(e,e,t,0,2*Math.PI,!0),o.fill(),this.Z=o.canvas.toDataURL(),this.I=Array(256),this.s()},nv.Nl=function(t){t=t.context;var e,n,o,i=t.canvas,i=t.getImageData(0,0,i.width,i.height),r=i.data;for(e=0,n=r.length;e<n;e+=4)(o=4*r[e+3])&&(r[e]=this.j[o],r[e+1]=this.j[o+1],r[e+2]=this.j[o+2]);t.putImageData(i,0,0)},nv.ej=function(t){this.set(Xx,t)},nv.kj=function(t){this.set(Ux,t)},nv.Zc=function(t){this.set(Yx,t)};var Xx="blur",Ux="gradient",Yx="radius";c(fd,kc),fd.prototype.O=function(t,e,n){Dc(this,"precompose",n,t,void 0);var o=this.Y();if(o){var i=e.extent,r=void 0!==i&&!D(i,t.extent)&&it(i,t.extent);r&&Rc(n,t,i);var i=this.A(),a=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(o,0,0,+o.width,+o.height,Math.round(i[4]),Math.round(i[5]),Math.round(o.width*i[0]),Math.round(o.height*i[3])),n.globalAlpha=a,r&&n.restore()}this.cf(n,t,e)},fd.prototype.Ba=function(t,e,n,o,i){var r=this.a;return r.ka().Ba(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},fd.prototype.v=function(t,e,n,o){if(this.Y()){if(this.a.ka().Ba!==f)return kc.prototype.v.apply(this,arguments);var i=fr(this.u,t.slice());if($n(i,e.viewState.resolution/this.f),this.j||(this.j=Ee(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),i[0],i[1],1,1,0,0,1,1),i=this.j.getImageData(0,0,1,1).data,0<i[3])return n.call(o,this.a,i)}},c(dd,fd),dd.prototype.Y=function(){return this.N?this.N.Y():null},dd.prototype.A=function(){return this.c},dd.prototype.ud=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.center,a=i.resolution,s=this.a.ka(),u=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=tt(h,e.extent)),u[0]||u[1]||rt(h)||(i=s.Y(h,a,n,i.projection))&&Tc(this,i)&&(this.N=i),this.N){var i=this.N,h=i.D(),p=i.resolution,u=i.a,l=n*p/(a*u),h=gr(this.c,n*o[0]/2,n*o[1]/2,l,l,0,u*(h[0]-r[0])/p,u*(r[1]-h[3])/p);gr(this.u,n*o[0]/2-h[4],n*o[1]/2-h[5],n/a,-n/a,0,-r[0],-r[1]),Lc(t.attributions,i.i),Ic(t,s),this.f=a*n/u}return!!this.N},c(xd,Wl),xd.prototype.ra=function(){1==this.state&&(se(this.de),this.de=null),Wl.prototype.ra.call(this)},xd.prototype.Y=function(){return this.f},xd.prototype.ce=function(){var t=this.Eb.V();2==t&&(this.f=gd(ot(this.g)/this.c,Q(this.g)/this.c,this.l,this.Eb.resolution,0,this.c,this.g,this.j,[{extent:this.Eb.D(),image:this.Eb.Y()}],0)),this.state=t,this.s()},xd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=this.Eb.V();2==t||3==t?this.ce():(this.de=ie(this.Eb,"change",function(){var t=this.Eb.V();2!=t&&3!=t||(se(this.de),this.de=null,this.ce())},this),this.Eb.load())}},c(wd,Zc),wd.prototype.Y=function(t,e,n,o){var i=this.c;if(i&&o&&!At(i,o)){if(this.a){if(this.ea==this.g&&At(this.a.u,o)&&this.a.resolution==e&&this.a.a==n&&Y(this.a.D(),t))return this.a;pe(this.a),this.a=null}return this.a=new xd(i,o,t,e,n,function(t,e,n){return this.Lc(t,e,n,i)}.bind(this)),this.ea=this.g,this.a}return i&&(o=i),this.Lc(t,e,n,o)},wd.prototype.l=function(t){switch(t=t.target,t.V()){case 1:this.b(new Cd(Gx,t));break;case 2:this.b(new Cd(Wx,t));break;case 3:this.b(new Cd(zx,t))}},c(Cd,le);var Gx="imageloadstart",Wx="imageloadend",zx="imageloaderror";c(Md,wd),Md.prototype.Lc=function(t,e,n,o){e=Pd(this,e);var i=this.I;return i&&this.T==this.g&&i.resolution==e&&i.a==n&&D(i.D(),t)?i:(t=t.slice(),at(t,this.na),(o=this.fa(t,e,n,[ot(t)/e*n,Q(t)/e*n],o))&&(i=new Hl(t,e,n,this.j,o)),this.I=i,this.T=this.g,i)},c(Td,Md),nv=Td.prototype,nv.pk=function(t,e,n,o,i){var r=new _c(.5*e/n,t,e,this.i.Ha,this.Ha);this.i.Xd(t,e,i);var a=!1;return this.i.bc(t,function(t){var o;if(!(o=a)){var i;if((o=t.Rc())?i=o.call(t,e):this.u&&(i=this.u(t,e)),i){var s,u=!1;for(Array.isArray(i)||(i=[i]),o=0,s=i.length;o<s;++o)u=Bc(r,t,i[o],Kc(e,n),this.fo,this)||u;o=u}else o=!1}a=o},this),Pc(r),a?null:(this.o[0]!=o[0]||this.o[1]!=o[1]?(this.f.canvas.width=o[0],this.f.canvas.height=o[1],this.o[0]=o[0],this.o[1]=o[1]):this.f.clearRect(0,0,o[0],o[1]),t=Ad(this,Z(t),e,n,o),r.i(this.f,n,t,0,{}),this.A=r,this.f.canvas)},nv.Ba=function(t,e,n,o,i,r){if(this.A){var a={};return this.A.Ba(t,e,0,o,i,function(t){var e=d(t).toString();if(!(e in a))return a[e]=!0,r(t)})}},nv.bo=function(){return this.i},nv.co=function(){return this.C},nv.eo=function(){return this.u},nv.fo=function(){this.s()},nv.ho=function(){Qc(this,this.i.V())},nv.Bi=function(t){this.C=void 0!==t?t:Ys,this.u=t?Us(this.C):void 0,this.s()},c(Ed,Wc),Ed.prototype.Ba=function(t,e,n,o,i){var r=this.a;return r.ka().Ba(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Ed.prototype.ig=function(t,e){var n=this.c.g,o=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,s=i.rotation,u=this.N,h=this.Fb,p=this.a.ka(),l=t.viewHints,c=t.extent;return void 0!==e.extent&&(c=tt(c,e.extent)),l[0]||l[1]||rt(c)||(i=p.Y(c,a,o,i.projection))&&Tc(this,i)&&(u=i,h=Ld(this,i),this.Fb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.Fb))),u&&(n=this.c.i.j,Id(this,n.width,n.height,o,r,a,s,u.D()),this.l=null,o=this.u,hr(o),yr(o,1,-1),vr(o,0,-1),this.N=u,this.Fb=h,Lc(t.attributions,u.i),Ic(t,p)),!!u},Ed.prototype.Te=function(t,e){return void 0!==this.Ba(t,e,0,eo,this)},Ed.prototype.gg=function(t,e,n,o){if(this.N&&this.N.Y())if(this.a.ka()instanceof Td){var i=fr(e.pixelToCoordinateTransform,t.slice());if(this.Ba(i,e,0,eo,this))return n.call(o,this.a,null)}else{if(i=[this.N.Y().width,this.N.Y().height],!this.l){var r=e.size;e=ur(),vr(e,-1,-1),yr(e,2/r[0],2/r[1]),vr(e,0,r[1]),yr(e,1,-1);var r=mr(this.O.slice()),a=ur();vr(a,0,i[1]),yr(a,1,-1),yr(a,i[0]/2,i[1]/2),vr(a,1,1),pr(a,r),pr(a,e),this.l=a}if(t=fr(this.l,t.slice()),!(0>t[0]||t[0]>i[0]||0>t[1]||t[1]>i[1])&&(this.i||(this.i=Ee(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.N.Y(),t[0],t[1],1,1,0,0,1,1),i=this.i.getImageData(0,0,1,1).data,0<i[3]))return n.call(o,this.a,i)}},c(Nd,rr),Nd.prototype.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new dd(this):"webgl"===n&&(e=new Ed(t,this)),e},c(Od,fd),Od.prototype.ud=function(t,e){var o=t.pixelRatio,i=t.size,r=t.viewState,a=r.projection,s=r.resolution,r=r.center,u=this.a,h=u.ka(),p=h.g,l=h.Jb(a),c=l.Qc(s,this.T),f=l.La(c),d=Math.round(s/f)||1,y=t.extent;if(void 0!==e.extent&&(y=tt(y,e.extent)),rt(y))return!1;var v,g=Xt(l,y,f);v=l.Uc(c);var m=l.La(c),b=L(l.eb(c),l.j);v=B(v[0]+g.da*b[0]*m,v[1]+g.ga*b[1]*m,v[0]+(g.ba+1)*b[0]*m,v[1]+(g.ja+1)*b[1]*m,void 0),m=h.pb(o),b={},b[c]={};var _,x,w,P=this.Jf(h,a,b),S=this.o,C=this.Ja,M=!1;for(x=g.da;x<=g.ba;++x)for(w=g.ga;w<=g.ja;++w)_=h.Pc(c,x,w,o,a),kd(this,_)||(_=Vl(_)),kd(this,_)?2==_.V()&&(b[c][_.Ga.toString()]=_,M||-1!=this.i.indexOf(_)||(M=!0)):Kt(l,_.Ga,P,C,S)||(_=Bt(l,_.Ga,C,S))&&P(c+1,_);if(x=t.viewHints,!(this.f&&16<Date.now()-t.time&&(x[0]||x[1])||!M&&this.l&&D(this.l,y)&&this.kf==p)||d!=this.I){(x=this.c)&&(w=h.Vd(c,o,a),_=Math.round((g.ba-g.da+1)*w[0]/d),w=Math.round((g.ja-g.ga+1)*w[1]/d),M=x.canvas,M.width!=_||M.height!=w?(this.I=d,M.width=_,M.height=w):(x.clearRect(0,0,_,w),d=this.I)),this.i.length=0,M=Object.keys(b).map(Number),M.sort(n);var T,A,E,I,N,O,C=0;for(A=M.length;C<A;++C){x=M[C],P=h.Vd(x,o,a),_=l.La(x),T=_/f,E=m*h.Rf(a),I=b[x];for(var k in I)_=I[k],w=l.Ua(_.Ga,S),x=(w[0]-v[0])/f*m/d,w=(v[3]-w[3])/f*m/d,N=P[0]*T/d,O=P[1]*T/d,this.Kf(_,t,e,x,w,N,O,E),this.i.push(_)}this.kf=p,this.f=f*o/m*d,this.l=v}return k=this.f/s,k=gr(this.C,o*i[0]/2,o*i[1]/2,k,k,0,(this.l[0]-r[0])/this.f*o,(r[1]-this.l[3])/this.f*o),gr(this.u,o*i[0]/2-k[4],o*i[1]/2-k[5],o/s,-o/s,0,-r[0],-r[1]),Nc(t.usedTiles,h,c,g),Oc(t,h,l,o,a,y,c,u.Sd()),Ec(t,h),Ic(t,h),0<this.i.length},Od.prototype.Kf=function(t,e,n,o,i,r,a,s){this.a.ka().Uf(e.viewState.projection)||this.c.clearRect(o,i,r,a),(t=t.Y())&&this.c.drawImage(t,s,s,t.width-2*s,t.height-2*s,o,i,r,a)},Od.prototype.Y=function(){var t=this.c;return t?t.canvas:null},Od.prototype.A=function(){return this.C},c(Rd,Kr);var Hx=new Rd;c(Dd,Br);var qx=new Dd;c(jd,Wc),nv=jd.prototype,nv.ra=function(){oa(this.c.i,this.G),Wc.prototype.ra.call(this)},nv.Jf=function(t,e,n){var o=this.c;return function(i,r){return Qd(t,e,i,r,function(t){var e=o.a.b.hasOwnProperty(t.hb());return e&&(n[i]||(n[i]={}),n[i][t.Ga.toString()]=t),e})}},nv.hg=function(){Wc.prototype.hg.call(this),this.i=null},nv.ig=function(t,e,o){var i=this.c,r=o.b,a=t.viewState,s=a.projection,u=this.a,h=u.ka(),p=h.Jb(s),l=p.Qc(a.resolution),c=p.La(l),f=h.Vd(l,t.pixelRatio,s),d=f[0]/L(p.eb(l),this.Z)[0],y=c/d,v=h.pb(d)*h.Rf(s),m=a.center,_=t.extent,x=Xt(p,_,c);if(this.l&&b(this.l,x)&&this.o==h.g)y=this.A;else{var P=[x.ba-x.da+1,x.ja-x.ga+1],S=w(Math.max(P[0]*f[0],P[1]*f[1])),P=y*S,C=p.Uc(l),M=C[0]+x.da*f[0]*y,y=C[1]+x.ga*f[1]*y,y=[M,y,M+P,y+P];zc(this,t,S),r.viewport(0,0,S,S),r.clearColor(0,0,0,0),r.clear(16384),r.disable(3042),S=aa(o,this.I,this.fa),o.Vc(S),this.i||(this.i=new Fd(r,S)),na(o,34962,this.G),r.enableVertexAttribArray(this.i.b),r.vertexAttribPointer(this.i.b,2,5126,!1,16,0),r.enableVertexAttribArray(this.i.a),r.vertexAttribPointer(this.i.a,2,5126,!1,16,8),r.uniform1i(this.i.g,0),o={},o[l]={};var T,A,E,I=this.Jf(h,s,o),N=u.Wd(),S=!0,M=K(),O=new g(0,0,0,0);for(A=x.da;A<=x.ba;++A)for(E=x.ga;E<=x.ja;++E)if(C=h.Pc(l,A,E,d,s),void 0===e.extent||(T=p.Ua(C.Ga,M),it(T,e.extent))){if(T=C.V(),(T=2==T||4==T||3==T&&!N)||(C=Vl(C)),T=C.V(),2==T){if(i.a.b.hasOwnProperty(C.hb())){o[l][C.Ga.toString()]=C;continue}}else if(4==T||3==T&&!N)continue;S=!1,T=Kt(p,C.Ga,I,O,M),T||(C=Bt(p,C.Ga,O,M))&&I(l+1,C)}e=Object.keys(o).map(Number),e.sort(n);for(var k,I=new Float32Array(4),N=0,O=e.length;N<O;++N)for(k in A=o[e[N]])C=A[k],T=p.Ua(C.Ga,M),I[0]=2*(T[2]-T[0])/P,I[1]=2*(T[3]-T[1])/P,I[2]=2*(T[0]-y[0])/P-1,I[3]=2*(T[1]-y[1])/P-1,r.uniform4fv(this.i.c,I),fs(i,C,f,v*d),r.drawArrays(5,0,4);S?(this.l=x,this.A=y,this.o=h.g):(this.A=this.l=null,this.o=-1,t.animate=!0)}Nc(t.usedTiles,h,l,x);var R=i.j;return Oc(t,h,p,d,s,_,l,u.Sd(),function(t){2!=t.V()||i.a.b.hasOwnProperty(t.hb())||t.hb()in R.a||R.i([t,Yt(p,t.Ga),p.La(t.Ga[0]),f,v*d])},this),Ec(t,h),Ic(t,h),r=this.u,hr(r),vr(r,(Math.round(m[0]/c)*c-y[0])/(y[2]-y[0]),(Math.round(m[1]/c)*c-y[1])/(y[3]-y[1])),a.rotation&&dr(r,a.rotation),yr(r,t.size[0]*a.resolution/(y[2]-y[0]),t.size[1]*a.resolution/(y[3]-y[1])),vr(r,-.5,-.5),!0},nv.gg=function(t,e,n,o){if(this.f){t=fr(this.u,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()),t=[t[0]*this.j,t[1]*this.j],e=this.c.i.b,e.bindFramebuffer(e.FRAMEBUFFER,this.f);var i=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,i),0<i[3])return n.call(o,this.a,i)}},c(Kd,rr),nv=Kd.prototype,nv.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new Od(this):"webgl"===n&&(e=new jd(t,this)),e},nv.Sd=function(){return this.get("preload")},nv.si=function(t){this.set("preload",t)},nv.Wd=function(){return this.get("useInterimTilesOnError")},nv.ti=function(t){this.set("useInterimTilesOnError",t)},c(Bd,Od);var Vx={image:lg,hybrid:["Polygon","LineString"]},$x={hybrid:["Image","Text"],vector:lg};nv=Bd.prototype,nv.ud=function(t,e){var n=this.a,o=n.g;return this.na!=o&&(this.i.length=0,n=n.u,this.c||"vector"==n||(this.c=Ee()),this.c&&"vector"==n&&(this.c=null)),this.na=o,Od.prototype.ud.apply(this,arguments)},nv.Kf=function(t,e,n,o,i,r,a,s){var u=t;if(Xd(this,u,e),this.c){var h=u,p=e,l=this.a,u=h.g,c=l.g,f=Vx[l.u];if(f&&u.Fg!==c){u.Fg=c;var d=h.Ga,y=h.Ga[0],c=p.pixelRatio,v=l.ka(),g=v.tileGrid,m=v.pb(),l=hr(this.Z);"tile-pixels"==h.j.Kb()?(d=c/m,yr(l,d,d)):(m=c/g.La(y),d=g.Ua(d,this.o),yr(l,m,-m),vr(l,-d[0],-d[3])),h.c||(h.c=Ee()),h=h.c,p=v.Vd(y,c,p.viewState.projection),h.canvas.width=p[0],h.canvas.height=p[1],u.zd.i(h,c,l,0,{},f)}Od.prototype.Kf.apply(this,arguments)}},nv.Ba=function(t,e,n,o,i){var r=e.viewState.resolution;e=e.viewState.rotation,n=void 0==n?0:n;var a,s,u,h,p,l,c=this.a,f={},y=this.i,v=c.ka(),g=v.tileGrid;for(u=0,h=y.length;u<h;++u)l=y[u],s=l.Ga,p=v.tileGrid.Ua(s,this.o),R(N(p,n*r),t)&&("tile-pixels"===l.j.Kb()?(p=et(p),r=v.pb(),s=g.La(s[0])/r,s=[(t[0]-p[0])/s,(p[1]-t[1])/s]):s=t,l=l.g.zd,a=a||l.Ba(s,r,e,n,{},function(t){var e=d(t).toString();if(!(e in f))return f[e]=!0,o.call(i,t,c)}));return a},nv.yi=function(){Ac(this)},nv.cf=function(t,e,n){var o=$x[this.a.u];if(o)for(var i=e.pixelRatio,r=e.viewState.rotation,a=e.size,s=Math.round(i*a[0]/2),a=Math.round(i*a[1]/2),u=this.i,h=[],p=[],l=u.length-1;0<=l;--l){var c,f=u[l],d=f;if(c=e,"tile-pixels"==d.j.Kb()){var y=this.a.ka(),v=y.tileGrid,g=d.Ga,y=v.La(g[0])/y.pb(),d=c.viewState,m=c.pixelRatio,b=d.resolution/m,g=v.Ua(g,this.o),v=d.center,g=et(g);c=c.size,c=gr(this.Z,Math.round(m*c[0]/2),Math.round(m*c[1]/2),y/b,y/b,d.rotation,(g[0]-v[0])/y,(v[1]-g[1])/y)}else c=Fc(this,c,0);for(y=Sc(f.g.zd,c),d=f.Ga[0],t.save(),t.globalAlpha=n.opacity,Mr(t,-r,s,a),m=0,b=h.length;m<b;++m)v=h[m],d<p[m]&&(t.beginPath(),t.moveTo(y[0],y[1]),t.lineTo(y[2],y[3]),t.lineTo(y[4],y[5]),t.lineTo(y[6],y[7]),t.moveTo(v[6],v[7]),t.lineTo(v[4],v[5]),t.lineTo(v[2],v[3]),t.lineTo(v[0],v[1]),t.clip());f.g.zd.i(t,i,c,r,{},o),t.restore(),h.push(y),p.push(d)}Od.prototype.cf.apply(this,arguments)},c(Ud,Vc),nv=Ud.prototype,nv.Gd=function(t){var e=null;return"canvas"===t.S()&&(e=new Bd(this)),e},nv.Sd=function(){return this.get("preload")},nv.Wd=function(){return this.get("useInterimTilesOnError")},nv.ui=function(t){this.set("preload",t)},nv.vi=function(t){this.set("useInterimTilesOnError",t)},c(Gd,ql),Gd.prototype.ra=function(){1==this.state&&(this.Ad.forEach(se),this.Ad=null),ql.prototype.ra.call(this)},Gd.prototype.Y=function(){return this.v},Gd.prototype.ce=function(){var t=[];if(this.g.forEach(function(e){e&&2==e.V()&&t.push({extent:this.c.Ua(e.Ga),image:e.Y()})},this),this.g.length=0,t.length){var e=this.o[0],n=this.l.eb(e),o="number"==typeof n?n:n[0],n="number"==typeof n?n:n[1],e=this.l.La(e),i=this.c.La(this.f),r=this.l.Ua(this.o);this.v=gd(o,n,this.A,i,this.c.D(),e,r,this.u,t,this.O,this.C),this.state=2}else this.state=3;this.s()},Gd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=0;this.Ad=[],this.g.forEach(function(e){var n=e.V();if(0==n||1==n){t++;var o;o=ie(e,"change",function(){var n=e.V();2!=n&&3!=n&&4!=n||(se(o),t--,t||(this.Ad.forEach(se),this.Ad=null,this.ce()))},this),this.Ad.push(o)}},this),this.g.forEach(function(t){0==t.V()&&t.load()}),t||setTimeout(this.ce.bind(this),0)}},c($d,ls),$d.prototype.ld=function(t){for(var e,n;Zd(this);){e=this.a.cd,n=e.Ga[0].toString();var o;if((o=n in t)&&(e=e.Ga,o=m(t[n],e[1],e[2])),o)break;pe(this.pop())}},c(Jd,Zc),nv=Jd.prototype,nv.Ei=function(){return Zd(this.a)},nv.ld=function(t,e){var n=this.Ud(t);n&&n.ld(e)},nv.Rf=function(){return 0},nv.Tb=function(t,e,n){return t+"/"+e+"/"+n},nv.Uf=function(){return this.na},nv.ab=function(){return this.tileGrid},nv.Jb=function(t){return this.tileGrid?this.tileGrid:zt(t)},nv.Ud=function(t){var e=this.c;return e&&!At(e,t)?null:this.a},nv.pb=function(){return this.Va},nv.Vd=function(t,e,n){return n=this.Jb(n),e=this.pb(e),t=L(n.eb(t),this.l),1==e?t:E(t,e,this.l)},nv.va=function(){this.a.clear(),this.s()},nv.Mg=f,c(ny,le),c(oy,Jd),nv=oy.prototype,nv.ob=function(){return this.tileLoadFunction},nv.qb=function(){return this.tileUrlFunction},nv.rb=function(){return this.urls},nv.Fi=function(t){switch(t=t.target,t.V()){case 1:this.b(new ny("tileloadstart",t));break;case 2:this.b(new ny("tileloadend",t));break;case 3:this.b(new ny("tileloaderror",t))}},nv.wb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},nv.bb=function(t,e){this.tileUrlFunction=t,"undefined"!=typeof e?ty(this,e):this.s()},nv.ib=function(t){var e=this.urls=Vd(t);this.bb(this.Hc?this.Hc.bind(this):zd(e,this.tileGrid),t)},nv.cb=function(t){this.urls=t;var e=t.join("\n");this.bb(this.Hc?this.Hc.bind(this):zd(t,this.tileGrid),e)},nv.Mg=function(t,e,n){t=this.Tb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},c(iy,oy),nv=iy.prototype,nv.Ei=function(){if(Zd(this.a))return!0;for(var t in this.f)if(Zd(this.f[t]))return!0;return!1},nv.ld=function(t,e){var n=this.Ud(t);this.a.ld(this.a==n?e:{});for(var o in this.f){var i=this.f[o];i.ld(i==n?e:{})}},nv.Rf=function(t){return this.c&&t&&!At(this.c,t)?0:this.Sf()},nv.Sf=function(){return 0},nv.Uf=function(t){return!(this.c&&t&&!At(this.c,t))&&oy.prototype.Uf.call(this,t)},nv.Jb=function(t){var e=this.c;return!this.tileGrid||e&&!At(e,t)?(e=d(t).toString(),e in this.u||(this.u[e]=zt(t)),this.u[e]):this.tileGrid},nv.Ud=function(t){var e=this.c;return!e||At(e,t)?this.a:(t=d(t).toString(),t in this.f||(this.f[t]=new $d(this.a.highWaterMark)),this.f[t])},nv.Pc=function(t,e,n,o,i){if(this.c&&i&&!At(this.c,i)){var r=this.Ud(i);n=[t,e,n];var a;if(t=this.Tb.apply(this,n),r.b.hasOwnProperty(t)&&(a=r.get(t)),e=this.wc,a&&a.key==e)return a;var s=this.c,u=this.Jb(s),h=this.Jb(i),p=ey(this,n,i);return o=new Gd(s,u,i,h,n,p,this.pb(o),this.Sf(),function(t,e,n,o){return ay(this,t,e,n,o,s)}.bind(this),this.Ha,this.C),o.key=e,a?(o.a=a,r.replace(t,o)):r.set(t,o),o}return ay(this,t,e,n,o,i)},nv.Ob=function(t){if(this.C!=t){this.C=t;for(var e in this.f)this.f[e].clear();this.s()}},nv.Pb=function(t,e){var n=Tt(t);n&&(n=d(n).toString(),n in this.u||(this.u[n]=e))},c(uy,iy);var Zx=new $t({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});uy.prototype.T=function(){return this.i},uy.prototype.ea=function(){return this.o},uy.prototype.fa=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Qc(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var n=t.resourceSets[0].resources[0],o=-1==this.v?n.zoomMax:this.v;t=Vt(this.c);var i=Ht({extent:t,minZoom:n.zoomMin,maxZoom:o,tileSize:(n.imageWidth==n.imageHeight?n.imageWidth:[n.imageWidth,n.imageHeight])/this.pb()});this.tileGrid=i;var r=this.I,a=this.A;if(this.tileUrlFunction=Hd(n.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=n.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return Dt(t[0],t[1],-t[2]-1,e),t=o,a&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Ft(e))}})),n.imageryProviders){var s=Lt(Tt("EPSG:4326"),this.c);t=n.imageryProviders.map(function(t){var e=t.attribution,n={};return t.coverageAreas.forEach(function(t){var e=t.zoomMin,r=Math.min(t.zoomMax,o);t=t.bbox,t=st([t[1],t[0],t[3],t[2]],s);var a,u;for(a=e;a<=r;++a)u=a.toString(),e=Ut(i,t,a),u in n?n[u].push(e):n[u]=[e]}),new $t({html:e,tileRanges:n})}),t.push(Zx),this.ua(t)}this.Z=e,Qc(this,"ready")}},c(hy,iy),c(py,hy),nv=py.prototype,nv.Gk=function(){return this.i},nv.iq=function(t){hv(this.i,t),ly(this)},nv.Np=function(t){this.i=t||{},ly(this)},nv.yl=function(t,e){var n=e.target;if(!n.status||200<=n.status&&300>n.status){var o;try{o=JSON.parse(n.responseText)}catch(t){return void Qc(this,"error")}cy(this,o),this.o[t]=o,Qc(this,"ready")}else Qc(this,"error")},nv.xl=function(){Qc(this,"error")},c(fy,tf),nv=fy.prototype,nv.Qn=function(){return this.I},nv.Rn=function(){return this.v},nv.Xd=function(t,e,n){this.v.Xd(t,e,n),e!==this.C&&(this.clear(),this.C=e,dy(this),this.gd(this.A))},nv.Op=function(t){this.I=t,this.bj()},nv.bj=function(){this.clear(),dy(this),this.gd(this.A),this.s()},c(gy,wd),nv=gy.prototype,nv.Tn=function(){return this.u},nv.Lc=function(t,e,n,o){if(void 0===this.i)return null;e=Pd(this,e),n=this.T?n:1;var i=this.N;if(i&&this.C==this.g&&i.resolution==e&&i.a==n&&D(i.D(),t))return i;i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},hv(i,this.u),t=t.slice();var r=(t[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.A){var s=this.A*ot(t)/2,u=this.A*Q(t)/2;t[0]=r-s,t[1]=a-u,t[2]=r+s,t[3]=a+u}var s=e/n,u=Math.ceil(ot(t)/s),h=Math.ceil(Q(t)/s);return t[0]=r-s*u/2,t[2]=r+s*u/2,t[1]=a-s*h/2,t[3]=a+s*h/2,this.o[0]=u,this.o[1]=h,r=t,a=this.o,s=n,o=o.nb.split(":").pop(),i.SIZE=a[0]+","+a[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*s),o=this.i,r=o.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r==o&&v(!1,50),i=vy(r,i),this.N=new zl(t,e,n,this.j,i,this.I,this.f),this.C=this.g,ie(this.N,"change",this.l,this),this.N},nv.Sn=function(){return this.f},nv.Un=function(){return this.i},nv.Vn=function(t){this.N=null,this.f=t,this.s()},nv.Wn=function(t){t!=this.i&&(this.i=t,this.N=null,this.s())},nv.Xn=function(t){hv(this.u,t),this.N=null,this.s()},c(my,wd),nv=my.prototype,nv.Zn=function(){return this.f},nv.Lc=function(t,e,n){e=Pd(this,e),n=this.T?n:1;var o=this.N;if(o&&this.A==this.g&&o.resolution==e&&o.a==n&&D(o.D(),t))return o;1!=this.u&&(t=t.slice(),at(t,this.u));var i=[ot(t)/e*n,Q(t)/e*n];if(void 0!==this.C){var o=this.C,r=Z(t),a=this.fa,s=ot(t),u=Q(t),h=i[0],p=i[1],l=.0254/this.o,i={OPERATION:this.na?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:p*s>h*u?s*a/(h*l):u*a/(p*l),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]};hv(i,this.f),o=vy(o,i),o=new zl(t,e,n,this.j,o,this.I,this.i),ie(o,"change",this.l,this)}else o=null;return this.N=o,this.A=this.g,o},nv.Yn=function(){return this.i},nv.ao=function(t){hv(this.f,t),this.s()},nv.$n=function(t){this.N=null,this.i=t,this.s()},c(by,wd),by.prototype.Lc=function(t){return it(t,this.N.D())?this.N:null},by.prototype.l=function(t){if(2==this.N.V()){var e,n,o=this.N.D(),i=this.N.Y();if(this.i?(e=this.i[0],n=this.i[1]):(e=i.width,n=i.height),o=Math.ceil(ot(o)/(Q(o)/n)),o!=e){var o=Ee(o,n),r=o.canvas;o.drawImage(i,0,0,e,n,0,0,r.width,r.height),this.N.Hg(r)}}wd.prototype.l.call(this,t)},c(_y,wd);var Jx=[101,101];nv=_y.prototype,nv.io=function(t,e,n,o){if(void 0!==this.f){var i=J(t,e,0,Jx),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return hv(r,this.i,o),o=Math.floor((i[3]-t[1])/e),r[this.o?"I":"X"]=Math.floor((t[0]-i[0])/e),r[this.o?"J":"Y"]=o,xy(this,i,Jx,1,Tt(n),r)}},nv.ko=function(){return this.i},nv.Lc=function(t,e,n,o){if(void 0===this.f)return null;e=Pd(this,e),1==n||this.na&&void 0!==this.T||(n=1);var i=e/n,r=Z(t),a=J(r,i,0,[Math.ceil(ot(t)/i),Math.ceil(Q(t)/i)]);return t=J(r,i,0,[Math.ceil(this.C*ot(t)/i),Math.ceil(this.C*Q(t)/i)]),(r=this.N)&&this.I==this.g&&r.resolution==e&&r.a==n&&D(r.D(),a)?r:(a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},hv(a,this.i),this.A[0]=Math.round(ot(t)/i),this.A[1]=Math.round(Q(t)/i),o=xy(this,t,this.A,n,o,a),this.N=new zl(t,e,n,this.j,o,this.fa,this.u),this.I=this.g,ie(this.N,"change",this.l,this),this.N)},nv.jo=function(){return this.u},nv.lo=function(){return this.f},nv.mo=function(t){this.N=null,this.u=t,this.s()},nv.no=function(t){t!=this.f&&(this.f=t,this.N=null,this.s())},nv.oo=function(t){hv(this.i,t),wy(this),this.N=null,this.s()},c(Py,hy);var Qx=new $t({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var t={},n={ma:t};!function(o){if("object"==typeof t&&"undefined"!=typeof n)n.ma=o();else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,i.Cq=o()}}(function(){return function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var h="function"==typeof o&&o;if(!u&&h)return o(s,!0);if(a)return a(s,!0);throw h=Error("Cannot find module '"+s+"'"),h.code="MODULE_NOT_FOUND",h}h=n[s]={ma:{}},e[s][0].call(h.ma,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.ma,t,e,n,i)}return n[s].ma}for(var a="function"==typeof o&&o,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){t=t("./processor"),n.Pj=t},{"./processor":2}],2:[function(t,e){function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(n){var o=n.buffers,i=n.meta,r=n.width,a=n.height,s=o.length,u=o[0].byteLength;if(n.imageOps){for(u=Array(s),n=0;n<s;++n){var h,p=u,l=n;h=new Uint8ClampedArray(o[n]);var c=r,f=a;h=e?new ImageData(h,c,f):{data:h,width:c,height:f},p[l]=h}r=t(u,i).data}else{for(r=new Uint8ClampedArray(u),a=Array(s),p=Array(s),n=0;n<s;++n)a[n]=new Uint8ClampedArray(o[n]),p[n]=[0,0,0,0];for(o=0;o<u;o+=4){for(n=0;n<s;++n)l=a[n],p[n][0]=l[o],p[n][1]=l[o+1],p[n][2]=l[o+2],p[n][3]=l[o+3];n=t(p,i),r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),o=new Worker(o);return o.addEventListener("message",e),o}function i(t,e){var o=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){this.Bf=!!t.Vl;var e;e=0===t.threads?0:this.Bf?1:t.threads||1;var n=[];if(e)for(var r=0;r<e;++r)n[r]=o(t,this.Yg.bind(this,r));else n[0]=i(t,this.Yg.bind(this,0));this.qe=n,this.Fd=[],this.bk=t.hp||1/0,this.oe=0,this.fd={},this.Cf=null}var a=t("./util").om;r.prototype.fp=function(t,e,n){this.$j({inputs:t,Jh:e,jd:n}),this.Vg()},r.prototype.$j=function(t){for(this.Fd.push(t);this.Fd.length>this.bk;)this.Fd.shift().jd(null,null)},r.prototype.Vg=function(){if(0===this.oe&&0<this.Fd.length){var t=this.Cf=this.Fd.shift(),e=t.inputs[0].width,n=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),i=this.qe.length;if(this.oe=i,1===i)this.qe[0].postMessage({buffers:o,meta:t.Jh,imageOps:this.Bf,width:e,height:n},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/i),a=0;a<i;++a){for(var s=a*r,u=[],h=0,p=o.length;h<p;++h)u.push(o[a].slice(s,s+r));this.qe[a].postMessage({buffers:u,meta:t.Jh,imageOps:this.Bf,width:e,height:n},u)}}},r.prototype.Yg=function(t,e){this.Aq||(this.fd[t]=e.data,--this.oe,0===this.oe&&this.ck())},r.prototype.ck=function(){var t,e,n=this.Cf,o=this.qe.length;if(1===o)t=new Uint8ClampedArray(this.fd[0].buffer),e=this.fd[0].meta;else{var i=n.inputs[0].data.length;t=new Uint8ClampedArray(i),e=Array(i);for(var i=4*Math.ceil(i/4/o),r=0;r<o;++r){var s=r*i;t.set(new Uint8ClampedArray(this.fd[r].buffer),s),e[r]=this.fd[r].meta}}this.Cf=null,this.fd={},n.jd(null,a(t,n.inputs[0].width,n.inputs[0].height),e),this.Vg()},e.ma=r},{"./util":3}],3:[function(t,e,n){var o=!0;try{new ImageData(10,10)}catch(t){o=!1}var i=document.createElement("canvas").getContext("2d");n.om=function(t,e,n){return o?new ImageData(t,e,n):(e=i.createImageData(e,n),e.data.set(t),e)}},{}]},{},[1])(1)}),Dg=n.ma}(),c(Sy,wd),Sy.prototype.u=function(t,e){this.A=new Dg.Pj({operation:t,Vl:"image"===this.na,hp:1,lib:e,threads:this.Ha}),this.s()},Sy.prototype.Y=function(t,e,n,o){n=!0;for(var i,r=0,a=this.f.length;r<a;++r)if(i=this.f[r].a.ka(),"ready"!==i.V()){n=!1;break}if(!n)return null;if(n=hv({},this.C),n.viewState=hv({},n.viewState),i=Z(t),n.extent=t.slice(),n.focus=i,n.size[0]=Math.round(ot(t)/e),n.size[1]=Math.round(Q(t)/e),r=n.viewState,r.center=i,r.projection=o,r.resolution=e,this.o=n,Rn(n.tileQueue,16,16),this.i&&(o=this.i.resolution,n=this.i.D(),e===o&&Y(t,n)||(this.i=null)),!this.i||this.g!==this.I)t:{for(t=this.o,o=this.f.length,e=Array(o),n=0;n<o;++n){if(i=this.f[n],r=t,a=t.layerStatesArray[n],i.ud(r,a)){var s=r.size[0],u=r.size[1];if(tw){var h=tw.canvas;h.width!==s||h.height!==u?tw=Ee(s,u):tw.clearRect(0,0,s,u)}else tw=Ee(s,u);i.O(r,a,tw),i=tw.getImageData(0,0,s,u)}else i=null;if(!i)break t;e[n]=i}o={},this.b(new Ty(ew,t,o)),this.A.fp(e,o,this.fa.bind(this,t))}return this.i},Sy.prototype.fa=function(t,e,n,o){if(!e&&n){e=t.extent;var i=t.viewState.resolution;if(i===this.o.viewState.resolution&&Y(e,this.o.extent)){var r;this.i?r=this.i.Y().getContext("2d"):(r=Ee(Math.round(ot(e)/i),Math.round(Q(e)/i)),this.i=new Hl(e,i,1,this.j,r.canvas)),r.putImageData(n,0,0),this.s(),this.I=this.g,this.b(new Ty(nw,t,o))}}};var tw=null;c(Ty,le),Sy.prototype.Lc=function(){return null};var ew="beforeoperations",nw="afteroperations";c(Ay,hy);var ow=[new $t({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Qx],iw={terrain:{Ib:"jpg",opaque:!0},"terrain-background":{Ib:"jpg",opaque:!0},"terrain-labels":{Ib:"png",opaque:!1},"terrain-lines":{Ib:"png",opaque:!1},"toner-background":{Ib:"png",opaque:!0},toner:{Ib:"png",opaque:!0},"toner-hybrid":{Ib:"png",opaque:!1},"toner-labels":{Ib:"png",opaque:!1},"toner-lines":{Ib:"png",opaque:!1},"toner-lite":{Ib:"png",opaque:!0},watercolor:{Ib:"jpg",opaque:!0}},rw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};c(Ey,iy),Ey.prototype.v=function(){return this.i},Ey.prototype.pb=function(t){return t},Ey.prototype.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Jb(n)),!(o.b.length<=t[0])){var i=o.Ua(t,this.o),r=L(o.eb(t[0]),this.l);1!=e&&(r=E(r,e,this.l)),o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},hv(o,this.i);var a=this.urls;return a?(n=n.nb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=(1==a.length?a[0]:a[M((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=vy(t,o)):t=void 0,t}},Ey.prototype.A=function(t){hv(this.i,t),ty(this,Ly(this))},c(Iy,Jd),Iy.prototype.Pc=function(t,e,n){var o=this.Tb(t,e,n);if(this.a.b.hasOwnProperty(o))return this.a.get(o);var i=L(this.tileGrid.eb(t));return t=[t,e,n],e=(e=ey(this,t))?ey(this,e).toString():"",i=new Ny(t,i,e),this.a.set(o,i),i},c(Ny,ql),Ny.prototype.Y=function(){if(this.g)return this.g;var t=this.c,e=Ee(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.Fa,t[0]/2,t[1]/2),this.g=e.canvas},Ny.prototype.load=function(){},c(Oy,iy),nv=Oy.prototype,nv.qo=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ue()}this.Ci(e)}else this.Ue()},nv.po=function(){this.Ue()},nv.kl=function(){return this.i},nv.Ci=function(t){var e,n=Tt("EPSG:4326"),o=this.c;if(t.bounds){var i=Lt(n,o);e=st(t.bounds,i)}var r=t.minzoom||0,i=t.maxzoom||22;if(this.tileGrid=o=Ht({extent:Vt(o),maxZoom:i,minZoom:r}),this.tileUrlFunction=zd(t.tiles,o),void 0!==t.attribution&&!this.j){n=void 0!==e?e:n.D(),e={};for(var a;r<=i;++r)a=r.toString(),e[a]=[Ut(o,n,r)];this.ua([new $t({html:t.attribution,tileRanges:e})])}this.i=t,Qc(this,"ready")},nv.Ue=function(){Qc(this,"error")},c(ky,Jd),nv=ky.prototype,nv.uo=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ve()}this.jg(e)}else this.Ve()},nv.to=function(){this.Ve()},nv.hl=function(){return this.f},nv.vk=function(t,e,n,o,i){this.tileGrid?(e=this.tileGrid.Ae(t,e),Dy(this.Pc(e[0],e[1],e[2],1,this.c),t,n,o,i)):!0===i?setTimeout(function(){n.call(o,null)},0):n.call(o,null)},nv.Ve=function(){Qc(this,"error")},nv.jg=function(t){var e,n=Tt("EPSG:4326"),o=this.c;if(t.bounds){
var i=Lt(n,o);e=st(t.bounds,i)}var r=t.minzoom||0,i=t.maxzoom||22;this.tileGrid=o=Ht({extent:Vt(o),maxZoom:i,minZoom:r}),this.f=t.template;var a=t.grids;if(a){if(this.o=zd(a,o),void 0!==t.attribution){for(n=void 0!==e?e:n.D(),e={};r<=i;++r)a=r.toString(),e[a]=[Ut(o,n,r)];this.ua([new $t({html:t.attribution,tileRanges:e})])}Qc(this,"ready")}else Qc(this,"error")},nv.Pc=function(t,e,n,o,i){var r=this.Tb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],e=ey(this,t,i),o=this.o(e,o,i),o=new Ry(t,void 0!==o?0:4,void 0!==o?o:"",this.tileGrid.Ua(t),this.u,this.i),this.a.set(r,o),o)},nv.Mg=function(t,e,n){t=this.Tb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},c(Ry,ql),nv=Ry.prototype,nv.Y=function(){return null},nv.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.g[1])/(this.g[3]-this.g[1]))*this.f.length)];return"string"!=typeof e?null:(e=e.charCodeAt(Math.floor((t[0]-this.g[0])/(this.g[2]-this.g[0])*e.length)),93<=e&&e--,35<=e&&e--,e-=32,t=null,e in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},nv.hb=function(){return this.o},nv.Ce=function(){this.state=3,this.s()},nv.Di=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.s()},nv.so=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ce()}this.Di(e)}else this.Ce()},nv.ro=function(){this.Ce()},nv.load=function(){this.v&&Fy(this)},c(jy,iy),nv=jy.prototype,nv.vo=function(t,e,n,o){n=Tt(n);var i=this.tileGrid;if(i||(i=this.Jb(n)),e=i.Ae(t,e),!(i.b.length<=e[0])){var r=i.La(e[0]),a=i.Ua(e,this.ea),i=L(i.eb(e[0]),this.l),s=this.v;return s&&(i=A(i,s,this.l),a=N(a,r*s,a)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},hv(s,this.i,o),o=Math.floor((a[3]-t[1])/r),s[this.o?"I":"X"]=Math.floor((t[0]-a[0])/r),s[this.o?"J":"Y"]=o,Ky(this,e,i,a,1,n,s)}},nv.Sf=function(){return this.v},nv.Tb=function(t,e,n){return this.I+iy.prototype.Tb.call(this,t,e,n)},nv.wo=function(){return this.i},nv.pb=function(t){return this.T&&void 0!==this.A?t:1},nv.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Jb(n)),!(o.b.length<=t[0])){1==e||this.T&&void 0!==this.A||(e=1);var i=o.La(t[0]),r=o.Ua(t,this.ea),o=L(o.eb(t[0]),this.l),a=this.v;return a&&(o=A(o,a,this.l),r=N(r,i*a,r)),1!=e&&(o=E(o,e,this.l)),i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},hv(i,this.i),Ky(this,t,o,r,e,n,i)}},nv.cb=function(t){iy.prototype.cb.call(this,t),By(this)},nv.xo=function(t){hv(this.i,t),By(this),Uy(this),ty(this,Xy(this))},c(Yy,ql),nv=Yy.prototype,nv.Y=function(){return-1==this.g.Fg?null:this.c.canvas},nv.Gm=function(){return this.l},nv.hb=function(){return this.o},nv.load=function(){0==this.state&&(this.state=1,this.s(),this.v(this,this.o),this.u(null,NaN,null))},nv.Qo=function(t,e){this.dg(e),this.hj(t)},nv.Po=function(){this.state=3,this.s()},nv.hj=function(t){this.f=t,this.state=2,this.s()},nv.dg=function(t){this.j=t},nv.mj=function(t){this.u=t},c(Wy,oy),Wy.prototype.Pc=function(t,e,n,o,i){var r=this.Tb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],o=(e=ey(this,t,i))?this.tileUrlFunction(e,o,i):void 0,o=new this.tileClass(t,void 0!==o?0:4,void 0!==o?o:"",this.i,this.tileLoadFunction),ie(o,"change",this.Fi,this),this.a.set(r,o),o)},Wy.prototype.pb=function(t){return void 0==t?oy.prototype.pb.call(this,t):t},Wy.prototype.Vd=function(t,e){var n=L(this.tileGrid.eb(t));return[Math.round(n[0]*e),Math.round(n[1]*e)]},c(zy,jt),zy.prototype.o=function(){return this.l},c(qy,iy),nv=qy.prototype,nv.Ik=function(){return this.i},nv.yo=function(){return this.v},nv.zo=function(){return this.A},nv.Vk=function(){return this.o},nv.fl=function(){return this.T},nv.Ao=function(){return this.I},nv.ml=function(){return this.ea},nv.jq=function(t){hv(this.i,t),ty(this,Vy(this))},c($y,iy),c(Zy,$l),Zy.prototype.Y=function(){if(this.g)return this.g;var t=$l.prototype.Y.call(this);if(2==this.state){if(256==t.width&&256==t.height)return this.g=t;var e=Ee(256,256);return e.drawImage(t,0,0),this.g=e.canvas}return t};var aw="default",sw="truncated";Jy.prototype.get=function(t){return this.c[t]||null},Jy.prototype.add=function(t,e,n,o,i){var r,a,s;for(a=0,s=this.a.length;a<s;++a)if(r=this.a[a],r.width>=e+this.b&&r.height>=n+this.b)return s={offsetX:r.x+this.b,offsetY:r.y+this.b,image:this.i},this.c[t]=s,o.call(i,this.g,r.x+this.b,r.y+this.b),t=a,e+=this.b,o=n+this.b,r.width-e>r.height-o?(n={x:r.x+e,y:r.y,width:r.width-e,height:r.height},e={x:r.x,y:r.y+o,width:e,height:r.height-o},Qy(this,t,n,e)):(n={x:r.x+e,y:r.y,width:r.width-e,height:o},e={x:r.x,y:r.y+o,width:r.width,height:r.height-o},Qy(this,t,n,e)),s;return null},tv.prototype.add=function(t,e,n,o,i,r){return e+this.b>this.g||n+this.b>this.g?null:(o=ev(this,!1,t,e,n,o,r))?(t=ev(this,!0,t,e,n,i?i:f,r),{offsetX:o.offsetX,offsetY:o.offsetY,image:o.image,Ul:t.image}):null},y.prototype.code=y.prototype.code,t("ol.Attribution",$t),$t.prototype.getHTML=$t.prototype.g,t("ol.Collection",_e),_e.prototype.clear=_e.prototype.clear,_e.prototype.extend=_e.prototype.ag,_e.prototype.forEach=_e.prototype.forEach,_e.prototype.getArray=_e.prototype.pm,_e.prototype.item=_e.prototype.item,_e.prototype.getLength=_e.prototype.fc,_e.prototype.insertAt=_e.prototype.Ge,_e.prototype.pop=_e.prototype.pop,_e.prototype.push=_e.prototype.push,_e.prototype.remove=_e.prototype.remove,_e.prototype.removeAt=_e.prototype.Bg,_e.prototype.setAt=_e.prototype.Mp,Pe.prototype.element=Pe.prototype.element,t("ol.color.asArray",Se),t("ol.color.asString",Ce),t("ol.colorlike.asColorLike",Te),t("ol.control.defaults",Ye),t("ol.coordinate.add",Gn),t("ol.coordinate.createStringXY",function(t){return function(e){return to(e,t)}}),t("ol.coordinate.format",Hn),t("ol.coordinate.rotate",Vn),t("ol.coordinate.toStringHDMS",function(t,e){return t?zn(t[1],"NS",e)+" "+zn(t[0],"EW",e):""}),t("ol.coordinate.toStringXY",to),t("ol.DeviceOrientation",Rs),Rs.prototype.getAlpha=Rs.prototype.Bk,Rs.prototype.getBeta=Rs.prototype.Ek,Rs.prototype.getGamma=Rs.prototype.Kk,Rs.prototype.getHeading=Rs.prototype.qm,Rs.prototype.getTracking=Rs.prototype.Mh,Rs.prototype.setTracking=Rs.prototype.bg,t("ol.easing.easeIn",De),t("ol.easing.easeOut",Fe),t("ol.easing.inAndOut",je),t("ol.easing.linear",Ke),t("ol.easing.upAndDown",function(t){return.5>t?je(2*t):1-je(2*(t-.5))}),t("ol.extent.boundingExtent",I),t("ol.extent.buffer",N),t("ol.extent.containsCoordinate",R),t("ol.extent.containsExtent",D),t("ol.extent.containsXY",F),t("ol.extent.createEmpty",K),t("ol.extent.equals",Y),t("ol.extent.extend",G),t("ol.extent.getBottomLeft",V),t("ol.extent.getBottomRight",$),t("ol.extent.getCenter",Z),t("ol.extent.getHeight",Q),t("ol.extent.getIntersection",tt),t("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),t("ol.extent.getTopLeft",et),t("ol.extent.getTopRight",nt),t("ol.extent.getWidth",ot),t("ol.extent.intersects",it),t("ol.extent.isEmpty",rt),t("ol.extent.applyTransform",st),t("ol.Feature",zs),zs.prototype.clone=zs.prototype.clone,zs.prototype.getGeometry=zs.prototype.U,zs.prototype.getId=zs.prototype.sm,zs.prototype.getGeometryName=zs.prototype.Mk,zs.prototype.getStyle=zs.prototype.tm,zs.prototype.getStyleFunction=zs.prototype.Rc,zs.prototype.setGeometry=zs.prototype.Ta,zs.prototype.setStyle=zs.prototype.cg,zs.prototype.setId=zs.prototype.lc,zs.prototype.setGeometryName=zs.prototype.Yc,t("ol.featureloader.xhr",yu),t("ol.Geolocation",Dl),Dl.prototype.getAccuracy=Dl.prototype.zk,Dl.prototype.getAccuracyGeometry=Dl.prototype.Ak,Dl.prototype.getAltitude=Dl.prototype.Ck,Dl.prototype.getAltitudeAccuracy=Dl.prototype.Dk,Dl.prototype.getHeading=Dl.prototype.um,Dl.prototype.getPosition=Dl.prototype.vm,Dl.prototype.getProjection=Dl.prototype.Nh,Dl.prototype.getSpeed=Dl.prototype.gl,Dl.prototype.getTracking=Dl.prototype.Oh,Dl.prototype.getTrackingOptions=Dl.prototype.zh,Dl.prototype.setProjection=Dl.prototype.Ph,Dl.prototype.setTracking=Dl.prototype.Je,Dl.prototype.setTrackingOptions=Dl.prototype.sj,t("ol.Graticule",Ul),Ul.prototype.getMap=Ul.prototype.ym,Ul.prototype.getMeridians=Ul.prototype.Wk,Ul.prototype.getParallels=Ul.prototype.cl,Ul.prototype.setMap=Ul.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",Xv),t("ol.has.CANVAS",Yv),t("ol.has.DEVICE_ORIENTATION",Gv),t("ol.has.GEOLOCATION",Wv),t("ol.has.TOUCH",zv),t("ol.has.WEBGL",Ov),zl.prototype.getImage=zl.prototype.Y,zl.prototype.load=zl.prototype.load,$l.prototype.getImage=$l.prototype.Y,t("ol.inherits",c),t("ol.interaction.defaults",er),t("ol.Kinetic",oi),t("ol.loadingstrategy.all",$c),t("ol.loadingstrategy.bbox",function(t){return[t]}),t("ol.loadingstrategy.tile",function(t){return function(e,n){var o=t.Qc(n),i=Ut(t,e,o),r=[],o=[o,0,0];for(o[1]=i.da;o[1]<=i.ba;++o[1])for(o[2]=i.ga;o[2]<=i.ja;++o[2])r.push(t.Ua(o));return r}}),t("ol.Map",vs),vs.prototype.addControl=vs.prototype.gk,vs.prototype.addInteraction=vs.prototype.hk,vs.prototype.addLayer=vs.prototype.$g,vs.prototype.addOverlay=vs.prototype.ah,vs.prototype.forEachFeatureAtPixel=vs.prototype.we,vs.prototype.forEachLayerAtPixel=vs.prototype.Em,vs.prototype.hasFeatureAtPixel=vs.prototype.Tl,vs.prototype.getEventCoordinate=vs.prototype.Of,vs.prototype.getEventPixel=vs.prototype.xe,vs.prototype.getTarget=vs.prototype.Wf,vs.prototype.getTargetElement=vs.prototype.vc,vs.prototype.getCoordinateFromPixel=vs.prototype.Xa,vs.prototype.getControls=vs.prototype.Hk,vs.prototype.getOverlays=vs.prototype.al,vs.prototype.getOverlayById=vs.prototype.$k,vs.prototype.getInteractions=vs.prototype.Nk,vs.prototype.getLayerGroup=vs.prototype.Mc,vs.prototype.getLayers=vs.prototype.Qh,vs.prototype.getPixelFromCoordinate=vs.prototype.Ka,vs.prototype.getSize=vs.prototype.Nb,vs.prototype.getView=vs.prototype.$,vs.prototype.getViewport=vs.prototype.nl,vs.prototype.renderSync=vs.prototype.Jp,vs.prototype.render=vs.prototype.render,vs.prototype.removeControl=vs.prototype.Cp,vs.prototype.removeInteraction=vs.prototype.Dp,vs.prototype.removeLayer=vs.prototype.Fp,vs.prototype.removeOverlay=vs.prototype.Gp,vs.prototype.setLayerGroup=vs.prototype.lj,vs.prototype.setSize=vs.prototype.Ig,vs.prototype.setTarget=vs.prototype.Ke,vs.prototype.setView=vs.prototype.Yp,vs.prototype.updateSize=vs.prototype.Cd,Je.prototype.originalEvent=Je.prototype.originalEvent,Je.prototype.pixel=Je.prototype.pixel,Je.prototype.coordinate=Je.prototype.coordinate,Je.prototype.dragging=Je.prototype.dragging,Ze.prototype.map=Ze.prototype.map,Ze.prototype.frameState=Ze.prototype.frameState,t("ol.Object",ve),ve.prototype.get=ve.prototype.get,ve.prototype.getKeys=ve.prototype.P,ve.prototype.getProperties=ve.prototype.M,ve.prototype.set=ve.prototype.set,ve.prototype.setProperties=ve.prototype.H,ve.prototype.unset=ve.prototype.R,be.prototype.key=be.prototype.key,be.prototype.oldValue=be.prototype.oldValue,t("ol.Observable",ye),t("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)se(t[e]);else se(t)}),ye.prototype.changed=ye.prototype.s,ye.prototype.dispatchEvent=ye.prototype.b,ye.prototype.getRevision=ye.prototype.L,ye.prototype.on=ye.prototype.J,ye.prototype.once=ye.prototype.once,ye.prototype.un=ye.prototype.K,t("ol.Overlay",ms),ms.prototype.getElement=ms.prototype.Rd,ms.prototype.getId=ms.prototype.Fm,ms.prototype.getMap=ms.prototype.Le,ms.prototype.getOffset=ms.prototype.wh,ms.prototype.getPosition=ms.prototype.Rh,ms.prototype.getPositioning=ms.prototype.xh,ms.prototype.setElement=ms.prototype.gj,ms.prototype.setMap=ms.prototype.setMap,ms.prototype.setOffset=ms.prototype.nj,ms.prototype.setPosition=ms.prototype.Me,ms.prototype.setPositioning=ms.prototype.qj,t("ol.proj.METERS_PER_UNIT",lv),t("ol.proj.setProj4",function(t){cv=t}),t("ol.proj.getPointResolution",bt),t("ol.proj.addEquivalentProjections",_t),t("ol.proj.addProjection",wt),t("ol.proj.addCoordinateTransforms",Ct),t("ol.proj.fromLonLat",function(t,e){return Ot(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),t("ol.proj.toLonLat",function(t,e){return Ot(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",Tt),t("ol.proj.equivalent",At),t("ol.proj.getTransform",Et),t("ol.proj.transform",Ot),t("ol.proj.transformExtent",kt),t("ol.render.toContext",function(t,e){var n=t.canvas,o=e?e:{},i=o.pixelRatio||Xv;return(o=o.size)&&(n.width=o[0]*i,n.height=o[1]*i,n.style.width=o[0]+"px",n.style.height=o[1]+"px"),n=[0,0,n.width,n.height],o=yr(ur(),i,i),new Ar(t,i,n,o,0)}),t("ol.size.toSize",L),t("ol.Sphere",lt),lt.prototype.geodesicArea=lt.prototype.a,lt.prototype.haversineDistance=lt.prototype.b,ql.prototype.getTileCoord=ql.prototype.i,ql.prototype.load=ql.prototype.load,t("ol.tilegrid.createXYZ",Ht),Yy.prototype.getFormat=Yy.prototype.Gm,Yy.prototype.setFeatures=Yy.prototype.hj;Yy.prototype.setProjection=Yy.prototype.dg;Yy.prototype.setLoader=Yy.prototype.mj,t("ol.View",Wo),Wo.prototype.animate=Wo.prototype.animate,Wo.prototype.getAnimating=Wo.prototype.Kc,Wo.prototype.cancelAnimations=Wo.prototype.kd,Wo.prototype.constrainCenter=Wo.prototype.Gc,Wo.prototype.constrainResolution=Wo.prototype.constrainResolution,Wo.prototype.constrainRotation=Wo.prototype.constrainRotation,Wo.prototype.getCenter=Wo.prototype.za,Wo.prototype.calculateExtent=Wo.prototype.hd,Wo.prototype.getMaxResolution=Wo.prototype.Hm,Wo.prototype.getMinResolution=Wo.prototype.Jm,Wo.prototype.getMaxZoom=Wo.prototype.Im,Wo.prototype.setMaxZoom=Wo.prototype.Up,Wo.prototype.getMinZoom=Wo.prototype.Km,Wo.prototype.setMinZoom=Wo.prototype.Vp,Wo.prototype.getProjection=Wo.prototype.Lm,Wo.prototype.getResolution=Wo.prototype.Ra,Wo.prototype.getResolutions=Wo.prototype.Mm,Wo.prototype.getRotation=Wo.prototype.Sa,Wo.prototype.getZoom=Wo.prototype.Ah,Wo.prototype.getZoomForResolution=Wo.prototype.Be,Wo.prototype.fit=Wo.prototype.Mf,Wo.prototype.centerOn=Wo.prototype.qk,Wo.prototype.rotate=Wo.prototype.rotate,Wo.prototype.setCenter=Wo.prototype.lb,Wo.prototype.setResolution=Wo.prototype.$c,Wo.prototype.setRotation=Wo.prototype.Ne,Wo.prototype.setZoom=Wo.prototype.aq,t("ol.xml.getAllTextContent",Vs),t("ol.xml.parse",Qs),ea.prototype.getGL=ea.prototype.Mo,ea.prototype.useProgram=ea.prototype.Vc,t("ol.tilegrid.TileGrid",jt),jt.prototype.forEachTileCoord=jt.prototype.mh,jt.prototype.getMaxZoom=jt.prototype.Ni,jt.prototype.getMinZoom=jt.prototype.Oi,jt.prototype.getOrigin=jt.prototype.Uc,jt.prototype.getResolution=jt.prototype.La,jt.prototype.getResolutions=jt.prototype.Pi,jt.prototype.getTileCoordExtent=jt.prototype.Ua,jt.prototype.getTileCoordForCoordAndResolution=jt.prototype.Ae,jt.prototype.getTileCoordForCoordAndZ=jt.prototype.Xf,jt.prototype.getTileSize=jt.prototype.eb,jt.prototype.getZForResolution=jt.prototype.Qc,t("ol.tilegrid.WMTS",zy),zy.prototype.getMatrixIds=zy.prototype.o,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Hy),t("ol.style.AtlasManager",tv),t("ol.style.Circle",Ks),Ks.prototype.setRadius=Ks.prototype.Zc,t("ol.style.Fill",Bs),Bs.prototype.clone=Bs.prototype.clone,Bs.prototype.getColor=Bs.prototype.g,Bs.prototype.setColor=Bs.prototype.c,t("ol.style.Icon",ep),ep.prototype.clone=ep.prototype.clone,ep.prototype.getAnchor=ep.prototype.Jc,ep.prototype.getColor=ep.prototype.Bo,ep.prototype.getImage=ep.prototype.Y,ep.prototype.getOrigin=ep.prototype.Tc,ep.prototype.getSrc=ep.prototype.Co,ep.prototype.getSize=ep.prototype.kc,ep.prototype.load=ep.prototype.load,t("ol.style.Image",Ds),Ds.prototype.getOpacity=Ds.prototype.Ye,Ds.prototype.getRotateWithView=Ds.prototype.Ze,Ds.prototype.getRotation=Ds.prototype.$e,Ds.prototype.getScale=Ds.prototype.af,Ds.prototype.getSnapToPixel=Ds.prototype.ze,Ds.prototype.setOpacity=Ds.prototype.vd,Ds.prototype.setRotation=Ds.prototype.bf,Ds.prototype.setScale=Ds.prototype.wd,t("ol.style.RegularShape",Fs),Fs.prototype.clone=Fs.prototype.clone,Fs.prototype.getAnchor=Fs.prototype.Jc,Fs.prototype.getAngle=Fs.prototype.Ji,Fs.prototype.getFill=Fs.prototype.Ca,Fs.prototype.getImage=Fs.prototype.Y,Fs.prototype.getOrigin=Fs.prototype.Tc,Fs.prototype.getPoints=Fs.prototype.Ki,Fs.prototype.getRadius=Fs.prototype.Li,Fs.prototype.getRadius2=Fs.prototype.yh,Fs.prototype.getSize=Fs.prototype.kc,Fs.prototype.getStroke=Fs.prototype.Da,t("ol.style.Stroke",Ta),Ta.prototype.clone=Ta.prototype.clone,Ta.prototype.getColor=Ta.prototype.Do,Ta.prototype.getLineCap=Ta.prototype.Qk,Ta.prototype.getLineDash=Ta.prototype.Eo,Ta.prototype.getLineDashOffset=Ta.prototype.Rk,Ta.prototype.getLineJoin=Ta.prototype.Sk,Ta.prototype.getMiterLimit=Ta.prototype.Xk,Ta.prototype.getWidth=Ta.prototype.Fo,Ta.prototype.setColor=Ta.prototype.Go,Ta.prototype.setLineCap=Ta.prototype.Rp,Ta.prototype.setLineDash=Ta.prototype.setLineDash,Ta.prototype.setLineDashOffset=Ta.prototype.Sp,Ta.prototype.setLineJoin=Ta.prototype.Tp,Ta.prototype.setMiterLimit=Ta.prototype.Wp,Ta.prototype.setWidth=Ta.prototype.Zp,t("ol.style.Style",Xs),Xs.prototype.clone=Xs.prototype.clone,Xs.prototype.getGeometry=Xs.prototype.U,Xs.prototype.getGeometryFunction=Xs.prototype.Lk,Xs.prototype.getFill=Xs.prototype.Ca,Xs.prototype.setFill=Xs.prototype.mf,Xs.prototype.getImage=Xs.prototype.Y,Xs.prototype.setImage=Xs.prototype.Hg,Xs.prototype.getStroke=Xs.prototype.Da,Xs.prototype.setStroke=Xs.prototype.nf,Xs.prototype.getText=Xs.prototype.Oa,Xs.prototype.setText=Xs.prototype.pf,Xs.prototype.getZIndex=Xs.prototype.Aa,Xs.prototype.setGeometry=Xs.prototype.Ta,Xs.prototype.setZIndex=Xs.prototype.Xb,t("ol.style.Text",np),np.prototype.clone=np.prototype.clone,np.prototype.getFont=np.prototype.Jk,np.prototype.getOffsetX=np.prototype.Yk,np.prototype.getOffsetY=np.prototype.Zk,np.prototype.getFill=np.prototype.Ca,np.prototype.getRotateWithView=np.prototype.Ho,np.prototype.getRotation=np.prototype.Io,np.prototype.getScale=np.prototype.Jo,np.prototype.getStroke=np.prototype.Da,np.prototype.getText=np.prototype.Oa,np.prototype.getTextAlign=np.prototype.il,np.prototype.getTextBaseline=np.prototype.jl,np.prototype.setFont=np.prototype.ij,np.prototype.setOffsetX=np.prototype.oj,np.prototype.setOffsetY=np.prototype.pj,np.prototype.setFill=np.prototype.mf,np.prototype.setRotation=np.prototype.Ko,np.prototype.setScale=np.prototype.Mi,np.prototype.setStroke=np.prototype.nf,np.prototype.setText=np.prototype.pf,np.prototype.setTextAlign=np.prototype.rj,np.prototype.setTextBaseline=np.prototype.Xp,t("ol.source.BingMaps",uy),t("ol.source.BingMaps.TOS_ATTRIBUTION",Zx),uy.prototype.getApiKey=uy.prototype.T,uy.prototype.getImagerySet=uy.prototype.ea,t("ol.source.CartoDB",py),py.prototype.getConfig=py.prototype.Gk,py.prototype.updateConfig=py.prototype.iq,py.prototype.setConfig=py.prototype.Np,t("ol.source.Cluster",fy),fy.prototype.getDistance=fy.prototype.Qn,fy.prototype.getSource=fy.prototype.Rn,fy.prototype.setDistance=fy.prototype.Op,t("ol.source.Image",wd),Cd.prototype.image=Cd.prototype.image,t("ol.source.ImageArcGISRest",gy),gy.prototype.getParams=gy.prototype.Tn,gy.prototype.getImageLoadFunction=gy.prototype.Sn,gy.prototype.getUrl=gy.prototype.Un,gy.prototype.setImageLoadFunction=gy.prototype.Vn,gy.prototype.setUrl=gy.prototype.Wn,gy.prototype.updateParams=gy.prototype.Xn,t("ol.source.ImageCanvas",Md),t("ol.source.ImageMapGuide",my),my.prototype.getParams=my.prototype.Zn,my.prototype.getImageLoadFunction=my.prototype.Yn,my.prototype.updateParams=my.prototype.ao,my.prototype.setImageLoadFunction=my.prototype.$n,t("ol.source.ImageStatic",by),t("ol.source.ImageVector",Td),Td.prototype.getSource=Td.prototype.bo,Td.prototype.getStyle=Td.prototype.co,Td.prototype.getStyleFunction=Td.prototype.eo,Td.prototype.setStyle=Td.prototype.Bi,t("ol.source.ImageWMS",_y),_y.prototype.getGetFeatureInfoUrl=_y.prototype.io,_y.prototype.getParams=_y.prototype.ko,_y.prototype.getImageLoadFunction=_y.prototype.jo,_y.prototype.getUrl=_y.prototype.lo,_y.prototype.setImageLoadFunction=_y.prototype.mo,_y.prototype.setUrl=_y.prototype.no,_y.prototype.updateParams=_y.prototype.oo,t("ol.source.OSM",Py),t("ol.source.OSM.ATTRIBUTION",Qx),t("ol.source.Raster",Sy),Sy.prototype.setOperation=Sy.prototype.u,Ty.prototype.extent=Ty.prototype.extent,Ty.prototype.resolution=Ty.prototype.resolution,Ty.prototype.data=Ty.prototype.data,t("ol.source.Source",Zc),Zc.prototype.getAttributions=Zc.prototype.xa,Zc.prototype.getLogo=Zc.prototype.wa,Zc.prototype.getProjection=Zc.prototype.ya,Zc.prototype.getState=Zc.prototype.V,Zc.prototype.refresh=Zc.prototype.va,Zc.prototype.setAttributions=Zc.prototype.ua,t("ol.source.Stamen",Ay),t("ol.source.Tile",Jd),Jd.prototype.getTileGrid=Jd.prototype.ab,ny.prototype.tile=ny.prototype.tile,t("ol.source.TileArcGISRest",Ey),Ey.prototype.getParams=Ey.prototype.v;Ey.prototype.updateParams=Ey.prototype.A;t("ol.source.TileDebug",Iy),t("ol.source.TileImage",iy),iy.prototype.setRenderReprojectionEdges=iy.prototype.Ob,iy.prototype.setTileGridForProjection=iy.prototype.Pb,t("ol.source.TileJSON",Oy),Oy.prototype.getTileJSON=Oy.prototype.kl,t("ol.source.TileUTFGrid",ky),ky.prototype.getTemplate=ky.prototype.hl,ky.prototype.forDataAtCoordinateAndResolution=ky.prototype.vk,t("ol.source.TileWMS",jy),jy.prototype.getGetFeatureInfoUrl=jy.prototype.vo,jy.prototype.getParams=jy.prototype.wo,jy.prototype.updateParams=jy.prototype.xo,oy.prototype.getTileLoadFunction=oy.prototype.ob,oy.prototype.getTileUrlFunction=oy.prototype.qb,oy.prototype.getUrls=oy.prototype.rb,oy.prototype.setTileLoadFunction=oy.prototype.wb,oy.prototype.setTileUrlFunction=oy.prototype.bb,oy.prototype.setUrl=oy.prototype.ib,oy.prototype.setUrls=oy.prototype.cb,t("ol.source.Vector",tf),tf.prototype.addFeature=tf.prototype.zb,tf.prototype.addFeatures=tf.prototype.gd,tf.prototype.clear=tf.prototype.clear,tf.prototype.forEachFeature=tf.prototype.kh,tf.prototype.forEachFeatureInExtent=tf.prototype.bc,tf.prototype.forEachFeatureIntersectingExtent=tf.prototype.lh,tf.prototype.getFeaturesCollection=tf.prototype.th,tf.prototype.getFeatures=tf.prototype.We,tf.prototype.getFeaturesAtCoordinate=tf.prototype.sh,tf.prototype.getFeaturesInExtent=tf.prototype.Pf,tf.prototype.getClosestFeatureToCoordinate=tf.prototype.oh,tf.prototype.getExtent=tf.prototype.D,tf.prototype.getFeatureById=tf.prototype.rh,tf.prototype.getFormat=tf.prototype.Gi,tf.prototype.getUrl=tf.prototype.Hi,tf.prototype.removeFeature=tf.prototype.Db,uf.prototype.feature=uf.prototype.feature,t("ol.source.VectorTile",Wy),t("ol.source.WMTS",qy),qy.prototype.getDimensions=qy.prototype.Ik,qy.prototype.getFormat=qy.prototype.yo,qy.prototype.getLayer=qy.prototype.zo,qy.prototype.getMatrixSet=qy.prototype.Vk,qy.prototype.getRequestEncoding=qy.prototype.fl,qy.prototype.getStyle=qy.prototype.Ao,qy.prototype.getVersion=qy.prototype.ml,qy.prototype.updateDimensions=qy.prototype.jq,t("ol.source.WMTS.optionsFromCapabilities",function(t,e){var n=s(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===n)return null;var o,r,a,u=t.Contents.TileMatrixSet;o=1<n.TileMatrixSetLink.length?"projection"in e?p(n.TileMatrixSetLink,function(t){var n=s(u,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),o=Tt(n),i=Tt(e.projection);return o&&i?At(o,i):n==e.projection}):p(n.TileMatrixSetLink,function(t){return t.TileMatrixSet==e.matrixSet}):0,0>o&&(o=0),r=n.TileMatrixSetLink[o].TileMatrixSet,a=n.TileMatrixSetLink[o].TileMatrixSetLimits;var h=n.Format[0];"format"in e&&(h=e.format),o=p(n.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}),0>o&&(o=0),o=n.Style[o].Identifier;var l={};"Dimension"in n&&n.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),l[e]=n});var c,f=s(t.Contents.TileMatrixSet,function(t){return t.Identifier==r});c=Tt("projection"in e?e.projection:f.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var d,y,v=n.WGS84BoundingBox;void 0!==v&&(y=Tt("EPSG:4326").D(),y=v[0]==y[0]&&v[2]==y[2],d=kt(v,"EPSG:4326",c),(v=c.D())&&(D(v,d)||(d=void 0))),a=Hy(f,d,a);var g=[],f=e.requestEncoding,f=void 0!==f?f:"";if("OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){d=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(var v=0,m=d.length;v<m;++v){var b=s(d[v].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===f&&(f=b[0]),"KVP"!==f)break;i(b,"KVP")&&g.push(d[v].href)}}return g.length||(f="REST",n.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(h=t.format,g.push(t.template))})),{urls:g,layer:e.layer,matrixSet:r,format:h,projection:c,requestEncoding:f,tileGrid:a,style:o,dimensions:l,wrapX:y,crossOrigin:e.crossOrigin}}),t("ol.source.XYZ",hy),t("ol.source.Zoomify",$y),Cr.prototype.vectorContext=Cr.prototype.vectorContext,Cr.prototype.frameState=Cr.prototype.frameState,Cr.prototype.context=Cr.prototype.context,Cr.prototype.glContext=Cr.prototype.glContext,Fp.prototype.get=Fp.prototype.get,Fp.prototype.getExtent=Fp.prototype.D,Fp.prototype.getGeometry=Fp.prototype.U,Fp.prototype.getProperties=Fp.prototype.Nn,Fp.prototype.getType=Fp.prototype.S,t("ol.render.VectorContext",Tr),ps.prototype.setStyle=ps.prototype.td,ps.prototype.drawGeometry=ps.prototype.oc,ps.prototype.drawFeature=ps.prototype.te,Ar.prototype.drawCircle=Ar.prototype.ac,Ar.prototype.setStyle=Ar.prototype.td,Ar.prototype.drawGeometry=Ar.prototype.oc,Ar.prototype.drawFeature=Ar.prototype.te,t("ol.proj.common.add",Rt),t("ol.proj.Projection",ct),ct.prototype.getCode=ct.prototype.Fk,ct.prototype.getExtent=ct.prototype.D,ct.prototype.getUnits=ct.prototype.Kb,ct.prototype.getMetersPerUnit=ct.prototype.uc,ct.prototype.getWorldExtent=ct.prototype.ol,ct.prototype.isGlobal=ct.prototype.Zl,ct.prototype.setGlobal=ct.prototype.Qp,ct.prototype.setExtent=ct.prototype.Mn,ct.prototype.setWorldExtent=ct.prototype.$p,ct.prototype.setGetPointResolution=ct.prototype.Pp,t("ol.proj.Units.METERS_PER_UNIT",lv),t("ol.layer.Base",nr),nr.prototype.getExtent=nr.prototype.D,nr.prototype.getMaxResolution=nr.prototype.hc,nr.prototype.getMinResolution=nr.prototype.ic,nr.prototype.getOpacity=nr.prototype.jc,nr.prototype.getVisible=nr.prototype.Lb,nr.prototype.getZIndex=nr.prototype.Aa,nr.prototype.setExtent=nr.prototype.xc,nr.prototype.setMaxResolution=nr.prototype.Cc,nr.prototype.setMinResolution=nr.prototype.Dc,nr.prototype.setOpacity=nr.prototype.yc,nr.prototype.setVisible=nr.prototype.zc,nr.prototype.setZIndex=nr.prototype.Xb,t("ol.layer.Group",ir),ir.prototype.getLayers=ir.prototype.sd,ir.prototype.setLayers=ir.prototype.pi,t("ol.layer.Heatmap",cd),cd.prototype.getBlur=cd.prototype.nh,cd.prototype.getGradient=cd.prototype.uh,cd.prototype.getRadius=cd.prototype.ri,cd.prototype.setBlur=cd.prototype.ej,cd.prototype.setGradient=cd.prototype.kj,cd.prototype.setRadius=cd.prototype.Zc,t("ol.layer.Image",Nd),Nd.prototype.getSource=Nd.prototype.ka,t("ol.layer.Layer",rr),rr.prototype.getSource=rr.prototype.ka,rr.prototype.setMap=rr.prototype.setMap,rr.prototype.setSource=rr.prototype.ad,t("ol.layer.Tile",Kd),Kd.prototype.getPreload=Kd.prototype.Sd,Kd.prototype.getSource=Kd.prototype.ka,Kd.prototype.setPreload=Kd.prototype.si,Kd.prototype.getUseInterimTilesOnError=Kd.prototype.Wd,Kd.prototype.setUseInterimTilesOnError=Kd.prototype.ti,t("ol.layer.Vector",Vc),Vc.prototype.getSource=Vc.prototype.ka,Vc.prototype.getStyle=Vc.prototype.C,Vc.prototype.getStyleFunction=Vc.prototype.G,Vc.prototype.setStyle=Vc.prototype.f,t("ol.layer.VectorTile",Ud),Ud.prototype.getPreload=Ud.prototype.Sd,Ud.prototype.getUseInterimTilesOnError=Ud.prototype.Wd,Ud.prototype.setPreload=Ud.prototype.ui,Ud.prototype.setUseInterimTilesOnError=Ud.prototype.vi,t("ol.interaction.DoubleClickZoom",hi),t("ol.interaction.DoubleClickZoom.handleEvent",pi),t("ol.interaction.DragAndDrop",Jl),t("ol.interaction.DragAndDrop.handleEvent",eo),ec.prototype.features=ec.prototype.features,ec.prototype.file=ec.prototype.file,ec.prototype.projection=ec.prototype.projection,t("ol.interaction.DragBox",ki),ki.prototype.getGeometry=ki.prototype.U,Ki.prototype.coordinate=Ki.prototype.coordinate,Ki.prototype.mapBrowserEvent=Ki.prototype.mapBrowserEvent,t("ol.interaction.DragPan",Pi),t("ol.interaction.DragRotate",Ti),t("ol.interaction.DragRotateAndZoom",nc),t("ol.interaction.DragZoom",Bi),t("ol.interaction.Draw",hf),t("ol.interaction.Draw.handleEvent",lf),hf.prototype.removeLastPoint=hf.prototype.Ep,hf.prototype.finishDrawing=hf.prototype.Qd,hf.prototype.extend=hf.prototype.nn,t("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(n,o){var i=n[0],r=n[1],a=Math.sqrt(Zn(i,r)),s=o?o:Yo(new Fl(i),t);return Go(s,i,a,e?e:Math.atan((r[1]-i[1])/(r[0]-i[0]))),s}}),t("ol.interaction.Draw.createBox",function(){return function(t,e){var n=I(t),o=e||new Ko(null);return o.pa([[V(n),$(n),nt(n),et(n),V(n)]]),o}}),xf.prototype.feature=xf.prototype.feature,t("ol.interaction.Extent",wf),wf.prototype.getExtent=wf.prototype.D,wf.prototype.setExtent=wf.prototype.f,Of.prototype.extent_=Of.prototype.b,t("ol.interaction.Interaction",ri),ri.prototype.getActive=ri.prototype.c,ri.prototype.getMap=ri.prototype.i,ri.prototype.setActive=ri.prototype.Ia,t("ol.interaction.KeyboardPan",Xi),t("ol.interaction.KeyboardPan.handleEvent",Ui),t("ol.interaction.KeyboardZoom",Yi),t("ol.interaction.KeyboardZoom.handleEvent",Gi),t("ol.interaction.Modify",kf),t("ol.interaction.Modify.handleEvent",Yf),kf.prototype.removePoint=kf.prototype.cj,Vf.prototype.features=Vf.prototype.features,Vf.prototype.mapBrowserEvent=Vf.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",Wi),t("ol.interaction.MouseWheelZoom.handleEvent",zi),Wi.prototype.setMouseAnchor=Wi.prototype.T,t("ol.interaction.PinchRotate",Hi),t("ol.interaction.PinchZoom",Zi),t("ol.interaction.Pointer",_i),t("ol.interaction.Pointer.handleEvent",wi),t("ol.interaction.Select",$f),$f.prototype.getFeatures=$f.prototype.zn,$f.prototype.getHitTolerance=$f.prototype.An,$f.prototype.getLayer=$f.prototype.Bn,t("ol.interaction.Select.handleEvent",Zf),$f.prototype.setHitTolerance=$f.prototype.Dn,$f.prototype.setMap=$f.prototype.setMap,Qf.prototype.selected=Qf.prototype.selected,Qf.prototype.deselected=Qf.prototype.deselected,Qf.prototype.mapBrowserEvent=Qf.prototype.mapBrowserEvent,t("ol.interaction.Snap",td),td.prototype.addFeature=td.prototype.zb,td.prototype.removeFeature=td.prototype.Db,t("ol.interaction.Translate",id),id.prototype.getHitTolerance=id.prototype.I,id.prototype.setHitTolerance=id.prototype.Z,ld.prototype.features=ld.prototype.features,ld.prototype.coordinate=ld.prototype.coordinate,t("ol.geom.Circle",Fl),Fl.prototype.clone=Fl.prototype.clone,Fl.prototype.getCenter=Fl.prototype.za,Fl.prototype.getRadius=Fl.prototype.Yd,Fl.prototype.getType=Fl.prototype.S,Fl.prototype.intersectsExtent=Fl.prototype.Ya,Fl.prototype.setCenter=Fl.prototype.lb,Fl.prototype.setCenterAndRadius=Fl.prototype.Gg,Fl.prototype.setRadius=Fl.prototype.Zc;Fl.prototype.transform=Fl.prototype.tb;t("ol.geom.Geometry",oo),oo.prototype.getClosestPoint=oo.prototype.Ab,oo.prototype.intersectsCoordinate=oo.prototype.sb,oo.prototype.getExtent=oo.prototype.D,oo.prototype.rotate=oo.prototype.rotate,oo.prototype.scale=oo.prototype.scale,oo.prototype.simplify=oo.prototype.Qb,oo.prototype.transform=oo.prototype.tb,t("ol.geom.GeometryCollection",hh),hh.prototype.clone=hh.prototype.clone,hh.prototype.getGeometries=hh.prototype.Qf,hh.prototype.getType=hh.prototype.S,hh.prototype.intersectsExtent=hh.prototype.Ya,hh.prototype.setGeometries=hh.prototype.jj,hh.prototype.applyTransform=hh.prototype.Fc,hh.prototype.translate=hh.prototype.translate,t("ol.geom.LinearRing",Co),Co.prototype.clone=Co.prototype.clone,Co.prototype.getArea=Co.prototype.jn,Co.prototype.getCoordinates=Co.prototype.W,Co.prototype.getType=Co.prototype.S,Co.prototype.setCoordinates=Co.prototype.pa,t("ol.geom.LineString",Cu),Cu.prototype.appendCoordinate=Cu.prototype.ik,Cu.prototype.clone=Cu.prototype.clone,Cu.prototype.forEachSegment=Cu.prototype.yk,Cu.prototype.getCoordinateAtM=Cu.prototype.gn,Cu.prototype.getCoordinates=Cu.prototype.W,Cu.prototype.getCoordinateAt=Cu.prototype.ph,Cu.prototype.getLength=Cu.prototype.hn,Cu.prototype.getType=Cu.prototype.S,Cu.prototype.intersectsExtent=Cu.prototype.Ya,
Cu.prototype.setCoordinates=Cu.prototype.pa,t("ol.geom.MultiLineString",Tu),Tu.prototype.appendLineString=Tu.prototype.jk,Tu.prototype.clone=Tu.prototype.clone,Tu.prototype.getCoordinateAtM=Tu.prototype.kn,Tu.prototype.getCoordinates=Tu.prototype.W,Tu.prototype.getLineString=Tu.prototype.Tk,Tu.prototype.getLineStrings=Tu.prototype.Nc,Tu.prototype.getType=Tu.prototype.S,Tu.prototype.intersectsExtent=Tu.prototype.Ya,Tu.prototype.setCoordinates=Tu.prototype.pa,t("ol.geom.MultiPoint",Lu),Lu.prototype.appendPoint=Lu.prototype.lk,Lu.prototype.clone=Lu.prototype.clone,Lu.prototype.getCoordinates=Lu.prototype.W,Lu.prototype.getPoint=Lu.prototype.dl,Lu.prototype.getPoints=Lu.prototype.Zd,Lu.prototype.getType=Lu.prototype.S,Lu.prototype.intersectsExtent=Lu.prototype.Ya,Lu.prototype.setCoordinates=Lu.prototype.pa,t("ol.geom.MultiPolygon",Iu),Iu.prototype.appendPolygon=Iu.prototype.mk,Iu.prototype.clone=Iu.prototype.clone,Iu.prototype.getArea=Iu.prototype.ln,Iu.prototype.getCoordinates=Iu.prototype.W,Iu.prototype.getInteriorPoints=Iu.prototype.Pk,Iu.prototype.getPolygon=Iu.prototype.el,Iu.prototype.getPolygons=Iu.prototype.md,Iu.prototype.getType=Iu.prototype.S,Iu.prototype.intersectsExtent=Iu.prototype.Ya,Iu.prototype.setCoordinates=Iu.prototype.pa,t("ol.geom.Point",To),To.prototype.clone=To.prototype.clone,To.prototype.getCoordinates=To.prototype.W,To.prototype.getType=To.prototype.S,To.prototype.intersectsExtent=To.prototype.Ya,To.prototype.setCoordinates=To.prototype.pa,t("ol.geom.Polygon",Ko),Ko.prototype.appendLinearRing=Ko.prototype.kk,Ko.prototype.clone=Ko.prototype.clone,Ko.prototype.getArea=Ko.prototype.mn,Ko.prototype.getCoordinates=Ko.prototype.W,Ko.prototype.getInteriorPoint=Ko.prototype.Ok,Ko.prototype.getLinearRingCount=Ko.prototype.Uk,Ko.prototype.getLinearRing=Ko.prototype.vh,Ko.prototype.getLinearRings=Ko.prototype.Oc,Ko.prototype.getType=Ko.prototype.S,Ko.prototype.intersectsExtent=Ko.prototype.Ya,Ko.prototype.setCoordinates=Ko.prototype.pa,t("ol.geom.Polygon.circular",Xo),t("ol.geom.Polygon.fromExtent",Uo),t("ol.geom.Polygon.fromCircle",Yo),t("ol.geom.SimpleGeometry",ao),ao.prototype.getFirstCoordinate=ao.prototype.cc,ao.prototype.getLastCoordinate=ao.prototype.dc,ao.prototype.getLayout=ao.prototype.ec,ao.prototype.applyTransform=ao.prototype.Fc,ao.prototype.translate=ao.prototype.translate,t("ol.format.EsriJSON",Du),Du.prototype.readFeature=Du.prototype.Vb,Du.prototype.readFeatures=Du.prototype.Pa,Du.prototype.readGeometry=Du.prototype.Xc,Du.prototype.readProjection=Du.prototype.jb,Du.prototype.writeGeometry=Du.prototype.ed,Du.prototype.writeGeometryObject=Du.prototype.ie,Du.prototype.writeFeature=Du.prototype.Dd,Du.prototype.writeFeatureObject=Du.prototype.dd,Du.prototype.writeFeatures=Du.prototype.Yb,Du.prototype.writeFeaturesObject=Du.prototype.ge,t("ol.format.Feature",vu),t("ol.format.filter.and",sh),t("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(rh,e))}),t("ol.format.filter.not",function(t){return new oh(t)}),t("ol.format.filter.bbox",uh),t("ol.format.filter.intersects",function(t,e,n){return new Zu(t,e,n)}),t("ol.format.filter.within",function(t,e,n){return new ah(t,e,n)}),t("ol.format.filter.equalTo",function(t,e,n){return new Hu(t,e,n)}),t("ol.format.filter.notEqualTo",function(t,e,n){return new ih(t,e,n)}),t("ol.format.filter.lessThan",function(t,e){return new eh(t,e)}),t("ol.format.filter.lessThanOrEqualTo",function(t,e){return new nh(t,e)}),t("ol.format.filter.greaterThan",function(t,e){return new qu(t,e)}),t("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Vu(t,e)}),t("ol.format.filter.isNull",function(t){return new th(t)}),t("ol.format.filter.between",function(t,e,n){return new Ju(t,e,n)}),t("ol.format.filter.like",function(t,e,n,o,i,r){return new Qu(t,e,n,o,i,r)}),t("ol.format.GeoJSON",fh),fh.prototype.readFeature=fh.prototype.Vb,fh.prototype.readFeatures=fh.prototype.Pa,fh.prototype.readGeometry=fh.prototype.Xc,fh.prototype.readProjection=fh.prototype.jb,fh.prototype.writeFeature=fh.prototype.Dd,fh.prototype.writeFeatureObject=fh.prototype.dd,fh.prototype.writeFeatures=fh.prototype.Yb,fh.prototype.writeFeaturesObject=fh.prototype.ge,fh.prototype.writeGeometry=fh.prototype.ed,fh.prototype.writeGeometryObject=fh.prototype.ie,t("ol.format.GML",Nh),Nh.prototype.writeFeatures=Nh.prototype.Yb,Nh.prototype.writeFeaturesNode=Nh.prototype.Zb,t("ol.format.GML2",kh),t("ol.format.GML3",Nh),Nh.prototype.writeGeometryNode=Nh.prototype.he,Nh.prototype.writeFeatures=Nh.prototype.Yb,Nh.prototype.writeFeaturesNode=Nh.prototype.Zb,bh.prototype.readFeatures=bh.prototype.Pa,t("ol.format.GPX",jh),jh.prototype.readFeature=jh.prototype.Vb,jh.prototype.readFeatures=jh.prototype.Pa,jh.prototype.readProjection=jh.prototype.jb,jh.prototype.writeFeatures=jh.prototype.Yb,jh.prototype.writeFeaturesNode=jh.prototype.Zb,t("ol.format.IGC",Jh),Jh.prototype.readFeature=Jh.prototype.Vb,Jh.prototype.readFeatures=Jh.prototype.Pa,Jh.prototype.readProjection=Jh.prototype.jb,t("ol.format.KML",op),op.prototype.readFeature=op.prototype.Vb,op.prototype.readFeatures=op.prototype.Pa,op.prototype.readName=op.prototype.sp,op.prototype.readNetworkLinks=op.prototype.tp,op.prototype.readRegion=op.prototype.wp,op.prototype.readRegionFromNode=op.prototype.jf,op.prototype.readProjection=op.prototype.jb,op.prototype.writeFeatures=op.prototype.Yb,op.prototype.writeFeaturesNode=op.prototype.Zb,t("ol.format.MVT",jp),jp.prototype.readFeatures=jp.prototype.Pa,jp.prototype.readProjection=jp.prototype.jb,jp.prototype.setLayers=jp.prototype.fn,t("ol.format.OSMXML",Bp),Bp.prototype.readFeatures=Bp.prototype.Pa,Bp.prototype.readProjection=Bp.prototype.jb,t("ol.format.Polyline",zp),t("ol.format.Polyline.encodeDeltas",Hp),t("ol.format.Polyline.decodeDeltas",qp),t("ol.format.Polyline.encodeFloats",Vp),t("ol.format.Polyline.decodeFloats",$p),zp.prototype.readFeature=zp.prototype.Vb,zp.prototype.readFeatures=zp.prototype.Pa,zp.prototype.readGeometry=zp.prototype.Xc,zp.prototype.readProjection=zp.prototype.jb,zp.prototype.writeGeometry=zp.prototype.ed,t("ol.format.TopoJSON",Zp),Zp.prototype.readFeatures=Zp.prototype.Pa,Zp.prototype.readProjection=Zp.prototype.jb,t("ol.format.WFS",nl),nl.prototype.readFeatures=nl.prototype.Pa,nl.prototype.readTransactionResponse=nl.prototype.j,nl.prototype.readFeatureCollectionMetadata=nl.prototype.f,t("ol.format.WFS.writeFilter",function(t){var e=qs("http://www.opengis.net/ogc","Filter");return fu({node:e},G_,su(t.mc),[t],[]),e}),nl.prototype.writeGetFeature=nl.prototype.o,nl.prototype.writeTransaction=nl.prototype.u,nl.prototype.readProjection=nl.prototype.jb,t("ol.format.WKT",cl),cl.prototype.readFeature=cl.prototype.Vb,cl.prototype.readFeatures=cl.prototype.Pa,cl.prototype.readGeometry=cl.prototype.Xc,cl.prototype.writeFeature=cl.prototype.Dd,cl.prototype.writeFeatures=cl.prototype.Yb,cl.prototype.writeGeometry=cl.prototype.ed,t("ol.format.WMSCapabilities",Al),Al.prototype.read=Al.prototype.read,t("ol.format.WMSGetFeatureInfo",Ol),Ol.prototype.readFeatures=Ol.prototype.Pa,t("ol.format.WMTSCapabilities",kl),kl.prototype.read=kl.prototype.read,t("ol.format.filter.And",Yu),t("ol.format.filter.Bbox",Gu);t("ol.format.filter.Comparison",Wu);t("ol.format.filter.ComparisonBinary",zu),t("ol.format.filter.EqualTo",Hu),t("ol.format.filter.Filter",Xu),t("ol.format.filter.GreaterThan",qu),t("ol.format.filter.GreaterThanOrEqualTo",Vu),t("ol.format.filter.Intersects",Zu),t("ol.format.filter.IsBetween",Ju),t("ol.format.filter.IsLike",Qu),t("ol.format.filter.IsNull",th),t("ol.format.filter.LessThan",eh),t("ol.format.filter.LessThanOrEqualTo",nh),t("ol.format.filter.Not",oh),t("ol.format.filter.NotEqualTo",ih),t("ol.format.filter.Or",rh),t("ol.format.filter.Spatial",$u),t("ol.format.filter.Within",ah),t("ol.events.condition.altKeyOnly",function(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.altShiftKeysOnly",li),t("ol.events.condition.always",eo),t("ol.events.condition.click",function(t){return"click"==t.type}),t("ol.events.condition.never",no),t("ol.events.condition.pointerMove",fi),t("ol.events.condition.singleClick",di),t("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),t("ol.events.condition.noModifierKeys",yi),t("ol.events.condition.platformModifierKeyOnly",function(t){return t=t.originalEvent,!t.altKey&&(Bv?t.metaKey:t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.shiftKeyOnly",vi),t("ol.events.condition.targetNotEditable",gi),t("ol.events.condition.mouseOnly",mi),t("ol.events.condition.primaryAction",bi),le.prototype.type=le.prototype.type,le.prototype.target=le.prototype.target,le.prototype.preventDefault=le.prototype.preventDefault,le.prototype.stopPropagation=le.prototype.stopPropagation,t("ol.control.Attribution",Oe),t("ol.control.Attribution.render",ke),Oe.prototype.getCollapsible=Oe.prototype.Om,Oe.prototype.setCollapsible=Oe.prototype.Rm,Oe.prototype.setCollapsed=Oe.prototype.Qm,Oe.prototype.getCollapsed=Oe.prototype.Nm,t("ol.control.Control",Ne),Ne.prototype.getMap=Ne.prototype.f,Ne.prototype.setMap=Ne.prototype.setMap,Ne.prototype.setTarget=Ne.prototype.i,t("ol.control.FullScreen",Ge),t("ol.control.MousePosition",qe),t("ol.control.MousePosition.render",Ve),qe.prototype.getCoordinateFormat=qe.prototype.qh,qe.prototype.getProjection=qe.prototype.Sh,qe.prototype.setCoordinateFormat=qe.prototype.fj,qe.prototype.setProjection=qe.prototype.Th,t("ol.control.OverviewMap",ws),t("ol.control.OverviewMap.render",Ps),ws.prototype.getCollapsible=ws.prototype.Um,ws.prototype.setCollapsible=ws.prototype.Xm,ws.prototype.setCollapsed=ws.prototype.Wm,ws.prototype.getCollapsed=ws.prototype.Tm,ws.prototype.getOverviewMap=ws.prototype.bl,t("ol.control.Rotate",Be),t("ol.control.Rotate.render",Xe),t("ol.control.ScaleLine",Ts),Ts.prototype.getUnits=Ts.prototype.Kb,t("ol.control.ScaleLine.render",As),Ts.prototype.setUnits=Ts.prototype.G,t("ol.control.Zoom",Ue),t("ol.control.ZoomSlider",Ls),t("ol.control.ZoomSlider.render",Is),t("ol.control.ZoomToExtent",ks),ve.prototype.changed=ve.prototype.s,ve.prototype.dispatchEvent=ve.prototype.b,ve.prototype.getRevision=ve.prototype.L,ve.prototype.on=ve.prototype.J,ve.prototype.once=ve.prototype.once,ve.prototype.un=ve.prototype.K,_e.prototype.get=_e.prototype.get,_e.prototype.getKeys=_e.prototype.P,_e.prototype.getProperties=_e.prototype.M,_e.prototype.set=_e.prototype.set,_e.prototype.setProperties=_e.prototype.H,_e.prototype.unset=_e.prototype.R,_e.prototype.changed=_e.prototype.s,_e.prototype.dispatchEvent=_e.prototype.b,_e.prototype.getRevision=_e.prototype.L,_e.prototype.on=_e.prototype.J,_e.prototype.once=_e.prototype.once,_e.prototype.un=_e.prototype.K,Pe.prototype.type=Pe.prototype.type,Pe.prototype.target=Pe.prototype.target,Pe.prototype.preventDefault=Pe.prototype.preventDefault,Pe.prototype.stopPropagation=Pe.prototype.stopPropagation,Rs.prototype.get=Rs.prototype.get,Rs.prototype.getKeys=Rs.prototype.P,Rs.prototype.getProperties=Rs.prototype.M,Rs.prototype.set=Rs.prototype.set,Rs.prototype.setProperties=Rs.prototype.H,Rs.prototype.unset=Rs.prototype.R,Rs.prototype.changed=Rs.prototype.s,Rs.prototype.dispatchEvent=Rs.prototype.b,Rs.prototype.getRevision=Rs.prototype.L,Rs.prototype.on=Rs.prototype.J,Rs.prototype.once=Rs.prototype.once,Rs.prototype.un=Rs.prototype.K,zs.prototype.get=zs.prototype.get,zs.prototype.getKeys=zs.prototype.P,zs.prototype.getProperties=zs.prototype.M,zs.prototype.set=zs.prototype.set,zs.prototype.setProperties=zs.prototype.H,zs.prototype.unset=zs.prototype.R,zs.prototype.changed=zs.prototype.s,zs.prototype.dispatchEvent=zs.prototype.b,zs.prototype.getRevision=zs.prototype.L,zs.prototype.on=zs.prototype.J,zs.prototype.once=zs.prototype.once,zs.prototype.un=zs.prototype.K,Dl.prototype.get=Dl.prototype.get,Dl.prototype.getKeys=Dl.prototype.P,Dl.prototype.getProperties=Dl.prototype.M,Dl.prototype.set=Dl.prototype.set,Dl.prototype.setProperties=Dl.prototype.H,Dl.prototype.unset=Dl.prototype.R,Dl.prototype.changed=Dl.prototype.s,Dl.prototype.dispatchEvent=Dl.prototype.b,Dl.prototype.getRevision=Dl.prototype.L,Dl.prototype.on=Dl.prototype.J,Dl.prototype.once=Dl.prototype.once,Dl.prototype.un=Dl.prototype.K,$l.prototype.getTileCoord=$l.prototype.i,$l.prototype.load=$l.prototype.load,vs.prototype.get=vs.prototype.get,vs.prototype.getKeys=vs.prototype.P,vs.prototype.getProperties=vs.prototype.M,vs.prototype.set=vs.prototype.set,vs.prototype.setProperties=vs.prototype.H,vs.prototype.unset=vs.prototype.R,vs.prototype.changed=vs.prototype.s,vs.prototype.dispatchEvent=vs.prototype.b,vs.prototype.getRevision=vs.prototype.L,vs.prototype.on=vs.prototype.J,vs.prototype.once=vs.prototype.once,vs.prototype.un=vs.prototype.K,Ze.prototype.type=Ze.prototype.type,Ze.prototype.target=Ze.prototype.target,Ze.prototype.preventDefault=Ze.prototype.preventDefault,Ze.prototype.stopPropagation=Ze.prototype.stopPropagation,Je.prototype.map=Je.prototype.map,Je.prototype.frameState=Je.prototype.frameState,Je.prototype.type=Je.prototype.type,Je.prototype.target=Je.prototype.target,Je.prototype.preventDefault=Je.prototype.preventDefault,Je.prototype.stopPropagation=Je.prototype.stopPropagation,Qe.prototype.originalEvent=Qe.prototype.originalEvent,Qe.prototype.pixel=Qe.prototype.pixel,Qe.prototype.coordinate=Qe.prototype.coordinate,Qe.prototype.dragging=Qe.prototype.dragging,Qe.prototype.preventDefault=Qe.prototype.preventDefault,Qe.prototype.stopPropagation=Qe.prototype.stopPropagation,Qe.prototype.map=Qe.prototype.map,Qe.prototype.frameState=Qe.prototype.frameState,Qe.prototype.type=Qe.prototype.type,Qe.prototype.target=Qe.prototype.target,be.prototype.type=be.prototype.type,be.prototype.target=be.prototype.target,be.prototype.preventDefault=be.prototype.preventDefault,be.prototype.stopPropagation=be.prototype.stopPropagation,ms.prototype.get=ms.prototype.get,ms.prototype.getKeys=ms.prototype.P,ms.prototype.getProperties=ms.prototype.M,ms.prototype.set=ms.prototype.set,ms.prototype.setProperties=ms.prototype.H,ms.prototype.unset=ms.prototype.R,ms.prototype.changed=ms.prototype.s,ms.prototype.dispatchEvent=ms.prototype.b,ms.prototype.getRevision=ms.prototype.L,ms.prototype.on=ms.prototype.J,ms.prototype.once=ms.prototype.once,ms.prototype.un=ms.prototype.K,Yy.prototype.getTileCoord=Yy.prototype.i,Yy.prototype.load=Yy.prototype.load,Wo.prototype.get=Wo.prototype.get,Wo.prototype.getKeys=Wo.prototype.P,Wo.prototype.getProperties=Wo.prototype.M,Wo.prototype.set=Wo.prototype.set,Wo.prototype.setProperties=Wo.prototype.H,Wo.prototype.unset=Wo.prototype.R,Wo.prototype.changed=Wo.prototype.s,Wo.prototype.dispatchEvent=Wo.prototype.b,Wo.prototype.getRevision=Wo.prototype.L,Wo.prototype.on=Wo.prototype.J,Wo.prototype.once=Wo.prototype.once,Wo.prototype.un=Wo.prototype.K,zy.prototype.forEachTileCoord=zy.prototype.mh,zy.prototype.getMaxZoom=zy.prototype.Ni,zy.prototype.getMinZoom=zy.prototype.Oi,zy.prototype.getOrigin=zy.prototype.Uc,zy.prototype.getResolution=zy.prototype.La,zy.prototype.getResolutions=zy.prototype.Pi,zy.prototype.getTileCoordExtent=zy.prototype.Ua,zy.prototype.getTileCoordForCoordAndResolution=zy.prototype.Ae,zy.prototype.getTileCoordForCoordAndZ=zy.prototype.Xf,zy.prototype.getTileSize=zy.prototype.eb;zy.prototype.getZForResolution=zy.prototype.Qc;Fs.prototype.getOpacity=Fs.prototype.Ye,Fs.prototype.getRotateWithView=Fs.prototype.Ze,Fs.prototype.getRotation=Fs.prototype.$e,Fs.prototype.getScale=Fs.prototype.af,Fs.prototype.getSnapToPixel=Fs.prototype.ze,Fs.prototype.setOpacity=Fs.prototype.vd,Fs.prototype.setRotation=Fs.prototype.bf,Fs.prototype.setScale=Fs.prototype.wd,Ks.prototype.clone=Ks.prototype.clone,Ks.prototype.getAngle=Ks.prototype.Ji,Ks.prototype.getFill=Ks.prototype.Ca,Ks.prototype.getPoints=Ks.prototype.Ki,Ks.prototype.getRadius=Ks.prototype.Li,Ks.prototype.getRadius2=Ks.prototype.yh,Ks.prototype.getStroke=Ks.prototype.Da,Ks.prototype.getOpacity=Ks.prototype.Ye,Ks.prototype.getRotateWithView=Ks.prototype.Ze,Ks.prototype.getRotation=Ks.prototype.$e,Ks.prototype.getScale=Ks.prototype.af,Ks.prototype.getSnapToPixel=Ks.prototype.ze,Ks.prototype.setOpacity=Ks.prototype.vd,Ks.prototype.setRotation=Ks.prototype.bf,Ks.prototype.setScale=Ks.prototype.wd,ep.prototype.getOpacity=ep.prototype.Ye,ep.prototype.getRotateWithView=ep.prototype.Ze,ep.prototype.getRotation=ep.prototype.$e,ep.prototype.getScale=ep.prototype.af,ep.prototype.getSnapToPixel=ep.prototype.ze,ep.prototype.setOpacity=ep.prototype.vd,ep.prototype.setRotation=ep.prototype.bf,ep.prototype.setScale=ep.prototype.wd,Zc.prototype.get=Zc.prototype.get,Zc.prototype.getKeys=Zc.prototype.P,Zc.prototype.getProperties=Zc.prototype.M,Zc.prototype.set=Zc.prototype.set,Zc.prototype.setProperties=Zc.prototype.H,Zc.prototype.unset=Zc.prototype.R,Zc.prototype.changed=Zc.prototype.s,Zc.prototype.dispatchEvent=Zc.prototype.b,Zc.prototype.getRevision=Zc.prototype.L,Zc.prototype.on=Zc.prototype.J,Zc.prototype.once=Zc.prototype.once,Zc.prototype.un=Zc.prototype.K,Jd.prototype.getAttributions=Jd.prototype.xa,Jd.prototype.getLogo=Jd.prototype.wa,Jd.prototype.getProjection=Jd.prototype.ya,Jd.prototype.getState=Jd.prototype.V,Jd.prototype.refresh=Jd.prototype.va,Jd.prototype.setAttributions=Jd.prototype.ua,Jd.prototype.get=Jd.prototype.get,Jd.prototype.getKeys=Jd.prototype.P,Jd.prototype.getProperties=Jd.prototype.M,Jd.prototype.set=Jd.prototype.set,Jd.prototype.setProperties=Jd.prototype.H,Jd.prototype.unset=Jd.prototype.R,Jd.prototype.changed=Jd.prototype.s,Jd.prototype.dispatchEvent=Jd.prototype.b,Jd.prototype.getRevision=Jd.prototype.L,Jd.prototype.on=Jd.prototype.J,Jd.prototype.once=Jd.prototype.once,Jd.prototype.un=Jd.prototype.K,oy.prototype.getTileGrid=oy.prototype.ab,oy.prototype.refresh=oy.prototype.va,oy.prototype.getAttributions=oy.prototype.xa,oy.prototype.getLogo=oy.prototype.wa,oy.prototype.getProjection=oy.prototype.ya,oy.prototype.getState=oy.prototype.V,oy.prototype.setAttributions=oy.prototype.ua,oy.prototype.get=oy.prototype.get,oy.prototype.getKeys=oy.prototype.P,oy.prototype.getProperties=oy.prototype.M,oy.prototype.set=oy.prototype.set,oy.prototype.setProperties=oy.prototype.H,oy.prototype.unset=oy.prototype.R,oy.prototype.changed=oy.prototype.s,oy.prototype.dispatchEvent=oy.prototype.b,oy.prototype.getRevision=oy.prototype.L,oy.prototype.on=oy.prototype.J,oy.prototype.once=oy.prototype.once,oy.prototype.un=oy.prototype.K,iy.prototype.getTileLoadFunction=iy.prototype.ob,iy.prototype.getTileUrlFunction=iy.prototype.qb,iy.prototype.getUrls=iy.prototype.rb,iy.prototype.setTileLoadFunction=iy.prototype.wb,iy.prototype.setTileUrlFunction=iy.prototype.bb,iy.prototype.setUrl=iy.prototype.ib,iy.prototype.setUrls=iy.prototype.cb,iy.prototype.getTileGrid=iy.prototype.ab,iy.prototype.refresh=iy.prototype.va,iy.prototype.getAttributions=iy.prototype.xa,iy.prototype.getLogo=iy.prototype.wa,iy.prototype.getProjection=iy.prototype.ya,iy.prototype.getState=iy.prototype.V,iy.prototype.setAttributions=iy.prototype.ua,iy.prototype.get=iy.prototype.get,iy.prototype.getKeys=iy.prototype.P,iy.prototype.getProperties=iy.prototype.M,iy.prototype.set=iy.prototype.set,iy.prototype.setProperties=iy.prototype.H,iy.prototype.unset=iy.prototype.R,iy.prototype.changed=iy.prototype.s,iy.prototype.dispatchEvent=iy.prototype.b,iy.prototype.getRevision=iy.prototype.L,iy.prototype.on=iy.prototype.J,iy.prototype.once=iy.prototype.once,iy.prototype.un=iy.prototype.K,uy.prototype.setRenderReprojectionEdges=uy.prototype.Ob,uy.prototype.setTileGridForProjection=uy.prototype.Pb,uy.prototype.getTileLoadFunction=uy.prototype.ob,uy.prototype.getTileUrlFunction=uy.prototype.qb,uy.prototype.getUrls=uy.prototype.rb,uy.prototype.setTileLoadFunction=uy.prototype.wb,uy.prototype.setTileUrlFunction=uy.prototype.bb,uy.prototype.setUrl=uy.prototype.ib,uy.prototype.setUrls=uy.prototype.cb,uy.prototype.getTileGrid=uy.prototype.ab,uy.prototype.refresh=uy.prototype.va,uy.prototype.getAttributions=uy.prototype.xa,uy.prototype.getLogo=uy.prototype.wa,uy.prototype.getProjection=uy.prototype.ya,uy.prototype.getState=uy.prototype.V,uy.prototype.setAttributions=uy.prototype.ua,uy.prototype.get=uy.prototype.get,uy.prototype.getKeys=uy.prototype.P,uy.prototype.getProperties=uy.prototype.M,uy.prototype.set=uy.prototype.set,uy.prototype.setProperties=uy.prototype.H,uy.prototype.unset=uy.prototype.R,uy.prototype.changed=uy.prototype.s,uy.prototype.dispatchEvent=uy.prototype.b,uy.prototype.getRevision=uy.prototype.L,uy.prototype.on=uy.prototype.J,uy.prototype.once=uy.prototype.once,uy.prototype.un=uy.prototype.K,hy.prototype.setRenderReprojectionEdges=hy.prototype.Ob,hy.prototype.setTileGridForProjection=hy.prototype.Pb,hy.prototype.getTileLoadFunction=hy.prototype.ob,hy.prototype.getTileUrlFunction=hy.prototype.qb,hy.prototype.getUrls=hy.prototype.rb,hy.prototype.setTileLoadFunction=hy.prototype.wb,hy.prototype.setTileUrlFunction=hy.prototype.bb,hy.prototype.setUrl=hy.prototype.ib,hy.prototype.setUrls=hy.prototype.cb,hy.prototype.getTileGrid=hy.prototype.ab,hy.prototype.refresh=hy.prototype.va,hy.prototype.getAttributions=hy.prototype.xa,hy.prototype.getLogo=hy.prototype.wa,hy.prototype.getProjection=hy.prototype.ya,hy.prototype.getState=hy.prototype.V,hy.prototype.setAttributions=hy.prototype.ua,hy.prototype.get=hy.prototype.get,hy.prototype.getKeys=hy.prototype.P,hy.prototype.getProperties=hy.prototype.M,hy.prototype.set=hy.prototype.set,hy.prototype.setProperties=hy.prototype.H,hy.prototype.unset=hy.prototype.R,hy.prototype.changed=hy.prototype.s,hy.prototype.dispatchEvent=hy.prototype.b,hy.prototype.getRevision=hy.prototype.L,hy.prototype.on=hy.prototype.J,hy.prototype.once=hy.prototype.once,hy.prototype.un=hy.prototype.K,py.prototype.setRenderReprojectionEdges=py.prototype.Ob,py.prototype.setTileGridForProjection=py.prototype.Pb,py.prototype.getTileLoadFunction=py.prototype.ob,py.prototype.getTileUrlFunction=py.prototype.qb,py.prototype.getUrls=py.prototype.rb,py.prototype.setTileLoadFunction=py.prototype.wb,py.prototype.setTileUrlFunction=py.prototype.bb,py.prototype.setUrl=py.prototype.ib,py.prototype.setUrls=py.prototype.cb,py.prototype.getTileGrid=py.prototype.ab,py.prototype.refresh=py.prototype.va,py.prototype.getAttributions=py.prototype.xa,py.prototype.getLogo=py.prototype.wa,py.prototype.getProjection=py.prototype.ya,py.prototype.getState=py.prototype.V,py.prototype.setAttributions=py.prototype.ua,py.prototype.get=py.prototype.get,py.prototype.getKeys=py.prototype.P,py.prototype.getProperties=py.prototype.M,py.prototype.set=py.prototype.set,py.prototype.setProperties=py.prototype.H,py.prototype.unset=py.prototype.R,py.prototype.changed=py.prototype.s,py.prototype.dispatchEvent=py.prototype.b,py.prototype.getRevision=py.prototype.L,py.prototype.on=py.prototype.J,py.prototype.once=py.prototype.once,py.prototype.un=py.prototype.K,tf.prototype.getAttributions=tf.prototype.xa,tf.prototype.getLogo=tf.prototype.wa,tf.prototype.getProjection=tf.prototype.ya,tf.prototype.getState=tf.prototype.V,tf.prototype.refresh=tf.prototype.va,tf.prototype.setAttributions=tf.prototype.ua,tf.prototype.get=tf.prototype.get,tf.prototype.getKeys=tf.prototype.P,tf.prototype.getProperties=tf.prototype.M,tf.prototype.set=tf.prototype.set;tf.prototype.setProperties=tf.prototype.H;tf.prototype.unset=tf.prototype.R,tf.prototype.changed=tf.prototype.s,tf.prototype.dispatchEvent=tf.prototype.b,tf.prototype.getRevision=tf.prototype.L,tf.prototype.on=tf.prototype.J,tf.prototype.once=tf.prototype.once,tf.prototype.un=tf.prototype.K,fy.prototype.addFeature=fy.prototype.zb,fy.prototype.addFeatures=fy.prototype.gd,fy.prototype.clear=fy.prototype.clear,fy.prototype.forEachFeature=fy.prototype.kh,fy.prototype.forEachFeatureInExtent=fy.prototype.bc,fy.prototype.forEachFeatureIntersectingExtent=fy.prototype.lh,fy.prototype.getFeaturesCollection=fy.prototype.th,fy.prototype.getFeatures=fy.prototype.We,fy.prototype.getFeaturesAtCoordinate=fy.prototype.sh,fy.prototype.getFeaturesInExtent=fy.prototype.Pf,fy.prototype.getClosestFeatureToCoordinate=fy.prototype.oh,fy.prototype.getExtent=fy.prototype.D,fy.prototype.getFeatureById=fy.prototype.rh,fy.prototype.getFormat=fy.prototype.Gi,fy.prototype.getUrl=fy.prototype.Hi,fy.prototype.removeFeature=fy.prototype.Db,fy.prototype.getAttributions=fy.prototype.xa,fy.prototype.getLogo=fy.prototype.wa,fy.prototype.getProjection=fy.prototype.ya,fy.prototype.getState=fy.prototype.V,fy.prototype.refresh=fy.prototype.va,fy.prototype.setAttributions=fy.prototype.ua,fy.prototype.get=fy.prototype.get,fy.prototype.getKeys=fy.prototype.P,fy.prototype.getProperties=fy.prototype.M,fy.prototype.set=fy.prototype.set,fy.prototype.setProperties=fy.prototype.H,fy.prototype.unset=fy.prototype.R,fy.prototype.changed=fy.prototype.s,fy.prototype.dispatchEvent=fy.prototype.b,fy.prototype.getRevision=fy.prototype.L,fy.prototype.on=fy.prototype.J,fy.prototype.once=fy.prototype.once,fy.prototype.un=fy.prototype.K,wd.prototype.getAttributions=wd.prototype.xa,wd.prototype.getLogo=wd.prototype.wa,wd.prototype.getProjection=wd.prototype.ya,wd.prototype.getState=wd.prototype.V,wd.prototype.refresh=wd.prototype.va,wd.prototype.setAttributions=wd.prototype.ua,wd.prototype.get=wd.prototype.get,wd.prototype.getKeys=wd.prototype.P,wd.prototype.getProperties=wd.prototype.M,wd.prototype.set=wd.prototype.set,wd.prototype.setProperties=wd.prototype.H,wd.prototype.unset=wd.prototype.R,wd.prototype.changed=wd.prototype.s,wd.prototype.dispatchEvent=wd.prototype.b,wd.prototype.getRevision=wd.prototype.L,wd.prototype.on=wd.prototype.J,wd.prototype.once=wd.prototype.once,wd.prototype.un=wd.prototype.K,Cd.prototype.type=Cd.prototype.type,Cd.prototype.target=Cd.prototype.target,Cd.prototype.preventDefault=Cd.prototype.preventDefault,Cd.prototype.stopPropagation=Cd.prototype.stopPropagation,gy.prototype.getAttributions=gy.prototype.xa,gy.prototype.getLogo=gy.prototype.wa,gy.prototype.getProjection=gy.prototype.ya,gy.prototype.getState=gy.prototype.V,gy.prototype.refresh=gy.prototype.va,gy.prototype.setAttributions=gy.prototype.ua,gy.prototype.get=gy.prototype.get,gy.prototype.getKeys=gy.prototype.P,gy.prototype.getProperties=gy.prototype.M,gy.prototype.set=gy.prototype.set,gy.prototype.setProperties=gy.prototype.H,gy.prototype.unset=gy.prototype.R,gy.prototype.changed=gy.prototype.s,gy.prototype.dispatchEvent=gy.prototype.b,gy.prototype.getRevision=gy.prototype.L,gy.prototype.on=gy.prototype.J,gy.prototype.once=gy.prototype.once,gy.prototype.un=gy.prototype.K,Md.prototype.getAttributions=Md.prototype.xa,Md.prototype.getLogo=Md.prototype.wa,Md.prototype.getProjection=Md.prototype.ya,Md.prototype.getState=Md.prototype.V,Md.prototype.refresh=Md.prototype.va,Md.prototype.setAttributions=Md.prototype.ua,Md.prototype.get=Md.prototype.get,Md.prototype.getKeys=Md.prototype.P,Md.prototype.getProperties=Md.prototype.M,Md.prototype.set=Md.prototype.set,Md.prototype.setProperties=Md.prototype.H,Md.prototype.unset=Md.prototype.R,Md.prototype.changed=Md.prototype.s,Md.prototype.dispatchEvent=Md.prototype.b,Md.prototype.getRevision=Md.prototype.L,Md.prototype.on=Md.prototype.J,Md.prototype.once=Md.prototype.once,Md.prototype.un=Md.prototype.K,my.prototype.getAttributions=my.prototype.xa,my.prototype.getLogo=my.prototype.wa,my.prototype.getProjection=my.prototype.ya,my.prototype.getState=my.prototype.V,my.prototype.refresh=my.prototype.va,my.prototype.setAttributions=my.prototype.ua,my.prototype.get=my.prototype.get,my.prototype.getKeys=my.prototype.P,my.prototype.getProperties=my.prototype.M,my.prototype.set=my.prototype.set,my.prototype.setProperties=my.prototype.H,my.prototype.unset=my.prototype.R,my.prototype.changed=my.prototype.s,my.prototype.dispatchEvent=my.prototype.b,my.prototype.getRevision=my.prototype.L,my.prototype.on=my.prototype.J,my.prototype.once=my.prototype.once,my.prototype.un=my.prototype.K,by.prototype.getAttributions=by.prototype.xa,by.prototype.getLogo=by.prototype.wa,by.prototype.getProjection=by.prototype.ya,by.prototype.getState=by.prototype.V,by.prototype.refresh=by.prototype.va,by.prototype.setAttributions=by.prototype.ua,by.prototype.get=by.prototype.get,by.prototype.getKeys=by.prototype.P,by.prototype.getProperties=by.prototype.M,by.prototype.set=by.prototype.set,by.prototype.setProperties=by.prototype.H,by.prototype.unset=by.prototype.R,by.prototype.changed=by.prototype.s,by.prototype.dispatchEvent=by.prototype.b,by.prototype.getRevision=by.prototype.L,by.prototype.on=by.prototype.J,by.prototype.once=by.prototype.once,by.prototype.un=by.prototype.K,Td.prototype.getAttributions=Td.prototype.xa,Td.prototype.getLogo=Td.prototype.wa,Td.prototype.getProjection=Td.prototype.ya,Td.prototype.getState=Td.prototype.V,Td.prototype.refresh=Td.prototype.va,Td.prototype.setAttributions=Td.prototype.ua,Td.prototype.get=Td.prototype.get,Td.prototype.getKeys=Td.prototype.P,Td.prototype.getProperties=Td.prototype.M,Td.prototype.set=Td.prototype.set,Td.prototype.setProperties=Td.prototype.H,Td.prototype.unset=Td.prototype.R,Td.prototype.changed=Td.prototype.s,Td.prototype.dispatchEvent=Td.prototype.b,Td.prototype.getRevision=Td.prototype.L,Td.prototype.on=Td.prototype.J,Td.prototype.once=Td.prototype.once,Td.prototype.un=Td.prototype.K,_y.prototype.getAttributions=_y.prototype.xa,_y.prototype.getLogo=_y.prototype.wa,_y.prototype.getProjection=_y.prototype.ya,_y.prototype.getState=_y.prototype.V,_y.prototype.refresh=_y.prototype.va,_y.prototype.setAttributions=_y.prototype.ua,_y.prototype.get=_y.prototype.get,_y.prototype.getKeys=_y.prototype.P,_y.prototype.getProperties=_y.prototype.M,_y.prototype.set=_y.prototype.set,_y.prototype.setProperties=_y.prototype.H,_y.prototype.unset=_y.prototype.R,_y.prototype.changed=_y.prototype.s,_y.prototype.dispatchEvent=_y.prototype.b,_y.prototype.getRevision=_y.prototype.L,_y.prototype.on=_y.prototype.J,_y.prototype.once=_y.prototype.once,_y.prototype.un=_y.prototype.K,Py.prototype.setRenderReprojectionEdges=Py.prototype.Ob,Py.prototype.setTileGridForProjection=Py.prototype.Pb,Py.prototype.getTileLoadFunction=Py.prototype.ob,Py.prototype.getTileUrlFunction=Py.prototype.qb,Py.prototype.getUrls=Py.prototype.rb,Py.prototype.setTileLoadFunction=Py.prototype.wb,Py.prototype.setTileUrlFunction=Py.prototype.bb,Py.prototype.setUrl=Py.prototype.ib,Py.prototype.setUrls=Py.prototype.cb,Py.prototype.getTileGrid=Py.prototype.ab,Py.prototype.refresh=Py.prototype.va,Py.prototype.getAttributions=Py.prototype.xa,Py.prototype.getLogo=Py.prototype.wa,Py.prototype.getProjection=Py.prototype.ya,Py.prototype.getState=Py.prototype.V,Py.prototype.setAttributions=Py.prototype.ua,Py.prototype.get=Py.prototype.get,Py.prototype.getKeys=Py.prototype.P,Py.prototype.getProperties=Py.prototype.M,Py.prototype.set=Py.prototype.set,Py.prototype.setProperties=Py.prototype.H,Py.prototype.unset=Py.prototype.R,Py.prototype.changed=Py.prototype.s,Py.prototype.dispatchEvent=Py.prototype.b,Py.prototype.getRevision=Py.prototype.L,Py.prototype.on=Py.prototype.J,Py.prototype.once=Py.prototype.once,Py.prototype.un=Py.prototype.K,Sy.prototype.getAttributions=Sy.prototype.xa;Sy.prototype.getLogo=Sy.prototype.wa;Sy.prototype.getProjection=Sy.prototype.ya,Sy.prototype.getState=Sy.prototype.V,Sy.prototype.refresh=Sy.prototype.va,Sy.prototype.setAttributions=Sy.prototype.ua,Sy.prototype.get=Sy.prototype.get,Sy.prototype.getKeys=Sy.prototype.P,Sy.prototype.getProperties=Sy.prototype.M,Sy.prototype.set=Sy.prototype.set,Sy.prototype.setProperties=Sy.prototype.H,Sy.prototype.unset=Sy.prototype.R,Sy.prototype.changed=Sy.prototype.s,Sy.prototype.dispatchEvent=Sy.prototype.b,Sy.prototype.getRevision=Sy.prototype.L,Sy.prototype.on=Sy.prototype.J,Sy.prototype.once=Sy.prototype.once,Sy.prototype.un=Sy.prototype.K,Ty.prototype.type=Ty.prototype.type,Ty.prototype.target=Ty.prototype.target,Ty.prototype.preventDefault=Ty.prototype.preventDefault,Ty.prototype.stopPropagation=Ty.prototype.stopPropagation,Ay.prototype.setRenderReprojectionEdges=Ay.prototype.Ob,Ay.prototype.setTileGridForProjection=Ay.prototype.Pb,
Ay.prototype.getTileLoadFunction=Ay.prototype.ob,Ay.prototype.getTileUrlFunction=Ay.prototype.qb,Ay.prototype.getUrls=Ay.prototype.rb,Ay.prototype.setTileLoadFunction=Ay.prototype.wb,Ay.prototype.setTileUrlFunction=Ay.prototype.bb,Ay.prototype.setUrl=Ay.prototype.ib,Ay.prototype.setUrls=Ay.prototype.cb,Ay.prototype.getTileGrid=Ay.prototype.ab,Ay.prototype.refresh=Ay.prototype.va,Ay.prototype.getAttributions=Ay.prototype.xa,Ay.prototype.getLogo=Ay.prototype.wa,Ay.prototype.getProjection=Ay.prototype.ya,Ay.prototype.getState=Ay.prototype.V,Ay.prototype.setAttributions=Ay.prototype.ua,Ay.prototype.get=Ay.prototype.get,Ay.prototype.getKeys=Ay.prototype.P,Ay.prototype.getProperties=Ay.prototype.M,Ay.prototype.set=Ay.prototype.set,Ay.prototype.setProperties=Ay.prototype.H,Ay.prototype.unset=Ay.prototype.R,Ay.prototype.changed=Ay.prototype.s,Ay.prototype.dispatchEvent=Ay.prototype.b,Ay.prototype.getRevision=Ay.prototype.L,Ay.prototype.on=Ay.prototype.J,Ay.prototype.once=Ay.prototype.once,Ay.prototype.un=Ay.prototype.K,ny.prototype.type=ny.prototype.type,ny.prototype.target=ny.prototype.target,ny.prototype.preventDefault=ny.prototype.preventDefault,ny.prototype.stopPropagation=ny.prototype.stopPropagation,Ey.prototype.setRenderReprojectionEdges=Ey.prototype.Ob,Ey.prototype.setTileGridForProjection=Ey.prototype.Pb,Ey.prototype.getTileLoadFunction=Ey.prototype.ob,Ey.prototype.getTileUrlFunction=Ey.prototype.qb,Ey.prototype.getUrls=Ey.prototype.rb,Ey.prototype.setTileLoadFunction=Ey.prototype.wb,Ey.prototype.setTileUrlFunction=Ey.prototype.bb,Ey.prototype.setUrl=Ey.prototype.ib,Ey.prototype.setUrls=Ey.prototype.cb,Ey.prototype.getTileGrid=Ey.prototype.ab,Ey.prototype.refresh=Ey.prototype.va,Ey.prototype.getAttributions=Ey.prototype.xa,Ey.prototype.getLogo=Ey.prototype.wa,Ey.prototype.getProjection=Ey.prototype.ya,Ey.prototype.getState=Ey.prototype.V,Ey.prototype.setAttributions=Ey.prototype.ua,Ey.prototype.get=Ey.prototype.get,Ey.prototype.getKeys=Ey.prototype.P,Ey.prototype.getProperties=Ey.prototype.M,Ey.prototype.set=Ey.prototype.set,Ey.prototype.setProperties=Ey.prototype.H,Ey.prototype.unset=Ey.prototype.R,Ey.prototype.changed=Ey.prototype.s,Ey.prototype.dispatchEvent=Ey.prototype.b,Ey.prototype.getRevision=Ey.prototype.L,Ey.prototype.on=Ey.prototype.J,Ey.prototype.once=Ey.prototype.once,Ey.prototype.un=Ey.prototype.K,Iy.prototype.getTileGrid=Iy.prototype.ab,Iy.prototype.refresh=Iy.prototype.va,Iy.prototype.getAttributions=Iy.prototype.xa,Iy.prototype.getLogo=Iy.prototype.wa,Iy.prototype.getProjection=Iy.prototype.ya,Iy.prototype.getState=Iy.prototype.V,Iy.prototype.setAttributions=Iy.prototype.ua,Iy.prototype.get=Iy.prototype.get,Iy.prototype.getKeys=Iy.prototype.P,Iy.prototype.getProperties=Iy.prototype.M,Iy.prototype.set=Iy.prototype.set,Iy.prototype.setProperties=Iy.prototype.H,Iy.prototype.unset=Iy.prototype.R,Iy.prototype.changed=Iy.prototype.s,Iy.prototype.dispatchEvent=Iy.prototype.b,Iy.prototype.getRevision=Iy.prototype.L,Iy.prototype.on=Iy.prototype.J,Iy.prototype.once=Iy.prototype.once,Iy.prototype.un=Iy.prototype.K,Oy.prototype.setRenderReprojectionEdges=Oy.prototype.Ob,Oy.prototype.setTileGridForProjection=Oy.prototype.Pb,Oy.prototype.getTileLoadFunction=Oy.prototype.ob,Oy.prototype.getTileUrlFunction=Oy.prototype.qb,Oy.prototype.getUrls=Oy.prototype.rb,Oy.prototype.setTileLoadFunction=Oy.prototype.wb,Oy.prototype.setTileUrlFunction=Oy.prototype.bb,Oy.prototype.setUrl=Oy.prototype.ib,Oy.prototype.setUrls=Oy.prototype.cb,Oy.prototype.getTileGrid=Oy.prototype.ab,Oy.prototype.refresh=Oy.prototype.va,Oy.prototype.getAttributions=Oy.prototype.xa,Oy.prototype.getLogo=Oy.prototype.wa,Oy.prototype.getProjection=Oy.prototype.ya,Oy.prototype.getState=Oy.prototype.V,Oy.prototype.setAttributions=Oy.prototype.ua,Oy.prototype.get=Oy.prototype.get,Oy.prototype.getKeys=Oy.prototype.P,Oy.prototype.getProperties=Oy.prototype.M,Oy.prototype.set=Oy.prototype.set,Oy.prototype.setProperties=Oy.prototype.H,Oy.prototype.unset=Oy.prototype.R,Oy.prototype.changed=Oy.prototype.s,Oy.prototype.dispatchEvent=Oy.prototype.b,Oy.prototype.getRevision=Oy.prototype.L,Oy.prototype.on=Oy.prototype.J,Oy.prototype.once=Oy.prototype.once,Oy.prototype.un=Oy.prototype.K,ky.prototype.getTileGrid=ky.prototype.ab,ky.prototype.refresh=ky.prototype.va,ky.prototype.getAttributions=ky.prototype.xa,ky.prototype.getLogo=ky.prototype.wa,ky.prototype.getProjection=ky.prototype.ya,ky.prototype.getState=ky.prototype.V,ky.prototype.setAttributions=ky.prototype.ua,ky.prototype.get=ky.prototype.get,ky.prototype.getKeys=ky.prototype.P,ky.prototype.getProperties=ky.prototype.M,ky.prototype.set=ky.prototype.set,ky.prototype.setProperties=ky.prototype.H,ky.prototype.unset=ky.prototype.R,ky.prototype.changed=ky.prototype.s,ky.prototype.dispatchEvent=ky.prototype.b,ky.prototype.getRevision=ky.prototype.L,ky.prototype.on=ky.prototype.J,ky.prototype.once=ky.prototype.once,ky.prototype.un=ky.prototype.K,jy.prototype.setRenderReprojectionEdges=jy.prototype.Ob,jy.prototype.setTileGridForProjection=jy.prototype.Pb,jy.prototype.getTileLoadFunction=jy.prototype.ob,jy.prototype.getTileUrlFunction=jy.prototype.qb,jy.prototype.getUrls=jy.prototype.rb,jy.prototype.setTileLoadFunction=jy.prototype.wb,jy.prototype.setTileUrlFunction=jy.prototype.bb,jy.prototype.setUrl=jy.prototype.ib,jy.prototype.setUrls=jy.prototype.cb,jy.prototype.getTileGrid=jy.prototype.ab,jy.prototype.refresh=jy.prototype.va,jy.prototype.getAttributions=jy.prototype.xa,jy.prototype.getLogo=jy.prototype.wa,jy.prototype.getProjection=jy.prototype.ya,jy.prototype.getState=jy.prototype.V,jy.prototype.setAttributions=jy.prototype.ua,jy.prototype.get=jy.prototype.get,jy.prototype.getKeys=jy.prototype.P,jy.prototype.getProperties=jy.prototype.M,jy.prototype.set=jy.prototype.set,jy.prototype.setProperties=jy.prototype.H,jy.prototype.unset=jy.prototype.R,jy.prototype.changed=jy.prototype.s,jy.prototype.dispatchEvent=jy.prototype.b,jy.prototype.getRevision=jy.prototype.L,jy.prototype.on=jy.prototype.J,jy.prototype.once=jy.prototype.once,jy.prototype.un=jy.prototype.K,uf.prototype.type=uf.prototype.type,uf.prototype.target=uf.prototype.target,uf.prototype.preventDefault=uf.prototype.preventDefault,uf.prototype.stopPropagation=uf.prototype.stopPropagation,Wy.prototype.getTileLoadFunction=Wy.prototype.ob,Wy.prototype.getTileUrlFunction=Wy.prototype.qb,Wy.prototype.getUrls=Wy.prototype.rb,Wy.prototype.setTileLoadFunction=Wy.prototype.wb,Wy.prototype.setTileUrlFunction=Wy.prototype.bb,Wy.prototype.setUrl=Wy.prototype.ib,Wy.prototype.setUrls=Wy.prototype.cb,Wy.prototype.getTileGrid=Wy.prototype.ab,Wy.prototype.refresh=Wy.prototype.va,Wy.prototype.getAttributions=Wy.prototype.xa,Wy.prototype.getLogo=Wy.prototype.wa,Wy.prototype.getProjection=Wy.prototype.ya,Wy.prototype.getState=Wy.prototype.V,Wy.prototype.setAttributions=Wy.prototype.ua,Wy.prototype.get=Wy.prototype.get,Wy.prototype.getKeys=Wy.prototype.P,Wy.prototype.getProperties=Wy.prototype.M,Wy.prototype.set=Wy.prototype.set,Wy.prototype.setProperties=Wy.prototype.H,Wy.prototype.unset=Wy.prototype.R,Wy.prototype.changed=Wy.prototype.s,Wy.prototype.dispatchEvent=Wy.prototype.b;Wy.prototype.getRevision=Wy.prototype.L;return Wy.prototype.on=Wy.prototype.J,Wy.prototype.once=Wy.prototype.once,Wy.prototype.un=Wy.prototype.K,qy.prototype.setRenderReprojectionEdges=qy.prototype.Ob,qy.prototype.setTileGridForProjection=qy.prototype.Pb,qy.prototype.getTileLoadFunction=qy.prototype.ob,qy.prototype.getTileUrlFunction=qy.prototype.qb,qy.prototype.getUrls=qy.prototype.rb,qy.prototype.setTileLoadFunction=qy.prototype.wb,qy.prototype.setTileUrlFunction=qy.prototype.bb,qy.prototype.setUrl=qy.prototype.ib,qy.prototype.setUrls=qy.prototype.cb,qy.prototype.getTileGrid=qy.prototype.ab,qy.prototype.refresh=qy.prototype.va,qy.prototype.getAttributions=qy.prototype.xa,qy.prototype.getLogo=qy.prototype.wa,qy.prototype.getProjection=qy.prototype.ya,qy.prototype.getState=qy.prototype.V,qy.prototype.setAttributions=qy.prototype.ua,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.P,qy.prototype.getProperties=qy.prototype.M,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.H,qy.prototype.unset=qy.prototype.R,qy.prototype.changed=qy.prototype.s,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.L,qy.prototype.on=qy.prototype.J,qy.prototype.once=qy.prototype.once,qy.prototype.un=qy.prototype.K,$y.prototype.setRenderReprojectionEdges=$y.prototype.Ob,$y.prototype.setTileGridForProjection=$y.prototype.Pb,$y.prototype.getTileLoadFunction=$y.prototype.ob,$y.prototype.getTileUrlFunction=$y.prototype.qb,$y.prototype.getUrls=$y.prototype.rb,$y.prototype.setTileLoadFunction=$y.prototype.wb,$y.prototype.setTileUrlFunction=$y.prototype.bb,$y.prototype.setUrl=$y.prototype.ib,$y.prototype.setUrls=$y.prototype.cb,$y.prototype.getTileGrid=$y.prototype.ab,$y.prototype.refresh=$y.prototype.va,$y.prototype.getAttributions=$y.prototype.xa,$y.prototype.getLogo=$y.prototype.wa,$y.prototype.getProjection=$y.prototype.ya,$y.prototype.getState=$y.prototype.V,$y.prototype.setAttributions=$y.prototype.ua,$y.prototype.get=$y.prototype.get,$y.prototype.getKeys=$y.prototype.P,$y.prototype.getProperties=$y.prototype.M,$y.prototype.set=$y.prototype.set,$y.prototype.setProperties=$y.prototype.H,$y.prototype.unset=$y.prototype.R,$y.prototype.changed=$y.prototype.s,$y.prototype.dispatchEvent=$y.prototype.b,$y.prototype.getRevision=$y.prototype.L,$y.prototype.on=$y.prototype.J,$y.prototype.once=$y.prototype.once,$y.prototype.un=$y.prototype.K,Gd.prototype.getTileCoord=Gd.prototype.i,Gd.prototype.load=Gd.prototype.load,Mc.prototype.changed=Mc.prototype.s,Mc.prototype.dispatchEvent=Mc.prototype.b,Mc.prototype.getRevision=Mc.prototype.L,Mc.prototype.on=Mc.prototype.J,Mc.prototype.once=Mc.prototype.once,Mc.prototype.un=Mc.prototype.K,Wc.prototype.changed=Wc.prototype.s,Wc.prototype.dispatchEvent=Wc.prototype.b,Wc.prototype.getRevision=Wc.prototype.L,Wc.prototype.on=Wc.prototype.J,Wc.prototype.once=Wc.prototype.once,Wc.prototype.un=Wc.prototype.K,Ed.prototype.changed=Ed.prototype.s,Ed.prototype.dispatchEvent=Ed.prototype.b,Ed.prototype.getRevision=Ed.prototype.L,Ed.prototype.on=Ed.prototype.J,Ed.prototype.once=Ed.prototype.once,Ed.prototype.un=Ed.prototype.K,jd.prototype.changed=jd.prototype.s,jd.prototype.dispatchEvent=jd.prototype.b,jd.prototype.getRevision=jd.prototype.L,jd.prototype.on=jd.prototype.J,jd.prototype.once=jd.prototype.once,jd.prototype.un=jd.prototype.K,qc.prototype.changed=qc.prototype.s,qc.prototype.dispatchEvent=qc.prototype.b,qc.prototype.getRevision=qc.prototype.L,qc.prototype.on=qc.prototype.J,qc.prototype.once=qc.prototype.once,qc.prototype.un=qc.prototype.K,kc.prototype.changed=kc.prototype.s,kc.prototype.dispatchEvent=kc.prototype.b,kc.prototype.getRevision=kc.prototype.L,kc.prototype.on=kc.prototype.J,kc.prototype.once=kc.prototype.once,kc.prototype.un=kc.prototype.K,fd.prototype.changed=fd.prototype.s,fd.prototype.dispatchEvent=fd.prototype.b,fd.prototype.getRevision=fd.prototype.L,fd.prototype.on=fd.prototype.J,fd.prototype.once=fd.prototype.once,fd.prototype.un=fd.prototype.K,dd.prototype.changed=dd.prototype.s,dd.prototype.dispatchEvent=dd.prototype.b,dd.prototype.getRevision=dd.prototype.L,dd.prototype.on=dd.prototype.J,dd.prototype.once=dd.prototype.once,dd.prototype.un=dd.prototype.K,Od.prototype.changed=Od.prototype.s,Od.prototype.dispatchEvent=Od.prototype.b,Od.prototype.getRevision=Od.prototype.L,Od.prototype.on=Od.prototype.J,Od.prototype.once=Od.prototype.once,Od.prototype.un=Od.prototype.K,Xc.prototype.changed=Xc.prototype.s,Xc.prototype.dispatchEvent=Xc.prototype.b,Xc.prototype.getRevision=Xc.prototype.L,Xc.prototype.on=Xc.prototype.J,Xc.prototype.once=Xc.prototype.once,Xc.prototype.un=Xc.prototype.K,Bd.prototype.changed=Bd.prototype.s,Bd.prototype.dispatchEvent=Bd.prototype.b,Bd.prototype.getRevision=Bd.prototype.L,Bd.prototype.on=Bd.prototype.J,Bd.prototype.once=Bd.prototype.once,Bd.prototype.un=Bd.prototype.K,Cr.prototype.type=Cr.prototype.type,Cr.prototype.target=Cr.prototype.target,Cr.prototype.preventDefault=Cr.prototype.preventDefault,Cr.prototype.stopPropagation=Cr.prototype.stopPropagation,hn.prototype.type=hn.prototype.type,hn.prototype.target=hn.prototype.target,hn.prototype.preventDefault=hn.prototype.preventDefault,hn.prototype.stopPropagation=hn.prototype.stopPropagation,nr.prototype.get=nr.prototype.get,nr.prototype.getKeys=nr.prototype.P,nr.prototype.getProperties=nr.prototype.M,nr.prototype.set=nr.prototype.set,nr.prototype.setProperties=nr.prototype.H,nr.prototype.unset=nr.prototype.R,nr.prototype.changed=nr.prototype.s,nr.prototype.dispatchEvent=nr.prototype.b,nr.prototype.getRevision=nr.prototype.L,nr.prototype.on=nr.prototype.J,nr.prototype.once=nr.prototype.once,nr.prototype.un=nr.prototype.K,ir.prototype.getExtent=ir.prototype.D,ir.prototype.getMaxResolution=ir.prototype.hc,ir.prototype.getMinResolution=ir.prototype.ic,ir.prototype.getOpacity=ir.prototype.jc,ir.prototype.getVisible=ir.prototype.Lb,ir.prototype.getZIndex=ir.prototype.Aa,ir.prototype.setExtent=ir.prototype.xc,ir.prototype.setMaxResolution=ir.prototype.Cc,ir.prototype.setMinResolution=ir.prototype.Dc,ir.prototype.setOpacity=ir.prototype.yc,ir.prototype.setVisible=ir.prototype.zc,ir.prototype.setZIndex=ir.prototype.Xb,ir.prototype.get=ir.prototype.get,ir.prototype.getKeys=ir.prototype.P,ir.prototype.getProperties=ir.prototype.M,ir.prototype.set=ir.prototype.set,ir.prototype.setProperties=ir.prototype.H,ir.prototype.unset=ir.prototype.R,ir.prototype.changed=ir.prototype.s,ir.prototype.dispatchEvent=ir.prototype.b,ir.prototype.getRevision=ir.prototype.L,ir.prototype.on=ir.prototype.J,ir.prototype.once=ir.prototype.once,ir.prototype.un=ir.prototype.K,rr.prototype.getExtent=rr.prototype.D,rr.prototype.getMaxResolution=rr.prototype.hc,rr.prototype.getMinResolution=rr.prototype.ic,rr.prototype.getOpacity=rr.prototype.jc,rr.prototype.getVisible=rr.prototype.Lb,rr.prototype.getZIndex=rr.prototype.Aa,rr.prototype.setExtent=rr.prototype.xc,rr.prototype.setMaxResolution=rr.prototype.Cc,rr.prototype.setMinResolution=rr.prototype.Dc,rr.prototype.setOpacity=rr.prototype.yc,rr.prototype.setVisible=rr.prototype.zc,rr.prototype.setZIndex=rr.prototype.Xb,rr.prototype.get=rr.prototype.get,rr.prototype.getKeys=rr.prototype.P,rr.prototype.getProperties=rr.prototype.M,rr.prototype.set=rr.prototype.set,rr.prototype.setProperties=rr.prototype.H,rr.prototype.unset=rr.prototype.R,rr.prototype.changed=rr.prototype.s,rr.prototype.dispatchEvent=rr.prototype.b,rr.prototype.getRevision=rr.prototype.L,rr.prototype.on=rr.prototype.J,rr.prototype.once=rr.prototype.once,rr.prototype.un=rr.prototype.K,Vc.prototype.setMap=Vc.prototype.setMap,Vc.prototype.setSource=Vc.prototype.ad,Vc.prototype.getExtent=Vc.prototype.D,Vc.prototype.getMaxResolution=Vc.prototype.hc,Vc.prototype.getMinResolution=Vc.prototype.ic,Vc.prototype.getOpacity=Vc.prototype.jc,Vc.prototype.getVisible=Vc.prototype.Lb,Vc.prototype.getZIndex=Vc.prototype.Aa,Vc.prototype.setExtent=Vc.prototype.xc,Vc.prototype.setMaxResolution=Vc.prototype.Cc,Vc.prototype.setMinResolution=Vc.prototype.Dc,Vc.prototype.setOpacity=Vc.prototype.yc,Vc.prototype.setVisible=Vc.prototype.zc,Vc.prototype.setZIndex=Vc.prototype.Xb,Vc.prototype.get=Vc.prototype.get,Vc.prototype.getKeys=Vc.prototype.P,Vc.prototype.getProperties=Vc.prototype.M,Vc.prototype.set=Vc.prototype.set,Vc.prototype.setProperties=Vc.prototype.H,Vc.prototype.unset=Vc.prototype.R,Vc.prototype.changed=Vc.prototype.s,Vc.prototype.dispatchEvent=Vc.prototype.b,Vc.prototype.getRevision=Vc.prototype.L,Vc.prototype.on=Vc.prototype.J,Vc.prototype.once=Vc.prototype.once,Vc.prototype.un=Vc.prototype.K,cd.prototype.getSource=cd.prototype.ka,cd.prototype.getStyle=cd.prototype.C,cd.prototype.getStyleFunction=cd.prototype.G,cd.prototype.setStyle=cd.prototype.f,cd.prototype.setMap=cd.prototype.setMap,cd.prototype.setSource=cd.prototype.ad,cd.prototype.getExtent=cd.prototype.D,cd.prototype.getMaxResolution=cd.prototype.hc,cd.prototype.getMinResolution=cd.prototype.ic,cd.prototype.getOpacity=cd.prototype.jc,cd.prototype.getVisible=cd.prototype.Lb,cd.prototype.getZIndex=cd.prototype.Aa,cd.prototype.setExtent=cd.prototype.xc,cd.prototype.setMaxResolution=cd.prototype.Cc,cd.prototype.setMinResolution=cd.prototype.Dc,cd.prototype.setOpacity=cd.prototype.yc,cd.prototype.setVisible=cd.prototype.zc,cd.prototype.setZIndex=cd.prototype.Xb,cd.prototype.get=cd.prototype.get,cd.prototype.getKeys=cd.prototype.P,cd.prototype.getProperties=cd.prototype.M,cd.prototype.set=cd.prototype.set,cd.prototype.setProperties=cd.prototype.H,cd.prototype.unset=cd.prototype.R,cd.prototype.changed=cd.prototype.s,cd.prototype.dispatchEvent=cd.prototype.b,cd.prototype.getRevision=cd.prototype.L,cd.prototype.on=cd.prototype.J,cd.prototype.once=cd.prototype.once,cd.prototype.un=cd.prototype.K,Nd.prototype.setMap=Nd.prototype.setMap,Nd.prototype.setSource=Nd.prototype.ad,Nd.prototype.getExtent=Nd.prototype.D,Nd.prototype.getMaxResolution=Nd.prototype.hc,Nd.prototype.getMinResolution=Nd.prototype.ic,Nd.prototype.getOpacity=Nd.prototype.jc,Nd.prototype.getVisible=Nd.prototype.Lb,Nd.prototype.getZIndex=Nd.prototype.Aa,Nd.prototype.setExtent=Nd.prototype.xc,Nd.prototype.setMaxResolution=Nd.prototype.Cc,Nd.prototype.setMinResolution=Nd.prototype.Dc,Nd.prototype.setOpacity=Nd.prototype.yc,Nd.prototype.setVisible=Nd.prototype.zc,Nd.prototype.setZIndex=Nd.prototype.Xb,Nd.prototype.get=Nd.prototype.get,Nd.prototype.getKeys=Nd.prototype.P,Nd.prototype.getProperties=Nd.prototype.M,Nd.prototype.set=Nd.prototype.set,Nd.prototype.setProperties=Nd.prototype.H,Nd.prototype.unset=Nd.prototype.R,Nd.prototype.changed=Nd.prototype.s,Nd.prototype.dispatchEvent=Nd.prototype.b,Nd.prototype.getRevision=Nd.prototype.L,Nd.prototype.on=Nd.prototype.J,Nd.prototype.once=Nd.prototype.once,Nd.prototype.un=Nd.prototype.K,Kd.prototype.setMap=Kd.prototype.setMap,Kd.prototype.setSource=Kd.prototype.ad,Kd.prototype.getExtent=Kd.prototype.D,Kd.prototype.getMaxResolution=Kd.prototype.hc,Kd.prototype.getMinResolution=Kd.prototype.ic,Kd.prototype.getOpacity=Kd.prototype.jc,Kd.prototype.getVisible=Kd.prototype.Lb,Kd.prototype.getZIndex=Kd.prototype.Aa,Kd.prototype.setExtent=Kd.prototype.xc,Kd.prototype.setMaxResolution=Kd.prototype.Cc,Kd.prototype.setMinResolution=Kd.prototype.Dc,Kd.prototype.setOpacity=Kd.prototype.yc,Kd.prototype.setVisible=Kd.prototype.zc,Kd.prototype.setZIndex=Kd.prototype.Xb,Kd.prototype.get=Kd.prototype.get,Kd.prototype.getKeys=Kd.prototype.P,Kd.prototype.getProperties=Kd.prototype.M,Kd.prototype.set=Kd.prototype.set,Kd.prototype.setProperties=Kd.prototype.H,Kd.prototype.unset=Kd.prototype.R,Kd.prototype.changed=Kd.prototype.s,Kd.prototype.dispatchEvent=Kd.prototype.b,Kd.prototype.getRevision=Kd.prototype.L,Kd.prototype.on=Kd.prototype.J,Kd.prototype.once=Kd.prototype.once,Kd.prototype.un=Kd.prototype.K,Ud.prototype.getSource=Ud.prototype.ka,Ud.prototype.getStyle=Ud.prototype.C,Ud.prototype.getStyleFunction=Ud.prototype.G,Ud.prototype.setStyle=Ud.prototype.f,Ud.prototype.setMap=Ud.prototype.setMap,Ud.prototype.setSource=Ud.prototype.ad,Ud.prototype.getExtent=Ud.prototype.D,Ud.prototype.getMaxResolution=Ud.prototype.hc,Ud.prototype.getMinResolution=Ud.prototype.ic,Ud.prototype.getOpacity=Ud.prototype.jc,Ud.prototype.getVisible=Ud.prototype.Lb,Ud.prototype.getZIndex=Ud.prototype.Aa,Ud.prototype.setExtent=Ud.prototype.xc,Ud.prototype.setMaxResolution=Ud.prototype.Cc,Ud.prototype.setMinResolution=Ud.prototype.Dc,Ud.prototype.setOpacity=Ud.prototype.yc,Ud.prototype.setVisible=Ud.prototype.zc,Ud.prototype.setZIndex=Ud.prototype.Xb,Ud.prototype.get=Ud.prototype.get,Ud.prototype.getKeys=Ud.prototype.P,Ud.prototype.getProperties=Ud.prototype.M,Ud.prototype.set=Ud.prototype.set,Ud.prototype.setProperties=Ud.prototype.H,Ud.prototype.unset=Ud.prototype.R,Ud.prototype.changed=Ud.prototype.s,Ud.prototype.dispatchEvent=Ud.prototype.b,Ud.prototype.getRevision=Ud.prototype.L,Ud.prototype.on=Ud.prototype.J,Ud.prototype.once=Ud.prototype.once,Ud.prototype.un=Ud.prototype.K,ri.prototype.get=ri.prototype.get,ri.prototype.getKeys=ri.prototype.P,ri.prototype.getProperties=ri.prototype.M,ri.prototype.set=ri.prototype.set,ri.prototype.setProperties=ri.prototype.H,ri.prototype.unset=ri.prototype.R,ri.prototype.changed=ri.prototype.s,ri.prototype.dispatchEvent=ri.prototype.b,ri.prototype.getRevision=ri.prototype.L,ri.prototype.on=ri.prototype.J,ri.prototype.once=ri.prototype.once,ri.prototype.un=ri.prototype.K,hi.prototype.getActive=hi.prototype.c,hi.prototype.getMap=hi.prototype.i,hi.prototype.setActive=hi.prototype.Ia,hi.prototype.get=hi.prototype.get,hi.prototype.getKeys=hi.prototype.P,hi.prototype.getProperties=hi.prototype.M,hi.prototype.set=hi.prototype.set,hi.prototype.setProperties=hi.prototype.H,hi.prototype.unset=hi.prototype.R,hi.prototype.changed=hi.prototype.s,hi.prototype.dispatchEvent=hi.prototype.b,hi.prototype.getRevision=hi.prototype.L,hi.prototype.on=hi.prototype.J,hi.prototype.once=hi.prototype.once,hi.prototype.un=hi.prototype.K,Jl.prototype.getActive=Jl.prototype.c,Jl.prototype.getMap=Jl.prototype.i,Jl.prototype.setActive=Jl.prototype.Ia,Jl.prototype.get=Jl.prototype.get,Jl.prototype.getKeys=Jl.prototype.P,Jl.prototype.getProperties=Jl.prototype.M,Jl.prototype.set=Jl.prototype.set,Jl.prototype.setProperties=Jl.prototype.H,Jl.prototype.unset=Jl.prototype.R,Jl.prototype.changed=Jl.prototype.s,Jl.prototype.dispatchEvent=Jl.prototype.b,Jl.prototype.getRevision=Jl.prototype.L,Jl.prototype.on=Jl.prototype.J,Jl.prototype.once=Jl.prototype.once,Jl.prototype.un=Jl.prototype.K,ec.prototype.type=ec.prototype.type,ec.prototype.target=ec.prototype.target,ec.prototype.preventDefault=ec.prototype.preventDefault,ec.prototype.stopPropagation=ec.prototype.stopPropagation,_i.prototype.getActive=_i.prototype.c,_i.prototype.getMap=_i.prototype.i,_i.prototype.setActive=_i.prototype.Ia,_i.prototype.get=_i.prototype.get,_i.prototype.getKeys=_i.prototype.P,_i.prototype.getProperties=_i.prototype.M,_i.prototype.set=_i.prototype.set,_i.prototype.setProperties=_i.prototype.H,_i.prototype.unset=_i.prototype.R,_i.prototype.changed=_i.prototype.s,_i.prototype.dispatchEvent=_i.prototype.b,_i.prototype.getRevision=_i.prototype.L,_i.prototype.on=_i.prototype.J,_i.prototype.once=_i.prototype.once,_i.prototype.un=_i.prototype.K,ki.prototype.getActive=ki.prototype.c,ki.prototype.getMap=ki.prototype.i,ki.prototype.setActive=ki.prototype.Ia,ki.prototype.get=ki.prototype.get,ki.prototype.getKeys=ki.prototype.P,ki.prototype.getProperties=ki.prototype.M,ki.prototype.set=ki.prototype.set,ki.prototype.setProperties=ki.prototype.H,ki.prototype.unset=ki.prototype.R,ki.prototype.changed=ki.prototype.s,ki.prototype.dispatchEvent=ki.prototype.b,ki.prototype.getRevision=ki.prototype.L,ki.prototype.on=ki.prototype.J,ki.prototype.once=ki.prototype.once,ki.prototype.un=ki.prototype.K,Ki.prototype.type=Ki.prototype.type,Ki.prototype.target=Ki.prototype.target,Ki.prototype.preventDefault=Ki.prototype.preventDefault,Ki.prototype.stopPropagation=Ki.prototype.stopPropagation,Pi.prototype.getActive=Pi.prototype.c,Pi.prototype.getMap=Pi.prototype.i,Pi.prototype.setActive=Pi.prototype.Ia,Pi.prototype.get=Pi.prototype.get,Pi.prototype.getKeys=Pi.prototype.P,Pi.prototype.getProperties=Pi.prototype.M,Pi.prototype.set=Pi.prototype.set,Pi.prototype.setProperties=Pi.prototype.H,Pi.prototype.unset=Pi.prototype.R,Pi.prototype.changed=Pi.prototype.s,Pi.prototype.dispatchEvent=Pi.prototype.b,Pi.prototype.getRevision=Pi.prototype.L,Pi.prototype.on=Pi.prototype.J,Pi.prototype.once=Pi.prototype.once,Pi.prototype.un=Pi.prototype.K,Ti.prototype.getActive=Ti.prototype.c,Ti.prototype.getMap=Ti.prototype.i,Ti.prototype.setActive=Ti.prototype.Ia,Ti.prototype.get=Ti.prototype.get,Ti.prototype.getKeys=Ti.prototype.P,Ti.prototype.getProperties=Ti.prototype.M,Ti.prototype.set=Ti.prototype.set,Ti.prototype.setProperties=Ti.prototype.H,Ti.prototype.unset=Ti.prototype.R,Ti.prototype.changed=Ti.prototype.s,Ti.prototype.dispatchEvent=Ti.prototype.b,Ti.prototype.getRevision=Ti.prototype.L,Ti.prototype.on=Ti.prototype.J,Ti.prototype.once=Ti.prototype.once,Ti.prototype.un=Ti.prototype.K,nc.prototype.getActive=nc.prototype.c,nc.prototype.getMap=nc.prototype.i,nc.prototype.setActive=nc.prototype.Ia,nc.prototype.get=nc.prototype.get,nc.prototype.getKeys=nc.prototype.P,nc.prototype.getProperties=nc.prototype.M,nc.prototype.set=nc.prototype.set,nc.prototype.setProperties=nc.prototype.H,nc.prototype.unset=nc.prototype.R,nc.prototype.changed=nc.prototype.s,nc.prototype.dispatchEvent=nc.prototype.b,nc.prototype.getRevision=nc.prototype.L,nc.prototype.on=nc.prototype.J,nc.prototype.once=nc.prototype.once,nc.prototype.un=nc.prototype.K,Bi.prototype.getGeometry=Bi.prototype.U,Bi.prototype.getActive=Bi.prototype.c,Bi.prototype.getMap=Bi.prototype.i,Bi.prototype.setActive=Bi.prototype.Ia,Bi.prototype.get=Bi.prototype.get,Bi.prototype.getKeys=Bi.prototype.P,Bi.prototype.getProperties=Bi.prototype.M,Bi.prototype.set=Bi.prototype.set,Bi.prototype.setProperties=Bi.prototype.H,Bi.prototype.unset=Bi.prototype.R,Bi.prototype.changed=Bi.prototype.s,Bi.prototype.dispatchEvent=Bi.prototype.b,Bi.prototype.getRevision=Bi.prototype.L,Bi.prototype.on=Bi.prototype.J,Bi.prototype.once=Bi.prototype.once,Bi.prototype.un=Bi.prototype.K,hf.prototype.getActive=hf.prototype.c,hf.prototype.getMap=hf.prototype.i,hf.prototype.setActive=hf.prototype.Ia,hf.prototype.get=hf.prototype.get,hf.prototype.getKeys=hf.prototype.P,hf.prototype.getProperties=hf.prototype.M,hf.prototype.set=hf.prototype.set,hf.prototype.setProperties=hf.prototype.H,hf.prototype.unset=hf.prototype.R,hf.prototype.changed=hf.prototype.s,hf.prototype.dispatchEvent=hf.prototype.b,hf.prototype.getRevision=hf.prototype.L,hf.prototype.on=hf.prototype.J,hf.prototype.once=hf.prototype.once,hf.prototype.un=hf.prototype.K,xf.prototype.type=xf.prototype.type,xf.prototype.target=xf.prototype.target,xf.prototype.preventDefault=xf.prototype.preventDefault,xf.prototype.stopPropagation=xf.prototype.stopPropagation,wf.prototype.getActive=wf.prototype.c,wf.prototype.getMap=wf.prototype.i,wf.prototype.setActive=wf.prototype.Ia,wf.prototype.get=wf.prototype.get,wf.prototype.getKeys=wf.prototype.P,wf.prototype.getProperties=wf.prototype.M,wf.prototype.set=wf.prototype.set,wf.prototype.setProperties=wf.prototype.H,wf.prototype.unset=wf.prototype.R,wf.prototype.changed=wf.prototype.s,wf.prototype.dispatchEvent=wf.prototype.b,wf.prototype.getRevision=wf.prototype.L,wf.prototype.on=wf.prototype.J,wf.prototype.once=wf.prototype.once,wf.prototype.un=wf.prototype.K,Of.prototype.type=Of.prototype.type,Of.prototype.target=Of.prototype.target,Of.prototype.preventDefault=Of.prototype.preventDefault,Of.prototype.stopPropagation=Of.prototype.stopPropagation,Xi.prototype.getActive=Xi.prototype.c,Xi.prototype.getMap=Xi.prototype.i,Xi.prototype.setActive=Xi.prototype.Ia,Xi.prototype.get=Xi.prototype.get,Xi.prototype.getKeys=Xi.prototype.P,Xi.prototype.getProperties=Xi.prototype.M,Xi.prototype.set=Xi.prototype.set,Xi.prototype.setProperties=Xi.prototype.H,Xi.prototype.unset=Xi.prototype.R,Xi.prototype.changed=Xi.prototype.s,Xi.prototype.dispatchEvent=Xi.prototype.b,Xi.prototype.getRevision=Xi.prototype.L,Xi.prototype.on=Xi.prototype.J,Xi.prototype.once=Xi.prototype.once,Xi.prototype.un=Xi.prototype.K,Yi.prototype.getActive=Yi.prototype.c,Yi.prototype.getMap=Yi.prototype.i,Yi.prototype.setActive=Yi.prototype.Ia,Yi.prototype.get=Yi.prototype.get,Yi.prototype.getKeys=Yi.prototype.P,Yi.prototype.getProperties=Yi.prototype.M,Yi.prototype.set=Yi.prototype.set,Yi.prototype.setProperties=Yi.prototype.H,Yi.prototype.unset=Yi.prototype.R,Yi.prototype.changed=Yi.prototype.s,Yi.prototype.dispatchEvent=Yi.prototype.b,Yi.prototype.getRevision=Yi.prototype.L,Yi.prototype.on=Yi.prototype.J,Yi.prototype.once=Yi.prototype.once,Yi.prototype.un=Yi.prototype.K,kf.prototype.getActive=kf.prototype.c,kf.prototype.getMap=kf.prototype.i,kf.prototype.setActive=kf.prototype.Ia,kf.prototype.get=kf.prototype.get,kf.prototype.getKeys=kf.prototype.P,kf.prototype.getProperties=kf.prototype.M,kf.prototype.set=kf.prototype.set,kf.prototype.setProperties=kf.prototype.H,kf.prototype.unset=kf.prototype.R,kf.prototype.changed=kf.prototype.s,kf.prototype.dispatchEvent=kf.prototype.b,kf.prototype.getRevision=kf.prototype.L,kf.prototype.on=kf.prototype.J,kf.prototype.once=kf.prototype.once,kf.prototype.un=kf.prototype.K,Vf.prototype.type=Vf.prototype.type,Vf.prototype.target=Vf.prototype.target,Vf.prototype.preventDefault=Vf.prototype.preventDefault,Vf.prototype.stopPropagation=Vf.prototype.stopPropagation,Wi.prototype.getActive=Wi.prototype.c,Wi.prototype.getMap=Wi.prototype.i,Wi.prototype.setActive=Wi.prototype.Ia,Wi.prototype.get=Wi.prototype.get,Wi.prototype.getKeys=Wi.prototype.P,Wi.prototype.getProperties=Wi.prototype.M,Wi.prototype.set=Wi.prototype.set,Wi.prototype.setProperties=Wi.prototype.H,Wi.prototype.unset=Wi.prototype.R,Wi.prototype.changed=Wi.prototype.s,Wi.prototype.dispatchEvent=Wi.prototype.b,Wi.prototype.getRevision=Wi.prototype.L,Wi.prototype.on=Wi.prototype.J,Wi.prototype.once=Wi.prototype.once,Wi.prototype.un=Wi.prototype.K,Hi.prototype.getActive=Hi.prototype.c,Hi.prototype.getMap=Hi.prototype.i,Hi.prototype.setActive=Hi.prototype.Ia,Hi.prototype.get=Hi.prototype.get,Hi.prototype.getKeys=Hi.prototype.P,Hi.prototype.getProperties=Hi.prototype.M,Hi.prototype.set=Hi.prototype.set,Hi.prototype.setProperties=Hi.prototype.H,Hi.prototype.unset=Hi.prototype.R,Hi.prototype.changed=Hi.prototype.s,Hi.prototype.dispatchEvent=Hi.prototype.b,Hi.prototype.getRevision=Hi.prototype.L,Hi.prototype.on=Hi.prototype.J,Hi.prototype.once=Hi.prototype.once,Hi.prototype.un=Hi.prototype.K,Zi.prototype.getActive=Zi.prototype.c,Zi.prototype.getMap=Zi.prototype.i,Zi.prototype.setActive=Zi.prototype.Ia,Zi.prototype.get=Zi.prototype.get,Zi.prototype.getKeys=Zi.prototype.P,Zi.prototype.getProperties=Zi.prototype.M,Zi.prototype.set=Zi.prototype.set,Zi.prototype.setProperties=Zi.prototype.H,Zi.prototype.unset=Zi.prototype.R,Zi.prototype.changed=Zi.prototype.s,Zi.prototype.dispatchEvent=Zi.prototype.b,Zi.prototype.getRevision=Zi.prototype.L,Zi.prototype.on=Zi.prototype.J,Zi.prototype.once=Zi.prototype.once,Zi.prototype.un=Zi.prototype.K,$f.prototype.getActive=$f.prototype.c,$f.prototype.getMap=$f.prototype.i,$f.prototype.setActive=$f.prototype.Ia,$f.prototype.get=$f.prototype.get,$f.prototype.getKeys=$f.prototype.P,$f.prototype.getProperties=$f.prototype.M,$f.prototype.set=$f.prototype.set,$f.prototype.setProperties=$f.prototype.H,$f.prototype.unset=$f.prototype.R,$f.prototype.changed=$f.prototype.s,$f.prototype.dispatchEvent=$f.prototype.b,$f.prototype.getRevision=$f.prototype.L,$f.prototype.on=$f.prototype.J,$f.prototype.once=$f.prototype.once,$f.prototype.un=$f.prototype.K,Qf.prototype.type=Qf.prototype.type,Qf.prototype.target=Qf.prototype.target,Qf.prototype.preventDefault=Qf.prototype.preventDefault,Qf.prototype.stopPropagation=Qf.prototype.stopPropagation,td.prototype.getActive=td.prototype.c,td.prototype.getMap=td.prototype.i,td.prototype.setActive=td.prototype.Ia,td.prototype.get=td.prototype.get,td.prototype.getKeys=td.prototype.P,td.prototype.getProperties=td.prototype.M,td.prototype.set=td.prototype.set,td.prototype.setProperties=td.prototype.H,td.prototype.unset=td.prototype.R,td.prototype.changed=td.prototype.s,td.prototype.dispatchEvent=td.prototype.b,td.prototype.getRevision=td.prototype.L,td.prototype.on=td.prototype.J,td.prototype.once=td.prototype.once,td.prototype.un=td.prototype.K,id.prototype.getActive=id.prototype.c,id.prototype.getMap=id.prototype.i,id.prototype.setActive=id.prototype.Ia,id.prototype.get=id.prototype.get,id.prototype.getKeys=id.prototype.P,id.prototype.getProperties=id.prototype.M,id.prototype.set=id.prototype.set,id.prototype.setProperties=id.prototype.H,id.prototype.unset=id.prototype.R,id.prototype.changed=id.prototype.s,
id.prototype.dispatchEvent=id.prototype.b,id.prototype.getRevision=id.prototype.L,id.prototype.on=id.prototype.J,id.prototype.once=id.prototype.once,id.prototype.un=id.prototype.K,ld.prototype.type=ld.prototype.type,ld.prototype.target=ld.prototype.target,ld.prototype.preventDefault=ld.prototype.preventDefault,ld.prototype.stopPropagation=ld.prototype.stopPropagation,oo.prototype.get=oo.prototype.get,oo.prototype.getKeys=oo.prototype.P,oo.prototype.getProperties=oo.prototype.M,oo.prototype.set=oo.prototype.set,oo.prototype.setProperties=oo.prototype.H,oo.prototype.unset=oo.prototype.R,oo.prototype.changed=oo.prototype.s,oo.prototype.dispatchEvent=oo.prototype.b,oo.prototype.getRevision=oo.prototype.L,oo.prototype.on=oo.prototype.J,oo.prototype.once=oo.prototype.once,oo.prototype.un=oo.prototype.K,ao.prototype.getClosestPoint=ao.prototype.Ab,ao.prototype.intersectsCoordinate=ao.prototype.sb,ao.prototype.getExtent=ao.prototype.D,ao.prototype.rotate=ao.prototype.rotate,ao.prototype.scale=ao.prototype.scale,ao.prototype.simplify=ao.prototype.Qb,ao.prototype.transform=ao.prototype.tb,ao.prototype.get=ao.prototype.get,ao.prototype.getKeys=ao.prototype.P,ao.prototype.getProperties=ao.prototype.M,ao.prototype.set=ao.prototype.set,ao.prototype.setProperties=ao.prototype.H,ao.prototype.unset=ao.prototype.R,ao.prototype.changed=ao.prototype.s,ao.prototype.dispatchEvent=ao.prototype.b,ao.prototype.getRevision=ao.prototype.L,ao.prototype.on=ao.prototype.J,ao.prototype.once=ao.prototype.once,ao.prototype.un=ao.prototype.K,Fl.prototype.getFirstCoordinate=Fl.prototype.cc,Fl.prototype.getLastCoordinate=Fl.prototype.dc,Fl.prototype.getLayout=Fl.prototype.ec,Fl.prototype.rotate=Fl.prototype.rotate,Fl.prototype.scale=Fl.prototype.scale,Fl.prototype.getClosestPoint=Fl.prototype.Ab,Fl.prototype.intersectsCoordinate=Fl.prototype.sb,Fl.prototype.getExtent=Fl.prototype.D,Fl.prototype.simplify=Fl.prototype.Qb,Fl.prototype.get=Fl.prototype.get,Fl.prototype.getKeys=Fl.prototype.P,Fl.prototype.getProperties=Fl.prototype.M,Fl.prototype.set=Fl.prototype.set,Fl.prototype.setProperties=Fl.prototype.H,Fl.prototype.unset=Fl.prototype.R,Fl.prototype.changed=Fl.prototype.s,Fl.prototype.dispatchEvent=Fl.prototype.b,Fl.prototype.getRevision=Fl.prototype.L,Fl.prototype.on=Fl.prototype.J,Fl.prototype.once=Fl.prototype.once,Fl.prototype.un=Fl.prototype.K,hh.prototype.getClosestPoint=hh.prototype.Ab,hh.prototype.intersectsCoordinate=hh.prototype.sb,hh.prototype.getExtent=hh.prototype.D,hh.prototype.rotate=hh.prototype.rotate,hh.prototype.scale=hh.prototype.scale,hh.prototype.simplify=hh.prototype.Qb,hh.prototype.transform=hh.prototype.tb,hh.prototype.get=hh.prototype.get,hh.prototype.getKeys=hh.prototype.P,hh.prototype.getProperties=hh.prototype.M,hh.prototype.set=hh.prototype.set,hh.prototype.setProperties=hh.prototype.H,hh.prototype.unset=hh.prototype.R,hh.prototype.changed=hh.prototype.s,hh.prototype.dispatchEvent=hh.prototype.b,hh.prototype.getRevision=hh.prototype.L,hh.prototype.on=hh.prototype.J,hh.prototype.once=hh.prototype.once,hh.prototype.un=hh.prototype.K,Co.prototype.getFirstCoordinate=Co.prototype.cc,Co.prototype.getLastCoordinate=Co.prototype.dc,Co.prototype.getLayout=Co.prototype.ec,Co.prototype.rotate=Co.prototype.rotate,Co.prototype.scale=Co.prototype.scale,Co.prototype.getClosestPoint=Co.prototype.Ab,Co.prototype.intersectsCoordinate=Co.prototype.sb,Co.prototype.getExtent=Co.prototype.D,Co.prototype.simplify=Co.prototype.Qb,Co.prototype.transform=Co.prototype.tb,Co.prototype.get=Co.prototype.get,Co.prototype.getKeys=Co.prototype.P,Co.prototype.getProperties=Co.prototype.M,Co.prototype.set=Co.prototype.set,Co.prototype.setProperties=Co.prototype.H,Co.prototype.unset=Co.prototype.R,Co.prototype.changed=Co.prototype.s,Co.prototype.dispatchEvent=Co.prototype.b,Co.prototype.getRevision=Co.prototype.L,Co.prototype.on=Co.prototype.J,Co.prototype.once=Co.prototype.once,Co.prototype.un=Co.prototype.K,Cu.prototype.getFirstCoordinate=Cu.prototype.cc,Cu.prototype.getLastCoordinate=Cu.prototype.dc,Cu.prototype.getLayout=Cu.prototype.ec,Cu.prototype.rotate=Cu.prototype.rotate,Cu.prototype.scale=Cu.prototype.scale,Cu.prototype.getClosestPoint=Cu.prototype.Ab,Cu.prototype.intersectsCoordinate=Cu.prototype.sb,Cu.prototype.getExtent=Cu.prototype.D,Cu.prototype.simplify=Cu.prototype.Qb,Cu.prototype.transform=Cu.prototype.tb,Cu.prototype.get=Cu.prototype.get,Cu.prototype.getKeys=Cu.prototype.P,Cu.prototype.getProperties=Cu.prototype.M,Cu.prototype.set=Cu.prototype.set,Cu.prototype.setProperties=Cu.prototype.H,Cu.prototype.unset=Cu.prototype.R,Cu.prototype.changed=Cu.prototype.s,Cu.prototype.dispatchEvent=Cu.prototype.b,Cu.prototype.getRevision=Cu.prototype.L,Cu.prototype.on=Cu.prototype.J,Cu.prototype.once=Cu.prototype.once,Cu.prototype.un=Cu.prototype.K,Tu.prototype.getFirstCoordinate=Tu.prototype.cc,Tu.prototype.getLastCoordinate=Tu.prototype.dc,Tu.prototype.getLayout=Tu.prototype.ec,Tu.prototype.rotate=Tu.prototype.rotate,Tu.prototype.scale=Tu.prototype.scale,Tu.prototype.getClosestPoint=Tu.prototype.Ab,Tu.prototype.intersectsCoordinate=Tu.prototype.sb,Tu.prototype.getExtent=Tu.prototype.D,Tu.prototype.simplify=Tu.prototype.Qb,Tu.prototype.transform=Tu.prototype.tb,Tu.prototype.get=Tu.prototype.get,Tu.prototype.getKeys=Tu.prototype.P,Tu.prototype.getProperties=Tu.prototype.M,Tu.prototype.set=Tu.prototype.set,Tu.prototype.setProperties=Tu.prototype.H,Tu.prototype.unset=Tu.prototype.R,Tu.prototype.changed=Tu.prototype.s,Tu.prototype.dispatchEvent=Tu.prototype.b,Tu.prototype.getRevision=Tu.prototype.L,Tu.prototype.on=Tu.prototype.J,Tu.prototype.once=Tu.prototype.once,Tu.prototype.un=Tu.prototype.K,Lu.prototype.getFirstCoordinate=Lu.prototype.cc,Lu.prototype.getLastCoordinate=Lu.prototype.dc,Lu.prototype.getLayout=Lu.prototype.ec,Lu.prototype.rotate=Lu.prototype.rotate,Lu.prototype.scale=Lu.prototype.scale,Lu.prototype.getClosestPoint=Lu.prototype.Ab,Lu.prototype.intersectsCoordinate=Lu.prototype.sb,Lu.prototype.getExtent=Lu.prototype.D,Lu.prototype.simplify=Lu.prototype.Qb,Lu.prototype.transform=Lu.prototype.tb,Lu.prototype.get=Lu.prototype.get,Lu.prototype.getKeys=Lu.prototype.P,Lu.prototype.getProperties=Lu.prototype.M,Lu.prototype.set=Lu.prototype.set,Lu.prototype.setProperties=Lu.prototype.H,Lu.prototype.unset=Lu.prototype.R,Lu.prototype.changed=Lu.prototype.s,Lu.prototype.dispatchEvent=Lu.prototype.b,Lu.prototype.getRevision=Lu.prototype.L,Lu.prototype.on=Lu.prototype.J,Lu.prototype.once=Lu.prototype.once,Lu.prototype.un=Lu.prototype.K,Iu.prototype.getFirstCoordinate=Iu.prototype.cc,Iu.prototype.getLastCoordinate=Iu.prototype.dc,Iu.prototype.getLayout=Iu.prototype.ec,Iu.prototype.rotate=Iu.prototype.rotate,Iu.prototype.scale=Iu.prototype.scale,Iu.prototype.getClosestPoint=Iu.prototype.Ab,Iu.prototype.intersectsCoordinate=Iu.prototype.sb,Iu.prototype.getExtent=Iu.prototype.D,Iu.prototype.simplify=Iu.prototype.Qb,Iu.prototype.transform=Iu.prototype.tb,Iu.prototype.get=Iu.prototype.get,Iu.prototype.getKeys=Iu.prototype.P,Iu.prototype.getProperties=Iu.prototype.M,Iu.prototype.set=Iu.prototype.set,Iu.prototype.setProperties=Iu.prototype.H,Iu.prototype.unset=Iu.prototype.R,Iu.prototype.changed=Iu.prototype.s,Iu.prototype.dispatchEvent=Iu.prototype.b,Iu.prototype.getRevision=Iu.prototype.L,Iu.prototype.on=Iu.prototype.J,Iu.prototype.once=Iu.prototype.once,Iu.prototype.un=Iu.prototype.K,To.prototype.getFirstCoordinate=To.prototype.cc,To.prototype.getLastCoordinate=To.prototype.dc,To.prototype.getLayout=To.prototype.ec,To.prototype.rotate=To.prototype.rotate,To.prototype.scale=To.prototype.scale,To.prototype.getClosestPoint=To.prototype.Ab,To.prototype.intersectsCoordinate=To.prototype.sb,To.prototype.getExtent=To.prototype.D,To.prototype.simplify=To.prototype.Qb,To.prototype.transform=To.prototype.tb,To.prototype.get=To.prototype.get,To.prototype.getKeys=To.prototype.P,To.prototype.getProperties=To.prototype.M,To.prototype.set=To.prototype.set,To.prototype.setProperties=To.prototype.H,To.prototype.unset=To.prototype.R,To.prototype.changed=To.prototype.s,To.prototype.dispatchEvent=To.prototype.b,To.prototype.getRevision=To.prototype.L,To.prototype.on=To.prototype.J,To.prototype.once=To.prototype.once,To.prototype.un=To.prototype.K,Ko.prototype.getFirstCoordinate=Ko.prototype.cc,Ko.prototype.getLastCoordinate=Ko.prototype.dc,Ko.prototype.getLayout=Ko.prototype.ec,Ko.prototype.rotate=Ko.prototype.rotate,Ko.prototype.scale=Ko.prototype.scale,Ko.prototype.getClosestPoint=Ko.prototype.Ab,Ko.prototype.intersectsCoordinate=Ko.prototype.sb,Ko.prototype.getExtent=Ko.prototype.D,Ko.prototype.simplify=Ko.prototype.Qb,Ko.prototype.transform=Ko.prototype.tb,Ko.prototype.get=Ko.prototype.get,Ko.prototype.getKeys=Ko.prototype.P,Ko.prototype.getProperties=Ko.prototype.M,Ko.prototype.set=Ko.prototype.set,Ko.prototype.setProperties=Ko.prototype.H,Ko.prototype.unset=Ko.prototype.R,Ko.prototype.changed=Ko.prototype.s,Ko.prototype.dispatchEvent=Ko.prototype.b,Ko.prototype.getRevision=Ko.prototype.L,Ko.prototype.on=Ko.prototype.J,Ko.prototype.once=Ko.prototype.once,Ko.prototype.un=Ko.prototype.K,Nh.prototype.readFeatures=Nh.prototype.Pa,kh.prototype.readFeatures=kh.prototype.Pa,Nh.prototype.readFeatures=Nh.prototype.Pa,Ne.prototype.get=Ne.prototype.get,Ne.prototype.getKeys=Ne.prototype.P,Ne.prototype.getProperties=Ne.prototype.M,Ne.prototype.set=Ne.prototype.set,Ne.prototype.setProperties=Ne.prototype.H,Ne.prototype.unset=Ne.prototype.R,Ne.prototype.changed=Ne.prototype.s,Ne.prototype.dispatchEvent=Ne.prototype.b,Ne.prototype.getRevision=Ne.prototype.L,Ne.prototype.on=Ne.prototype.J,Ne.prototype.once=Ne.prototype.once,Ne.prototype.un=Ne.prototype.K,Oe.prototype.getMap=Oe.prototype.f,Oe.prototype.setMap=Oe.prototype.setMap,Oe.prototype.setTarget=Oe.prototype.i,Oe.prototype.get=Oe.prototype.get,Oe.prototype.getKeys=Oe.prototype.P,Oe.prototype.getProperties=Oe.prototype.M,Oe.prototype.set=Oe.prototype.set,Oe.prototype.setProperties=Oe.prototype.H,Oe.prototype.unset=Oe.prototype.R,Oe.prototype.changed=Oe.prototype.s,Oe.prototype.dispatchEvent=Oe.prototype.b,Oe.prototype.getRevision=Oe.prototype.L,Oe.prototype.on=Oe.prototype.J,Oe.prototype.once=Oe.prototype.once,Oe.prototype.un=Oe.prototype.K,Ge.prototype.getMap=Ge.prototype.f,Ge.prototype.setMap=Ge.prototype.setMap,Ge.prototype.setTarget=Ge.prototype.i,Ge.prototype.get=Ge.prototype.get,Ge.prototype.getKeys=Ge.prototype.P,Ge.prototype.getProperties=Ge.prototype.M,Ge.prototype.set=Ge.prototype.set,Ge.prototype.setProperties=Ge.prototype.H,Ge.prototype.unset=Ge.prototype.R,Ge.prototype.changed=Ge.prototype.s,Ge.prototype.dispatchEvent=Ge.prototype.b,Ge.prototype.getRevision=Ge.prototype.L,Ge.prototype.on=Ge.prototype.J,Ge.prototype.once=Ge.prototype.once,Ge.prototype.un=Ge.prototype.K,qe.prototype.getMap=qe.prototype.f,qe.prototype.setMap=qe.prototype.setMap,qe.prototype.setTarget=qe.prototype.i,qe.prototype.get=qe.prototype.get,qe.prototype.getKeys=qe.prototype.P,qe.prototype.getProperties=qe.prototype.M,qe.prototype.set=qe.prototype.set,qe.prototype.setProperties=qe.prototype.H,qe.prototype.unset=qe.prototype.R,qe.prototype.changed=qe.prototype.s,qe.prototype.dispatchEvent=qe.prototype.b,qe.prototype.getRevision=qe.prototype.L,qe.prototype.on=qe.prototype.J,qe.prototype.once=qe.prototype.once,qe.prototype.un=qe.prototype.K,ws.prototype.getMap=ws.prototype.f,ws.prototype.setMap=ws.prototype.setMap,ws.prototype.setTarget=ws.prototype.i,ws.prototype.get=ws.prototype.get,ws.prototype.getKeys=ws.prototype.P,ws.prototype.getProperties=ws.prototype.M,ws.prototype.set=ws.prototype.set,ws.prototype.setProperties=ws.prototype.H,ws.prototype.unset=ws.prototype.R,ws.prototype.changed=ws.prototype.s,ws.prototype.dispatchEvent=ws.prototype.b,ws.prototype.getRevision=ws.prototype.L,ws.prototype.on=ws.prototype.J,ws.prototype.once=ws.prototype.once,ws.prototype.un=ws.prototype.K,Be.prototype.getMap=Be.prototype.f,Be.prototype.setMap=Be.prototype.setMap,Be.prototype.setTarget=Be.prototype.i,Be.prototype.get=Be.prototype.get,Be.prototype.getKeys=Be.prototype.P,Be.prototype.getProperties=Be.prototype.M,Be.prototype.set=Be.prototype.set,Be.prototype.setProperties=Be.prototype.H,Be.prototype.unset=Be.prototype.R,Be.prototype.changed=Be.prototype.s,Be.prototype.dispatchEvent=Be.prototype.b,Be.prototype.getRevision=Be.prototype.L,Be.prototype.on=Be.prototype.J,Be.prototype.once=Be.prototype.once,Be.prototype.un=Be.prototype.K,Ts.prototype.getMap=Ts.prototype.f,Ts.prototype.setMap=Ts.prototype.setMap,Ts.prototype.setTarget=Ts.prototype.i,Ts.prototype.get=Ts.prototype.get,Ts.prototype.getKeys=Ts.prototype.P,Ts.prototype.getProperties=Ts.prototype.M,Ts.prototype.set=Ts.prototype.set,Ts.prototype.setProperties=Ts.prototype.H,Ts.prototype.unset=Ts.prototype.R,Ts.prototype.changed=Ts.prototype.s,Ts.prototype.dispatchEvent=Ts.prototype.b,Ts.prototype.getRevision=Ts.prototype.L,Ts.prototype.on=Ts.prototype.J,Ts.prototype.once=Ts.prototype.once,Ts.prototype.un=Ts.prototype.K,Ue.prototype.getMap=Ue.prototype.f,Ue.prototype.setMap=Ue.prototype.setMap,Ue.prototype.setTarget=Ue.prototype.i,Ue.prototype.get=Ue.prototype.get,Ue.prototype.getKeys=Ue.prototype.P,Ue.prototype.getProperties=Ue.prototype.M,Ue.prototype.set=Ue.prototype.set,Ue.prototype.setProperties=Ue.prototype.H,Ue.prototype.unset=Ue.prototype.R,Ue.prototype.changed=Ue.prototype.s,Ue.prototype.dispatchEvent=Ue.prototype.b,Ue.prototype.getRevision=Ue.prototype.L,Ue.prototype.on=Ue.prototype.J,Ue.prototype.once=Ue.prototype.once,Ue.prototype.un=Ue.prototype.K,Ls.prototype.getMap=Ls.prototype.f,Ls.prototype.setMap=Ls.prototype.setMap,Ls.prototype.setTarget=Ls.prototype.i,Ls.prototype.get=Ls.prototype.get,Ls.prototype.getKeys=Ls.prototype.P,Ls.prototype.getProperties=Ls.prototype.M,Ls.prototype.set=Ls.prototype.set,Ls.prototype.setProperties=Ls.prototype.H,Ls.prototype.unset=Ls.prototype.R,Ls.prototype.changed=Ls.prototype.s,Ls.prototype.dispatchEvent=Ls.prototype.b,Ls.prototype.getRevision=Ls.prototype.L,Ls.prototype.on=Ls.prototype.J,Ls.prototype.once=Ls.prototype.once,Ls.prototype.un=Ls.prototype.K,ks.prototype.getMap=ks.prototype.f,ks.prototype.setMap=ks.prototype.setMap,ks.prototype.setTarget=ks.prototype.i,ks.prototype.get=ks.prototype.get,ks.prototype.getKeys=ks.prototype.P,ks.prototype.getProperties=ks.prototype.M,ks.prototype.set=ks.prototype.set,ks.prototype.setProperties=ks.prototype.H,ks.prototype.unset=ks.prototype.R,ks.prototype.changed=ks.prototype.s,ks.prototype.dispatchEvent=ks.prototype.b,ks.prototype.getRevision=ks.prototype.L,ks.prototype.on=ks.prototype.J,ks.prototype.once=ks.prototype.once,ks.prototype.un=ks.prototype.K,rv.ol})}).call(e,function(){return this}())},function(t,e,n){"use strict";function o(t,e,n){e=e||1;for(var o,a,u,p,l=0;l<t[0].length;l++){var c=t[0][l];(!l||c[0]<o)&&(o=c[0]),(!l||c[1]<a)&&(a=c[1]),(!l||c[0]>u)&&(u=c[0]),(!l||c[1]>p)&&(p=c[1])}var f=u-o,d=p-a,y=Math.min(f,d),v=y/2,g=new h(null,i);if(0===y)return[o,a];for(var m=o;m<u;m+=y)for(var b=a;b<p;b+=y)g.push(new r(m+v,b+v,v,t));var _=s(t),x=new r(o+f/2,a+d/2,0,t);x.d>_.d&&(_=x);for(var w=g.length;g.length;){var P=g.pop();P.d>_.d&&(_=P,n&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,w)),P.max-_.d<=e||(v=P.h/2,g.push(new r(P.x-v,P.y-v,v,t)),g.push(new r(P.x+v,P.y-v,v,t)),g.push(new r(P.x-v,P.y+v,v,t)),g.push(new r(P.x+v,P.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+_.d)),[_.x,_.y]}function i(t,e){return e.max-t.max}function r(t,e,n,o){this.x=t,this.y=e,this.h=n,this.d=a(t,e,o),this.max=this.d+this.h*Math.SQRT2}function a(t,e,n){for(var o=!1,i=1/0,r=0;r<n.length;r++)for(var a=n[r],s=0,h=a.length,p=h-1;s<h;p=s++){var l=a[s],c=a[p];l[1]>e!=c[1]>e&&t<(c[0]-l[0])*(e-l[1])/(c[1]-l[1])+l[0]&&(o=!o),i=Math.min(i,u(t,e,l,c))}return(o?1:-1)*Math.sqrt(i)}function s(t){for(var e=0,n=0,o=0,i=t[0],a=0,s=i.length,u=s-1;a<s;u=a++){var h=i[a],p=i[u],l=h[0]*p[1]-p[0]*h[1];n+=(h[0]+p[0])*l,o+=(h[1]+p[1])*l,e+=3*l}return 0===e?new r(i[0][0],i[0][1],0,t):new r(n/e,o/e,0,t)}function u(t,e,n,o){var i=n[0],r=n[1],a=o[0]-i,s=o[1]-r;if(0!==a||0!==s){var u=((t-i)*a+(e-r)*s)/(a*a+s*s);u>1?(i=o[0],r=o[1]):u>0&&(i+=a*u,r+=s*u)}return a=t-i,s=e-r,a*a+s*s}var h=n(201);t.exports=o,t.exports.default=o},function(t,e,n){"use strict";t.exports=n(39),n(195),n(196),n(197)},function(t,e,n){"use strict";var o=n(39),i=n(29);t.exports=o,o.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){i(function(){throw t})})}},function(t,e,n){"use strict";function o(t){this.then=function(e){return"function"!=typeof e?this:new i(function(n,o){r(function(){try{n(e(t))}catch(t){o(t)}})})}}var i=n(39),r=n(29);t.exports=i,o.prototype=i.prototype;var a=new o(!0),s=new o(!1),u=new o(null),h=new o(void 0),p=new o(0),l=new o("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return u;if(void 0===t)return h;if(t===!0)return a;if(t===!1)return s;if(0===t)return p;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return new o(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(r,t)},n)}e[r]=a,0===--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";var o=n(39),i=n(29);t.exports=o,o.denodeify=function(t,e){return e=e||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments);return new o(function(o,r){for(;i.length&&i.length>e;)i.pop();i.push(function(t,e){t?r(t):o(e)});var a=t.apply(n,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||o(a)})}},o.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(t){if(null===n||"undefined"==typeof n)return new o(function(e,n){n(t)});i(function(){n.call(r,t)})}}},o.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){i(function(){t.call(e,null,n)})},function(n){i(function(){t.call(e,n)})})}},function(t,e,n){var o,i;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(r,a){"undefined"!=typeof t&&t.exports?t.exports=a():(o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i)))}("$script",function(){function t(t,e){for(var n=0,o=t.length;n<o;++n)if(!e(t[n]))return u;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(r,a,s){function u(t){return t.call?t():c[t]}function p(){if(!--m){c[g]=1,v&&v();for(var n in d)t(n.split("|"),u)&&!e(d[n],u)&&(d[n]=[])}}r=r[h]?r:[r];var l=a&&a.call,v=l?a:s,g=l?r.join(""):a,m=r.length;return setTimeout(function(){e(r,function t(e,n){return null===e?p():(n||/^https?:\/\//.test(e)||!i||(e=e.indexOf(".js")===-1?i+e+".js":i+e),y[e]?(g&&(f[g]=1),2==y[e]?p():setTimeout(function(){t(e,!0)},0)):(y[e]=1,g&&(f[g]=1),void o(e,p)))})},0),n}function o(t,e){var n,o=a.createElement("script");o.onload=o.onerror=o[l]=function(){o[p]&&!/^c|loade/.test(o[p])||n||(o.onload=o[l]=null,n=1,y[t]=2,e())},o.async=1,o.src=r?t+(t.indexOf("?")===-1?"?":"&")+r:t,s.insertBefore(o,s.lastChild)}var i,r,a=document,s=a.getElementsByTagName("head")[0],u=!1,h="push",p="readyState",l="onreadystatechange",c={},f={},d={},y={};return n.get=o,n.order=function(t,e,o){!function i(r){r=t.shift(),t.length?n(r,i):n(r,e,o)}()},n.path=function(t){i=t},n.urlArgs=function(t){r=t},n.ready=function(o,i,r){o=o[h]?o:[o];var a=[];return!e(o,function(t){c[t]||a[h](t)})&&t(o,function(t){return c[t]})?i():!function(t){d[t]=d[t]||[],d[t][h](i),r&&r(a)}(o.join("|")),n},n.done=function(t){n([null],t)},n})},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return y[d]=o,f(d),d++}function i(t){delete y[t]}function r(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(v)setTimeout(a,0,t);else{var e=y[t];if(e){v=!0;try{r(e)}finally{i(t),v=!1}}}}function s(){f=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function h(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),f=function(n){t.postMessage(e+n,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function l(){var t=g.documentElement;f=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function c(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,d=1,y={},v=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():u()?h():t.MessageChannel?p():g&&"onreadystatechange"in g.createElement("script")?l():c(),m.setImmediate=o,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(81))},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(199),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,o=e[t];t>0;){var i=t-1>>1,r=e[i];if(n(o,r)>=0)break;e[t]=r,t=i}e[t]=o},_down:function(t){for(var e=this.data,n=this.compare,o=this.length,i=o>>1,r=e[t];t<i;){var a=(t<<1)+1,s=a+1,u=e[a];if(s<o&&n(e[s],u)<0&&(a=s,u=e[s]),n(u,r)>=0)break;e[t]=u,t=a}e[t]=r}}},function(t,e,n){var o,i;/*!
	 * Unipointer v2.2.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(r,a){o=[n(80)],i=function(t){return a(r,t)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function o(){}var i=o.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var o=n?"addEventListener":"removeEventListener";t.PointerEvent?e[o]("pointerdown",this):(e[o]("mousedown",this),e[o]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(e){if(e){var n=r[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},o.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},o})},,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(u(o.parts[r],e))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(u(o.parts[r],e));l[o.id]={id:o.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},o=0;o<t.length;o++){var i=t[o],r=i[0],a=i[1],s=i[2],u=i[3],h={css:a,media:s,sourceMap:u};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function r(t,e){var n=d(),o=g[g.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function u(t,e){var n,o,i;if(e.singleton){var r=v++;n=y||(y=s(e)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=s(e),o=p.bind(null,n),i=function(){a(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}function h(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return o(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],u=l[s.id];u.refs--,r.push(u)}if(t){var h=i(t);o(h,e)}for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete l[u.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.c52d0ce92a7edad33bf4.js.map
	webpackJsonp([2,0],[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(61),a=n(r),o=i(95),s=n(o),c=i(115),u=n(c),d=i(203),l=n(d);window.application=new a.default({store:s.default,el:"#app",template:"<App/>",components:{App:l.default}}),u.default.init(s.default),window.eventBus=window.application.$children[0]},,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)}function a(e){return 2===e.length&&p.default.isNumber(e[0])&&p.default.isNumber(e[1])}function o(e){return e.length>=1&&p.default.every(e,a)}function s(e){return e.length>=1&&p.default.every(e,o)}Object.defineProperty(t,"__esModule",{value:!0});var c=i(1),u=n(c),d=i(19),l=n(d);t.distanceBetweenPoints=r;var f=i(4),p=n(f),h=i(190),m=n(h),g=i(23),y={clipScale:100,offset:.01,setOperation:function(e,t,i){var n=t.map(function(e){return{X:e.x,Y:e.y}}),r=i.map(function(e){return{X:e.x,Y:e.y}}),a=new m.default.ClipperOffset,o=new m.default.Paths,s=new m.default.Paths;a.AddPaths([n],m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(o,this.offset),a.Clear(),a.AddPaths([r],m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(s,this.offset),a.Clear(),m.default.JS.ScaleUpPaths(o,this.clipScale),m.default.JS.ScaleUpPaths(s,this.clipScale);var c=new m.default.Clipper,u=new m.default.Paths;c.AddPaths(o,m.default.PolyType.ptSubject,!0),c.AddPaths(s,m.default.PolyType.ptClip,!0);var d="union"===e?m.default.ClipType.ctUnion:"intersection"===e?m.default.ClipType.ctIntersection:"difference"===e?m.default.ClipType.ctDifference:null;if(null===d)throw new Error('invalid operation "'+e+'". expected union, intersection, or difference');c.Execute(d,u,m.default.PolyFillType.pftEvenOdd,m.default.PolyFillType.pftEvenOdd),m.default.JS.ScaleDownPaths(u,this.clipScale);var l=new m.default.Paths;return a.AddPaths(u,m.default.JoinType.jtMiter,m.default.EndType.etClosedPolygon),a.Execute(l,-this.offset),1===l.length?l[0].map(function(e){return{x:e.X,y:e.Y}}):0===l.length?[]:{error:y.clipperPolygonHasHoles(l)?"no holes":"no split faces"}},clipperPolygonHasHoles:function(e){var t=e[0].map(function(e){return[e.X,e.Y]}),i=[e[1][0].X,e[1][0].Y];return y.inRing(i,t)},intersection:function(e,t){return this.setOperation("intersection",e,t)},union:function(e,t){return this.setOperation("union",e,t)},difference:function(e,t){return this.setOperation("difference",e,t)},areaOfSelection:function(e){var t=e.map(function(e){return{X:e.x,Y:e.y}});return m.default.JS.AreaOfPolygon(t)},splittingVerticesForEdgeId:function(e,t){var i=this,n=t.edges.find(function(t){return t.id===e}),r=this.vertexForId(n.v1,t),a=this.vertexForId(n.v2,t);return t.vertices.filter(function(e){if(!(n.v1===e.id||n.v2===e.id||r.x===e.x&&r.y===e.y||a.x===e.x&&a.y===e.y)){var t=i.projectionOfPointToLine(e,{p1:r,p2:a});return i.distanceBetweenPoints(e,t)<=1/i.clipScale}})},projectionOfPointToLine:function(e,t){var i=t.p1,n=i.x,r=i.y,a=t.p2,o=a.x,s=a.y,c=e.x-n,u=e.y-r,d=o-n,l=s-r,f=c*d+u*l,p=d*d+l*l||2,h=f/p;return h<=0?t.p1:h>1?t.p2:{x:n+h*d,y:r+h*l}},distanceBetweenPoints:r,intersectionOfLines:function(e,t,i,n){var r=1e-7,a=function(e,t,i){return e-r<=t&&t<=i+r},o=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),s=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(o)||isNaN(s)||this.distanceBetweenPoints({x:o,y:s},e)<r||this.distanceBetweenPoints({x:o,y:s},t)<r||this.distanceBetweenPoints({x:o,y:s},i)<r||this.distanceBetweenPoints({x:o,y:s},n)<r)return!1;if(e.x>=t.x){if(!a(t.x,o,e.x))return!1}else if(!a(e.x,o,t.x))return!1;if(e.y>=t.y){if(!a(t.y,s,e.y))return!1}else if(!a(e.y,s,t.y))return!1;if(i.x>=n.x){if(!a(n.x,o,i.x))return!1}else if(!a(i.x,o,n.x))return!1;if(i.y>=n.y){if(!a(n.y,s,i.y))return!1}else if(!a(i.y,s,n.y))return!1;return{x:o,y:s}},vertexForId:function(e,t){return t.vertices.find(function(t){return t.id===e})},vertexForCoordinates:function(e,t){var i=this;return t.vertices.find(function(t){return i.distanceBetweenPoints(t,e)<1e-5})},verticesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){var n=i.edgeForId(e.edge_id,t),r=e.reverse?n.v2:n.v1;return i.vertexForId(r,t)})},edgeForId:function(e,t){return t.edges.find(function(t){return t.id===e})},edgesForVertexId:function(e,t){return t.edges.filter(function(t){return t.v1===e||t.v2===e})},edgesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){return i.edgeForId(e.edge_id,t)})},faceForId:function(e,t){return t.faces.find(function(t){return t.id===e})},facesForVertexId:function(e,t){var i=this;return t.faces.filter(function(n){return n.edgeRefs.find(function(n){var r=i.edgeForId(n.edge_id,t);return r.v1===e||r.v2===e})})},facesForEdgeId:function(e,t){return t.faces.filter(function(t){return t.edgeRefs.find(function(t){return t.edge_id===e})})},ptsAreCollinear:function(e,t,i){var n=[e.x,e.y],r=n[0],a=n[1],o=[t.x,t.y],s=o[0],c=o[1],u=i.x,d=i.y;return Math.abs((c-a)*(u-s)-(d-c)*(s-r))<1e-5},syntheticRectangleSnaps:function(e,t,i){var n=(t.x+i.x)/2,r=(t.y+i.y)/2;return[].concat((0,l.default)(e.map(function(e){var t=e.x,i=e.y;return{y:i,x:t+2*(n-t),synthetic:!0,originalPt:{x:t,y:i}}})),(0,l.default)(e.map(function(e){var t=e.x,i=e.y;return{x:t,y:i+2*(r-i),synthetic:!0,originalPt:{x:t,y:i}}})))},edgeDirection:function(e){var t=e.start,i=e.end,n=i.x-t.x,r=i.y-t.y;return 0===n?.5*Math.PI:Math.atan(r/n)},haveSimilarAngles:function(e,t){var i=this.edgeDirection(e)-this.edgeDirection(t),n=Math.min(Math.abs(i),Math.PI-i);return n<.05*Math.PI},pointDistanceToSegment:function(e,t){var i=t.start,n=t.end,r=y.projectionOfPointToLine(e,{p1:i,p2:n});return{dist:y.distanceBetweenPoints(e,r),proj:r}},exceptFace:function(e,t){return t?(0,u.default)({},e,{faces:p.default.reject(e.faces,{id:t})}):e},denormalize:function(e){var t=this,i=e.edges.map(function(i){return(0,u.default)({},i,{v1:t.vertexForId(i.v1,e),v2:t.vertexForId(i.v2,e)})}),n=p.default.zipObject(p.default.map(i,"id"),i),r=e.faces.map(function(e){return{id:e.id,edges:e.edgeRefs.map(function(e){var t=e.edge_id,i=e.reverse;return(0,u.default)({},n[t],{edge_id:t,reverse:i})}),get vertices(){return(0,g.dropConsecutiveDups)(p.default.flatMap(this.edges,function(e){return e.reverse?[e.v2,e.v1]:[e.v1,e.v2]}),function(e){return e.id})}}});return(0,u.default)({},e,{edges:i,faces:r})},normalize:function(e){var t=p.default.uniqBy([].concat((0,l.default)(e.edges),(0,l.default)(p.default.flatMap(e.faces,function(e){return e.edges}))),"id"),i=p.default.uniqBy([].concat((0,l.default)(e.vertices),(0,l.default)(p.default.flatMap(t,function(e){return[e.v1,e.v2]}))),"id");return{id:e.id,vertices:i.map(function(e){return p.default.pick(e,["id","x","y"])}),edges:t.map(function(e){return{id:e.id,v1:e.v1.id,v2:e.v2.id}}),faces:e.faces.map(function(e){return{id:e.id,edgeRefs:e.edges.map(function(e){return{edge_id:e.id,reverse:e.reverse}})}})}}};y.inside=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a(e))throw new Error("point does not have correct coords: "+e);if(!s(t))throw new Error("polygon does not have correct coords: "+t);var n=y.bboxOfRing(t[0]);if(n&&y.inBBox(e,n)===!1)return!1;for(var r=!1,o=0;o<t.length&&!r;o++)if(y.inRing(e,t[0],i)){for(var c=!1,u=1;u<t.length&&!c;)y.inRing(e,t[u],!i)&&(c=!0),u++;c||(r=!0)}return r},y.bboxOfRing=function(e){return[p.default.min(p.default.map(e,0)),p.default.min(p.default.map(e,1)),p.default.max(p.default.map(e,0)),p.default.max(p.default.map(e,1))]},y.inRing=function(e,t,i){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var r=0,a=t.length-1;r<t.length;a=r++){var o=t[r][0],s=t[r][1],c=t[a][0],u=t[a][1],d=e[1]*(o-c)+s*(c-e[0])+u*(e[0]-o)===0&&(o-e[0])*(c-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(d)return!i;var l=s>e[1]!=u>e[1]&&e[0]<(c-o)*(e[1]-s)/(u-s)+o;l&&(n=!n)}return n},t.default=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(65),a=n(r),o=i(42),s=n(o),c={map:s.default,displayNameForKey:function(e,t){return this.map[e].keymap[t]?this.map[e].keymap[t].private?null:this.map[e].keymap[t].displayName:t},valueForKey:function(e,t,i,n){return this.map[i].keymap[n]&&this.map[i].keymap[n].get?this.map[i].keymap[n].get(e,t):e[n]},setValueForKey:function(e,t,i,n,r){var o={success:!0};if(this.map[i].keymap[n]&&this.map[i].keymap[n].validator){var s=this.map[i].keymap[n].validator(e,t,r,i);if(o.success=s.success,!s.success)return o.error=s.error,o}return this.map[i].keymap[n]&&this.map[i].keymap[n].converter&&(r=this.map[i].keymap[n].converter(r)),"stories"===i?t.dispatch("models/updateStoryWithData",(0,a.default)({story:e},n,r)):"spaces"===i?t.dispatch("models/updateSpaceWithData",(0,a.default)({space:e},n,r)):"shading"===i?t.dispatch("models/updateShadingWithData",(0,a.default)({shading:e},n,r)):"images"===i?t.dispatch("models/updateImageWithData",(0,a.default)({image:e},n,r)):t.dispatch("models/updateObjectWithData",(0,a.default)({object:e},n,r)),o},inputTypeForKey:function(e,t){return this.map[e].keymap[t]&&!this.map[e].keymap[t].readonly?this.map[e].keymap[t].input_type:null},selectOptionsForKey:function(e,t,i,n){return this.map[i].keymap[n]&&!this.map[i].keymap[n].readonly&&"select"===this.map[i].keymap[n].input_type?this.map[i].keymap[n].select_data(e,t):[]},libraryObjectWithId:function(e,t){var i;for(var n in e.library)e.library.hasOwnProperty(n)&&!i&&e.library[n].find(function(e){return e.id===t})&&(i=e.library[n].find(function(e){return e.id===t}),i.type=n);if(!i&&e.stories.find(function(e){return e.id===t})&&(i=e.stories.find(function(e){return e.id===t}),i.type="story"),!i)for(var r=0;r<e.stories.length;r++){var a=e.stories[r];!i&&a.spaces.find(function(e){return e.id===t})&&(i=a.spaces.find(function(e){return e.id===t}),i.type="space"),!i&&a.shading.find(function(e){return e.id===t})&&(i=a.shading.find(function(e){return e.id===t}),i.type="shading"),!i&&a.images.find(function(e){return e.id===t})&&(i=a.images.find(function(e){return e.id===t}),i.type="image")}return i},modelForFace:function(e,t){for(var i=0;i<e.stories.length;i++){var n=e.stories[i],r=n.shading.find(function(e){return e.face_id===t}),a=n.spaces.find(function(e){return e.face_id===t});if(r)return r.type="shading",r;if(a)return a.type="space",a}},generateName:function(e,t,i){var n=this.modelsForType(e,t),r=s.default[t].displayName+" ";if(i){var a=e.stories.findIndex(function(e){return e.id===i.id})+1;r=r.concat(a+" - ")}for(var o="",c=1;!o;)o=r+c,n.find(function(e){return e.name===o})&&(o=""),c+=1;return o},modelsForType:function(e,t){switch(t){case"stories":return e.stories;case"shading":case"spaces":case"images":return e.stories.reduce(function(e,i){return e.concat(i[t])},[]);default:return e.library[t]}}};t.default=c},,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=Date.now();return function(){var n=Date.now();if(i+t<n){i=n;for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];e.apply(this,a)}}}function a(e,t){var i;return function(){for(var n=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){i=null,e.apply(n,a)},t)}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default,i={};return e.filter(function(e){var n=t(e);return!i[n]&&(i[n]=!0,!0)})}function s(e){return p.default.flatten(e.map(function(t,i){return e.slice(i+1).map(function(e){return[t,e]})}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default;return e.filter(function(i,n){return 0===n||t(i)!==t(e[n-1])})}function u(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=i(9),l=n(d);t.throttle=r,t.debounce=a,t.uniq=o,t.allPairs=s,t.dropConsecutiveDups=c,t.getSiblings=u;var f=i(4),p=n(f)},,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(61),a=n(r);t.default=new a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeEvents=void 0;var r=i(30),a=n(r);t.ResizeEvents=a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1;t.default={setId:function(e){i=e},generate:function(){return function(){return String(i++)}}()}},,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={modes:{stories:"Story",images:"Image",spaces:"Space",shading:"Shading",building_units:"Building Unit",thermal_zones:"Thermal Zone",space_types:"Space Type"},palette:{shading:"#bbc3c7",neutral:"#bbc3c7",colors:["#002626","#007373","#000000","#004749","#009196","#8BC600","#b9ff14","#001516","#557a00","#E54C00","#ff7633","#993300","#EF9300","#ffb43d","#a36400"]}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(40),a=n(r),o={displayNameForMode:function(e){return a.default.modes[e]},config:a.default};t.default=o},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),o=r(a),s=i(4),c=r(s),u=i(63),d=r(u),l=i(110),f=r(l),p=i(106),h=n(p),m={building_units:{displayName:"Building Unit",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.BuildingUnit},thermal_zones:{displayName:"Thermal Zone",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.ThermalZone},space_types:{displayName:"Space Type",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}],init:d.default.SpaceType},construction_sets:{displayName:"Construction Set",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name}],init:d.default.ConstructionSet},windows:{displayName:"Window",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"story",displayName:"Story",readonly:!0,get:function(e,t){var i=t.models.stories.find(function(t){return t.windows.map(function(e){return e.id}).indexOf(e.id)!==-1});return i.name}}],init:d.default.Window},daylighting_controls:{displayName:"Daylighting Control",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name}],init:d.default.DaylightingControl},stories:{displayName:"Story",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"geometry_id",readonly:!0,private:!0},{name:"below_floor_plenum_height",displayName:"Below Floor Plenum Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"above_floor_plenum_height",displayName:"Above Floor Plenum Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"floor_to_ceiling_height",displayName:"Floor To Ceiling Height",input_type:"text",converter:h.number,validator:f.default.number},{name:"multiplier",displayName:"Multiplier",input_type:"text",validator:f.default.number},{name:"spaces",displayName:"Spaces",readonly:!0,get:function(e,t){return e.spaces.map(function(e){return e.name}).join(", ")}},{name:"windows",displayName:"Windows",readonly:!0,private:!0,get:function(e,t){return e.windows.map(function(e){return e.name}).join(", ")}},{name:"shading",displayName:"Shading",readonly:!0,get:function(e,t){return e.shading.map(function(e){return e.name}).join(", ")}},{name:"images",readonly:!0,private:!0}]},spaces:{displayName:"Space",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"daylighting_controls",displayName:"Daylighting Controls",readonly:!0,private:!0,get:function(e,t){return e.daylighting_controls.map(function(e){return e.name}).join(", ")}},{name:"story",displayName:"Story",readonly:!0,get:function(e,t){var i=t.models.stories.find(function(t){return~t.spaces.map(function(e){return e.id}).indexOf(e.id)});return i.name}},{name:"building_unit_id",displayName:"Building Unit",input_type:"select",select_data:function(e,t){var i={};return t.models.library.building_units.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.building_units.find(function(t){return t.id===e.building_unit_id});return i?i.name:null}},{name:"thermal_zone_id",displayName:"Thermal Zone",input_type:"select",select_data:function(e,t){var i={};return t.models.library.thermal_zones.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.thermal_zones.find(function(t){return t.id===e.thermal_zone_id});return i?i.name:null}},{name:"space_type_id",displayName:"Space Type",input_type:"select",select_data:function(e,t){var i={};return t.models.library.space_types.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.space_types.find(function(t){return t.id===e.space_type_id});return i?i.name:null}},{name:"construction_set_id",displayName:"Construction Set",input_type:"select",select_data:function(e,t){var i={};return t.models.library.construction_sets.forEach(function(e){i[e.name]=e.id}),i},get:function(e,t){var i=t.models.library.construction_sets.find(function(t){return t.id===e.construction_set_id});return i?i.name:null}},{name:"color",displayName:"Color",input_type:"color",validator:f.default.color}]},shading:{displayName:"Shading",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"color",readonly:!0,private:!0}]},images:{displayName:"Image",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:f.default.name},{name:"height",displayName:"Height",input_type:"text",validator:f.default.number},{name:"z",displayName:"z",input_type:"text",validator:f.default.number},{name:"opacity",displayName:"opacity",input_type:"text",validator:f.default.number},{name:"x",displayName:"x",input_type:"text",validator:f.default.number},{name:"y",displayName:"y",input_type:"text",validator:f.default.number},{name:"src",readonly:!0,private:!0}]}};(0,o.default)(m).forEach(function(e){m[e].keymap=c.default.zipObject(c.default.map(m[e].columns,"name"),m[e].columns)}),t.default=m},,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(32),a=n(r),o=i(10);n(o);t.default={Vertex:function(e,t){return{id:a.default.generate(),x:e,y:t}},Edge:function(e,t){return{id:a.default.generate(),v1:e,v2:t}},Face:function(e){return{id:a.default.generate(),edgeRefs:e}},Geometry:function(){return{id:a.default.generate(),vertices:[],edges:[],faces:[]}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(32),a=n(r),o=i(117),s=n(o),c=i(40),u=n(c);t.default={Story:function(e){return{id:a.default.generate(),name:e,handle:null,geometry_id:null,below_floor_plenum_height:0,floor_to_ceiling_height:0,above_floor_plenum_height:0,multiplier:0,spaces:[],windows:[],shading:[],images:[]}},Space:function(e){return{id:a.default.generate(),name:e,color:(0,s.default)("space"),handle:null,face_id:null,daylighting_controls:[],building_unit_id:null,thermal_zone_id:null,space_type_id:null,construction_set_id:null,type:"space"}},Shading:function(e){return{id:a.default.generate(),name:e,color:u.default.palette.shading,handle:null,face_id:null}},Image:function(e,t){return{id:a.default.generate(),src:t,name:e,visible:!0,height:0,width:0,x:0,y:0,z:0,r:0,opacity:1}},BuildingUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("building_unit"),name:e.name}},ThermalZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("thermal_zone"),name:e.name}},SpaceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("space_type"),name:e.name}},ConstructionSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},Window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},DaylightingControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(111),a=n(r),o=i(113),s=n(o),c=i(112),u=n(c);t.default={namespaced:!0,state:{config:{units:"ft",language:"EN-US",north_axis:0},grid:{visible:!0,spacing:5},view:{min_x:-250,min_y:-150,max_x:250,max_y:150},map:{initialized:!1,enabled:!0,visible:!0,latitude:39.7653,longitude:-104.9863,zoom:4.5,rotation:0,elevation:0},previous_story:{visible:!0},showImportExport:!0,transform:{k:1,x:0,y:0}},actions:a.default,mutations:s.default,getters:u.default}},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(212),c=n(s),u=i(207),d=n(u),l=i(204),f=n(l),p=i(213),h=n(p),m=i(208),g=n(m),y=i(209),v=n(y);i(31);t.default={name:"app",data:function(){return{error:null,success:null}},beforeCreate:function(){this.$store.dispatch("models/initStory")},mounted:function(){var e=this;this.$on("uploadImage",function(e){document.getElementById("upload-image-input").click()}),this.$on("error",function(t){e.error=t,setTimeout(function(){e.error=null},5e3)}),this.$on("success",function(t){e.success=t,setTimeout(function(){e.success=null},5e3)}),this.$on("reload-grid",function(){document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}),document.addEventListener("keydown",function(t){e.$store.timetravel&&(90===t.keyCode&&(t.ctrlKey||t.metaKey)?t.shiftKey?e.$store.timetravel.redo():e.$store.timetravel.undo():89==t.keyCode&&(t.ctrlKey||t.metaKey)&&e.$store.timetravel.redo())})},computed:(0,a.default)({},(0,o.mapState)({tool:function(e){return e.application.currentSelections.tool}})),components:{"grid-view":d.default,"canvas-view":f.default,"inspector-view":g.default,library:v.default,navigation:c.default,toolbar:h.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(206),s=n(o),c=i(205),u=n(c),d=i(8);t.default={name:"app",data:function(){return{}},computed:(0,a.default)({},(0,d.mapState)({mapEnabled:function(e){return e.project.map.enabled},mapVisible:function(e){return e.project.map.visible},northAxis:function(e){return e.project.config.north_axis}})),components:{"map-view":s.default,"images-view":u.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{k:t.k/e.k,x:(t.x/t.k-e.x/e.k)*t.k,y:(t.y/t.k-e.y/e.k)*t.k}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),o=n(a),s=i(1),c=n(s),u=i(9),d=n(u),l=i(4),f=n(l),p=i(8),h=i(41),m=n(h),g=i(30),y=n(g),v=i(191),_=i(28);t.default={name:"images",data:function(){return{stage:null,layer:null,imageCache:[],scaleX:null,scaleY:null,rwuXtoPx:null,rwuYtoPx:null,debouncedRenderImages:null,transformAtLastRender:null}},mounted:function(){this.debouncedRenderImages=f.default.debounce(this.renderImages,10),y.default.$on("resize",this.renderImages),y.default.$on("zoomStabilized",this.renderImages),window.addEventListener("resize",this.renderImages),this.renderImages()},beforeDestroy:function(){y.default.$off("resize",this.renderImages),y.default.$off("zoomStabilized",this.renderImages),window.removeEventListener("resize",this.renderImages)},methods:{renderImages:function(){this.imageCache=JSON.parse((0,d.default)(this.images)),this.stage=new v.Stage({container:"images",width:document.getElementById("canvas").clientWidth,height:document.getElementById("canvas").clientHeight}),this.transformAtLastRender=(0,c.default)({},this.transform),this.rwuXtoPx=_.scaleLinear().domain([this.view.min_x,this.view.max_x]).range([0,this.$refs.images.clientWidth]),this.rwuYtoPx=_.scaleLinear().domain([this.view.min_y,this.view.max_y]).range([this.$refs.images.clientHeight,0]),this.layer=new v.Layer,this.stage.add(this.layer),this.images.forEach(this.renderImage),this.scaleAndPlaceStage()},renderImage:function(e){var t=this,i=e.width*this.pxPerRWU,n=e.height*this.pxPerRWU,r=new v.Group({x:this.rwuXtoPx(e.x),y:this.rwuYtoPx(e.y),offset:{x:i/2,y:n/2},draggable:"Drag"===this.currentTool}),a=new v.Image({x:0,y:0,width:i,height:n,opacity:e.opacity,name:"image",stroke:"#6AAC15",strokeWidth:3,strokeEnabled:"Drag"===this.currentTool&&this.currentImage&&this.currentImage.id===e.id}),o=new v.Circle({x:i/2,y:n/2,radius:3,name:"center"});r.imageId=e.id,this.layer.add(r),r.add(a).add(o).setZIndex(e.id).rotation(e.r);var s=new Image;s.onload=function(){a.image(s),t.layer.draw()},s.src=e.src,"Drag"===this.currentTool&&(this.initRotation(r),this.initResize(r)),r.on("click",function(){t.currentImage=e}),r.on("dragend",function(){t.currentImage=e;var i=a.size().width,n=a.size().height,s=r.rotation(),c=o.getAbsolutePosition(t.layer).x,u=o.getAbsolutePosition(t.layer).y;t.$store.dispatch("models/updateImageWithData",{image:e,x:t.rwuXtoPx.invert(c),y:t.rwuYtoPx.invert(u),r:s,width:i/t.pxPerRWU,height:n/t.pxPerRWU})})},initRotation:function(e){var t=this,i=e.get(".center")[0],n=new v.Circle({radius:6,name:"rotateAnchorCircle",stroke:m.default.config.palette.neutral,strokeWidth:2}),r=new v.Line({stroke:m.default.config.palette.neutral,strokeWidth:2,name:"rotateAnchorLine"}),a=n.clone({name:"rotateAnchor",draggable:!0,strokeEnabled:!1});e.add(n).add(r).add(a),r.setZIndex(-10),a.on("dragmove",function(){var t=a.position(),n=t.x,r=t.y,o=i.position(),s=o.x,c=o.y,u=270+e.rotation(),d=180/Math.PI,l=d*Math.atan((r-c)/(n-s)),f=u+l;n<s&&(f-=180),e.rotation(f%360)}),a.on("dragend",function(){n.setRadius(6),a.position(n.position()),t.layer.draw()}),a.on("dragstart mouseover mousedown",function(){document.body.style.cursor="pointer",n.setRadius(10),t.layer.draw()}),a.on("mouseout",function(){document.body.style.cursor="default",n.setRadius(6),t.layer.draw()})},initResize:function(e){var t=e.get(".image")[0].size(),i=t.width,n=t.height;this.addResizeAnchor(e,0,0,"topLeft"),this.addResizeAnchor(e,i,0,"topRight"),this.addResizeAnchor(e,i,n,"bottomRight"),this.addResizeAnchor(e,0,n,"bottomLeft"),this.redrawAnchors(e)},redrawAnchors:function(e){var t=e.get(".image")[0],i=e.get(".center")[0],n=e.get(".rotateAnchor")[0],r=e.get(".rotateAnchorCircle")[0],a=e.get(".rotateAnchorLine")[0],o=t.position(),s=t.size(),c=s.width,u=s.height;i.position({x:o.x+c/2,y:o.y+u/2}),r.position({x:o.x+c/2,y:o.y+1.25*u}),n.position({x:o.x+c/2,y:o.y+1.25*u}),a.points([r.getX(),r.getY(),i.getX(),i.getY()]),e.draw()},addResizeAnchor:function(e,t,i,n){var r=this,a=new v.Circle({x:t,y:i,fill:m.default.config.palette.neutral,radius:3,name:n,draggable:!0});a.on("dragmove",function(){var t=e.get(".topLeft")[0],i=e.get(".topRight")[0],n=e.get(".bottomRight")[0],o=e.get(".bottomLeft")[0],s=a.position(),c=s.x,u=e.get(".image")[0],d=r.images.find(function(t){return t.id===e.imageId}),l=d.width/d.height,f=i.getX()-t.getX(),p=f/l,h=void 0;switch(a.getName()){case"topLeft":t.position({x:c,y:n.getY()-p}),i.setY(n.getY()-p),o.setX(c),h={x:n.getX()-f,y:n.getY()-p};break;case"topRight":t.setY(n.getY()-p),i.setY(n.getY()-p),n.setX(c),h={x:o.getX(),y:o.getY()-p};break;case"bottomRight":i.setX(c),n.position({x:c,y:p}),o.setY(p),h=u.position();break;case"bottomLeft":t.setX(c),n.setY(p),o.position({x:c,y:p}),h={x:i.getX()-f,y:i.getY()}}u.size({width:f,height:p}).position(h),r.redrawAnchors(e)}),a.on("mouseover",function(){document.body.style.cursor="pointer",a.setRadius(6).draw()}),a.on("mouseout",function(){document.body.style.cursor="default",a.setRadius(3).draw()}),e.add(a)},scaleAndPlaceStage:function(){var e=r(this.transformAtLastRender,this.transform);this.stage.scale({x:e.k,y:e.k}).position({x:e.x,y:e.y}).draw()},rwuToPx:function(e,t){var i=void 0;return"x"===t?i=_.scaleLinear().range([0,this.$refs.images.clientWidth]).domain([this.view.min_x,this.view.max_x]):"y"===t&&(i=_.scaleLinear().range([this.$refs.images.clientHeight,0]).domain([this.view.min_y,this.view.max_y])),i(e)}},computed:(0,c.default)({},(0,p.mapGetters)({currentStory:"application/currentStory"}),(0,p.mapState)({currentTool:function(e){return e.application.currentSelections.tool},view:function(e){return e.project.view},pixelWidth:function(e){return e.application.scale.x.pixels},pixelHeight:function(e){return e.application.scale.y.pixels}}),{images:function(){return this.currentStory.images},pxPerRWU:function(){return(this.rwuXtoPx(100)-this.rwuXtoPx(0))/100},currentImage:{get:function(){return this.$store.getters["application/currentImage"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},transform:{get:function(){return this.$store.state.project.transform},set:function(e){this.$store.dispatch("project/setTransform",e)}}}),watch:{images:{handler:function(e){var t=this;if(e.length!==this.imageCache.length)return void this.renderImages();var i=["height","width","x","y","r"];e.forEach(function(e,n){var r=t.imageCache[n];(0,o.default)(e).forEach(function(n){e[n]!==r[n]&&i.indexOf(n)===-1&&t.renderImages()})})},deep:!0},currentImage:function(){this.renderImages()},pixelWidth:function(){this.debouncedRenderImages()},pixelHeight:function(){this.debouncedRenderImages()},transform:function(){this.scaleAndPlaceStage()},currentTool:function(){this.renderImages()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(31),c=i(210),u=n(c),d=i(188)("AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8",["places"]),l=i(192),f=i(28);t.default={name:"map",data:function(){return{view:null,map:null,autocomplete:null,mapModalVisible:!window.api||window.api.config.showMapDialogOnStart,showGrid:!1}},mounted:function(){this.showGrid=this.gridVisible,this.initAutoComplete(),this.loadMap(),s.ResizeEvents.$on("resize",this.updateMapView)},beforeDestroy:function(){s.ResizeEvents.$off("resize",this.updateMapView)},methods:{initAutoComplete:function(){var e=this;d().then(function(t){var i=new t.places.Autocomplete(e.$refs.addressSearch);i.addListener("place_changed",function(){
var t=i.getPlace();t.geometry&&(e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng())})})},loadMap:function(){this.$refs.map.innerHTML="",this.view=new l.View,this.map=new l.Map({layers:[new l.layer.Tile({source:new l.source.OSM})],target:"map",view:this.view}),this.updateMapView()},updateMapView:function(){this.map.updateSize();var e=(this.min_x+this.max_x)/2,t=(this.min_y+this.max_y)/2,i=(this.max_x-this.min_x)/this.$refs.map.clientWidth;if("ft"===this.units){var n=l.proj.METERS_PER_UNIT["us-ft"];i*=n,e*=n,t*=n}var r=l.proj.fromLonLat([this.longitude,this.latitude]),a=e*Math.cos(this.rotation)-t*Math.sin(this.rotation),o=t*Math.cos(this.rotation)+e*Math.sin(this.rotation);if(this.view.getCenter()){var s=1/l.proj.getPointResolution(this.view.getProjection(),1,this.view.getCenter());i*=s,a*=s,o*=s}r[0]+=a,r[1]+=o,this.view.setResolution(i),this.view.setCenter(r),this.view.setRotation(this.rotation)},finishSetup:function(){var e=l.proj.transform(this.view.getCenter(),"EPSG:3857","EPSG:4326");this.longitude=e[0],this.latitude=e[1],this.rotation=this.view.getRotation(),this.$store.dispatch("project/setMapInitialized",{initialized:!0}),this.tool="Rectangle",f.select("#reticle").remove(),this.gridVisible=this.showGrid},showReticle:function(){if("Map"===this.tool){this.gridVisible=!1;var e=100,t=this.$refs.map.clientWidth/2,i=this.$refs.map.clientHeight/2;f.select("#reticle").selectAll("#reticle path").data([[{x:t,y:i-e},{x:t,y:i+e}],[{x:t-e,y:i},{x:t+e,y:i}]]).enter().append("path").attr("stroke-width","1").attr("stroke","gray").attr("d",f.line().x(function(e){return e.x}).y(function(e){return e.y}))}}},computed:(0,a.default)({},(0,o.mapState)({projectView:function(e){return e.project.view},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x},min_y:function(e){return e.project.view.min_y},max_y:function(e){return e.project.view.max_y},units:function(e){return e.project.config.units},mapInitialized:function(e){return e.project.map.initialized}}),{gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},latitude:{get:function(){return this.$store.state.project.map.latitude},set:function(e){this.$store.dispatch("project/setMapLatitude",{latitude:e})}},longitude:{get:function(){return this.$store.state.project.map.longitude},set:function(e){this.$store.dispatch("project/setMapLongitude",{longitude:e})}},rotation:{get:function(){return this.$store.state.project.map.rotation},set:function(e){this.$store.dispatch("project/setMapRotation",{rotation:e})}}}),watch:{units:function(){this.updateMapView()},latitude:function(){this.updateMapView()},longitude:function(){this.updateMapView()},rotation:function(){this.updateMapView()},projectView:{handler:function(){this.updateMapView()},deep:!0}},components:{MapModal:u.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(23),c=i(93),u=n(c),d=i(10),l=n(d),f=i(11),p=n(f),h=i(41),m=n(h),g=i(31),y=i(28);t.default={name:"grid",data:function(){return{points:[],axis:{x:null,y:null},axis_generator:{x:null,y:null},handleMouseMove:null}},mounted:function(){this.handleMouseMove=(0,s.throttle)(this.highlightSnapTarget,100),this.renderGrid(),this.renderGrid=(0,s.debounce)(this.renderGrid,5),this.$refs.grid.addEventListener("reloadGrid",this.reloadGridAndScales),window.addEventListener("keyup",this.escapeAction),window.addEventListener("resize",this.reloadGridAndScales),g.ResizeEvents.$on("resize",this.reloadGridAndScales)},beforeDestroy:function(){this.$refs.grid.removeEventListener("reloadGrid",this.reloadGridAndScales),window.removeEventListener("keyup",this.escapeAction),window.removeEventListener("resize",this.reloadGridAndScales),g.ResizeEvents.$off("resize",this.reloadGridAndScales)},computed:(0,a.default)({},(0,o.mapState)({currentMode:function(e){return e.application.currentSelections.mode},currentTool:function(e){return e.application.currentSelections.tool},snapMode:function(e){return e.application.currentSelections.snapMode},previousStoryVisible:function(e){return e.project.previous_story.visible},gridVisible:function(e){return e.project.grid.visible},units:function(e){return e.project.config.units},spacing:function(e){return e.project.grid.spacing},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),(0,o.mapGetters)({currentStory:"application/currentStory",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}),{currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},min_x:{get:function(){return this.$store.state.project.view.min_x},set:function(e){this.$store.dispatch("project/setViewMinX",{min_x:e})}},min_y:{get:function(){return this.$store.state.project.view.min_y},set:function(e){this.$store.dispatch("project/setViewMinY",{min_y:e})}},max_x:{get:function(){return this.$store.state.project.view.max_x},set:function(e){this.$store.dispatch("project/setViewMaxX",{max_x:e})}},max_y:{get:function(){return this.$store.state.project.view.max_y},set:function(e){this.$store.dispatch("project/setViewMaxY",{max_y:e})}},transform:{get:function(){return this.$store.state.project.transform},set:function(e){this.$store.dispatch("project/setTransform",e)}},previousStory:function(){var e=this,t=this.$store.state.models.stories.findIndex(function(t){return t===e.currentStory});return 0===t?null:this.$store.state.models.stories[t-1]},previousStoryGeometry:function(){var e=this;return this.previousStory?this.$store.state.geometry.find(function(t){return t.id===e.previousStory.geometry_id}):null},previousStoryPolygons:function(){return this.previousStoryVisible&&this.previousStoryGeometry?this.polygonsFromGeometry(this.previousStoryGeometry,{previous_story:!0}):[]},polygons:function(){var e=this.polygonsFromGeometry(this.currentStoryGeometry);return this.previousStoryPolygons?this.previousStoryPolygons.concat(e):e}}),watch:{gridVisible:function(){this.showOrHideAxes()},spacing:function(){this.updateGrid()},currentMode:function(){this.drawPolygons()},polygons:function(){this.drawPolygons()},currentTool:function(){this.points=[],this.drawPolygons()},currentSpace:function(){this.points=[],this.drawPolygons()},currentShading:function(){this.points=[],this.drawPolygons()},points:function(){0===this.points.length&&this.eraseGuidelines(),this.drawPoints()},transform:function(e,t){e.k<.5?y.select("#svg-grid").selectAll(".polygon-text").style("display","none"):y.select("#svg-grid").selectAll(".polygon-text").style("display","initial"),this.points.length&&(e.k!==t.k||Math.abs(t.y-e.y)>3||Math.abs(t.x-e.x)>3)&&(this.points=[])}},methods:(0,a.default)({},u.default,{polygonsFromGeometry:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l.default.denormalize(e),r=n.faces.map(function(e){var n=p.default.modelForFace(t.$store.state.models,e.id),r=e.vertices.slice(0,-1),o=(0,a.default)({face_id:e.id,name:n.name,color:n.color,points:r,labelPosition:t.polygonLabelPosition(r)},i);if(!r.length)return null;if("space"===n.type)if("thermal_zones"===t.currentMode){var s=p.default.libraryObjectWithId(t.$store.state.models,n.thermal_zone_id);o.color=s?s.color:m.default.config.palette.neutral}else if("space_types"===t.currentMode){var c=p.default.libraryObjectWithId(t.$store.state.models,n.space_type_id);o.color=c?c.color:m.default.config.palette.neutral}else if("building_units"===t.currentMode){var u=p.default.libraryObjectWithId(t.$store.state.models,n.building_unit_id);o.color=u?u.color:m.default.config.palette.neutral}return o});return _.compact(r)}})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(10),c=n(s);t.default={name:"inspector",data:function(){return{geometryInspector:!0,storyInspector:!1}},methods:{startpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var i=this.vertexForId(t.v2);return"v2 "+i.id+" ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return"v1 "+n.id+" ("+n.x+", "+n.y+")"},endpoint:function(e){var t=this.edgeForId(e.edge_id);if(!e.reverse){var i=this.vertexForId(t.v2);return i.id+" (v2) ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return n.id+" (v1) ("+n.x+", "+n.y+")"},edgeForId:function(e){return c.default.edgeForId(e,this.currentStoryGeometry)},vertexForId:function(e){return c.default.vertexForId(e,this.currentStoryGeometry)}},computed:(0,a.default)({},(0,o.mapGetters)({currentStory:"application/currentStory",currentSubSelectionFace:"application/currentSubSelectionFace",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(9),s=n(o),c=i(1),u=n(c),d=i(8),l=i(23),f=i(11),p=n(f),h=i(30),m=n(h),g=i(42),y=n(g),v=i(189),x=void 0,b=8;t.default={name:"library",data:function(){return{search:"",sortKey:"id",sortDescending:!0,type:null,huebs:{}}},mounted:function(){this.type=this.mode,x=document.getElementById("layout-library").offsetTop,this.configurePickers(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)},computed:(0,u.default)({},(0,d.mapState)({mode:function(e){return e.application.currentSelections.mode},stories:function(e){return e.models.stories}}),(0,d.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.type){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.type){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}},extendedLibrary:function(){for(var e=[],t=[],i=[],n=0;n<this.$store.state.models.stories.length;n++)e=e.concat(this.$store.state.models.stories[n].spaces),t=t.concat(this.$store.state.models.stories[n].shading),i=i.concat(this.$store.state.models.stories[n].images);return JSON.parse((0,s.default)((0,u.default)({},this.$store.state.models.library,{stories:this.$store.state.models.stories,spaces:e,shading:t,images:i})))},displayObjects:function(){var e=this;return(this.extendedLibrary[this.type]||[]).filter(function(t){return(0,a.default)(t).some(function(i){var n=String(e.valueForKey(t,i)).toLowerCase();return n.includes(e.search.toLowerCase())})}).sort(function(t,i){return t[e.sortKey]===i[e.sortKey]?0:e.sortDescending?t[e.sortKey]>i[e.sortKey]?-1:1:t[e.sortKey]<i[e.sortKey]?-1:1})},columns:function(){if(this.type&&y.default[this.type])return _.map(_.reject(y.default[this.type].columns,"private"),"name")}}),methods:{resizeBarClicked:function(){var e=function(e){var t=e.clientY+b>window.innerHeight?window.innerHeight-b:e.clientY;document.getElementById("layout-library").style.top=t+"px",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(e){e.style.bottom=window.innerHeight-t+"px"}),m.default.$emit("resize")},t=function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},showHide:function(){var e=document.getElementById("layout-library").offsetTop===window.innerHeight-b?x:window.innerHeight-b;document.getElementById("layout-library").style.top=e+"px",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(t){t.style.bottom=window.innerHeight-e+"px"}),m.default.$emit("resize")},resetSize:function(){document.getElementById("layout-library").style.top="",(0,l.getSiblings)(document.getElementById("layout-library")).forEach(function(e){e.style.bottom=""}),x=document.getElementById("layout-library").offsetTop},configurePickers:function(){for(var e=this,t=document.querySelectorAll(".input-color > input"),i=function(i){var n=t[i].getAttribute("object-id");e.huebs[n]=new v(t[i],{saturations:1}),e.huebs[n].handler=function(t){var i=p.default.libraryObjectWithId(e.$store.state.models,n);e.setValueForKey(i,"color",t)},e.huebs[n].on("change",e.huebs[n].handler)},n=0;n<t.length;n++)i(n)},valueForKey:function(e,t){return p.default.valueForKey(e,this.$store.state,this.type,t)},setValueForKey:function(e,t,i){var n=p.default.setValueForKey(e,this.$store,this.type,t,i);n.success||window.eventBus.$emit("error",n.error)},inputTypeForKey:function(e){return p.default.inputTypeForKey(this.type,e)},selectOptionsForObjectAndKey:function(e,t){return p.default.selectOptionsForKey(e,this.$store.state,this.type,t)},createObject:function(){switch(this.type){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"images":window.eventBus.$emit("uploadImage");break;default:this.$store.dispatch("models/createObjectWithType",{type:this.type})}this.displayObjects.length&&(this.selectedObject=this.displayObjects[this.displayObjects.length-1])},destroyObject:function(e){var t=this;switch(this.type){case"stories":return void this.$store.dispatch("models/destroyStory",{story:e});case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;default:this.$store.dispatch("models/destroyObject",{object:e})}},displayTypeForType:function(e){return p.default.map[e].displayName},displayNameForKey:function(e){return p.default.displayNameForKey(this.type,e)},sortBy:function(e){this.sortDescending=this.sortKey!==e||!this.sortDescending,this.sortKey=e}},watch:{displayObjects:function(){this.$nextTick(this.configurePickers)},type:function(){this.search="",this.sortKey="id",this.sortDescending=!0},selectedObject:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MapModal",data:function(){return{address:""}},computed:{online:function(){return!window.api||!window.api.config||window.api.config.online},mapEnabled:{get:function(){return this.$store.state.project.map.enabled},set:function(e){this.$store.dispatch("project/setMapEnabled",{enabled:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}}},methods:{importFloorplanAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){t.importFloorplan(n.result)},!1),i&&n.readAsText(i)},importFloorplan:function(e){this.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)}),this.$emit("close")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r);t.default={name:"save-as-modal",props:["saveWhat","dataToDownload","onClose"],mounted:function(){this.$refs.downloadName.focus()},methods:{downloadFile:function(){var e=document.createElement("a");e.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent((0,a.default)(this.dataToDownload))),e.setAttribute("download",this.$refs.downloadName.value+".json"),e.click(),console.log("exporting:\n"+(0,a.default)(this.dataToDownload)),this.close()},close:function(){this.onClose()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(23),c=i(41),u=n(c),d=i(11),l=n(d),f=i(30),p=n(f),h=void 0,m=8;t.default={name:"navigation",mounted:function(){this.selectedObject=this.items[0],h=document.getElementById("layout-navigation").offsetWidth,window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)},computed:(0,a.default)({},(0,o.mapState)({modes:function(e){return e.application.modes},stories:function(e){return e.models.stories},building_units:function(e){return e.models.library.building_units},space_types:function(e){return e.models.library.space_types},thermal_zones:function(e){return e.models.library.thermal_zones},max_x:function(e){return e.project.view.max_x},max_y:function(e){return e.project.view.max_y},min_x:function(e){return e.project.view.min_x},min_y:function(e){return e.project.view.min_y}}),(0,o.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e?e.id:null})}},spaces:function(){return this.currentStory.spaces},shading:function(){return this.currentStory.shading},images:function(){return this.currentStory.images},items:function(){return this[this.mode]},mode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.mode){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.mode){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}}}),methods:{resizeBarClicked:function(){var e=function(e){var t=e.clientX>m?e.clientX:m;document.getElementById("layout-navigation").style.width=t+"px",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(e){e.style.left=t+"px"}),p.default.$emit("resize")},t=function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},showHide:function(){var e=document.getElementById("layout-navigation").offsetWidth===m?h:m;document.getElementById("layout-navigation").style.width=e+"px",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(t){t.style.left=e+"px"}),p.default.$emit("resize")},resetSize:function(){document.getElementById("layout-navigation").style.width="",(0,s.getSiblings)(document.getElementById("layout-navigation")).forEach(function(e){e.style.left=""}),h=document.getElementById("layout-navigation").offsetWidth},uploadImage:function(e){for(var t=e.target.files,i=this,n=function(e){var n=t[e],r=new FileReader;r.addEventListener("load",function(){var e=new Image;e.onload=function(){var t=document.getElementById("grid").clientWidth/(i.max_x-i.min_x),n=e.height/t/4,r=e.width/t/4;i.$store.dispatch("models/createImageForStory",{story_id:i.currentStory.id,src:e.src,name:l.default.generateName(i.$store.state.models,"images",i.currentStory),height:n,width:r,x:i.min_x+r/2,y:i.max_y-n/2}),i.$refs.fileInput.value=""},e.src=r.result},!1),n&&r.readAsDataURL(n)},r=0;r<t.length;r++)n(r)},createItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;switch(e){case"stories":return this.$store.dispatch("models/initStory"),void this.setCurrentItem();case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/createObjectWithType",{type:e})}this.selectItem(this.items[this.items.length-1],e)},destroyItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!(this[t].length<=1)||"stories"!==t&&"spaces"!==t){switch(t){case"stories":this.$store.dispatch("models/destroyStory",{story:e}),this.setCurrentItem();break;case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.currentStory});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.currentStory});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/destroyObject",{object:e})}this.setCurrentItem()}},selectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;switch(t){case"stories":this.currentStory=e,this.setCurrentItem();break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}},setCurrentItem:function(){!this.items.length||this.selectedObject&&_.includes(_.map(this.items,"id"),this.selectedObject.id)||(this.selectedObject=this.items[0])},displayNameForMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;return u.default.displayNameForMode(e)}},watch:{mode:function(){this.setCurrentItem()},selectedObject:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}},currentStory:function(e){if(e){var t=this.$el.querySelector('[data-id="'+e.id+'"]');t&&t.scrollIntoView()}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=i(211),c=n(s);t.default={name:"toolbar",data:function(){return{showSaveModal:!1,thingWereSaving:""}},methods:{exportData:function(){this.thingWereSaving="Floorplan",this.showSaveModal=!0;var e=this.$store.getters.exportData;return e},importDataAsFile:function(e,t){var i=this,n=e.target.files[0],r=new FileReader;r.addEventListener("load",function(){var e=void 0;try{e=JSON.parse(r.result)}catch(e){return void window.eventBus.$emit("error","Invalid JSON")}"library"===t?i.$store.dispatch("importLibrary",{data:e}):"floorplan"===t&&i.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:e})},!1),n&&r.readAsText(n)},undo:function(){this.$store.timetravel.undo()},redo:function(){this.$store.timetravel.redo()},updateUnits:function(){this.allowSettingUnits?this.rwUnits=this.$refs.unitSelect.value:(window.eventBus.$emit("error","Units must be set before any geometry is drawn."),this.$refs.unitSelect.value=this.rwUnits)}},computed:(0,a.default)({},(0,o.mapState)({currentMode:function(e){return e.application.currentSelections.mode},mapEnabled:function(e){return e.project.map.enabled},timetravelInitialized:function(e){return e.timetravelInitialized},showImportExport:function(e){return e.project.showImportExport},allowSettingUnits:function(e){return 1===e.geometry.length&&0===e.geometry[0].vertices.length}}),{availableTools:function(){var e=this;return this.$store.state.application.tools.filter(function(t){return"Rectangle"===t||"Polygon"===t||"Eraser"===t||"Select"===t?"spaces"===e.currentMode||"shading"===e.currentMode:"Drag"===t||"Pan"===t?"images"===e.currentMode:"Fill"!==t||e.previousStoryVisible&&("spaces"===e.currentMode||"shading"===e.currentMode)}).filter(function(e){return"Map"!==e})},northAxis:{get:function(){return this.$store.state.project.config.north_axis+"°"},set:function(e){this.$store.dispatch("project/setNorthAxis",{north_axis:e})}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},mapVisible:{get:function(){return this.$store.state.project.map.visible},set:function(e){this.$store.dispatch("project/setMapVisible",{visible:e})}},previousStoryVisible:{get:function(){return this.$store.state.project.previous_story.visible},set:function(e){this.$store.dispatch("project/setPreviousStoryVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},spacing:{get:function(){return this.$store.state.project.grid.spacing},set:function(e){this.$store.dispatch("project/setSpacing",{spacing:e})}},rwUnits:{get:function(){return this.$store.state.project.config.units},set:function(e){this.$store.dispatch("project/setUnits",{units:e})}},snapMode:{get:function(){return this.$store.state.application.currentSelections.snapMode},set:function(e){this.$store.dispatch("application/setCurrentSnapMode",{snapMode:e})}},dataToDownload:function(){return this.$store.getters.exportData}}),watch:{tool:function(e){this.availableTools.indexOf(e)===-1&&"Map"!==e&&(this.tool=this.availableTools[0])},currentMode:function(){this.tool=this.availableTools[0]}},components:{"save-as-modal":c.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return g.default.range(Math.ceil(e/i)*i,t,i)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(67),c=n(s),u=i(1),d=n(u),l=i(66),f=n(l),p=i(19),h=n(p),m=i(4),g=n(m),y=i(94),v=i(10),_=n(v),x=i(11),b=n(x),w=i(31),S=i(28),M=i(193);t.default={gridClicked:function(){"Eraser"!==this.currentTool&&("Rectangle"!==this.currentTool&&"Polygon"!==this.currentTool||!this.currentSpace&&!this.currentShading)||this.addPoint()},addPoint:function(){var e=S.mouse(this.$refs.grid),t={x:e[0],y:e[1]},i=this.findSnapTarget(t);if("vertex"===i.type&&i.origin&&"Polygon"===this.currentTool)return void this.savePolygonFace();var n="edge"===i.type?i.projection:i;this.points.push(n),"Eraser"===this.currentTool&&2===this.points.length&&this.eraseRectangularSelection(),"Rectangle"===this.currentTool&&2===this.points.length&&this.saveRectuangularFace()},highlightSnapTarget:function(e){if("Eraser"===this.currentTool||("Rectangle"===this.currentTool||"Polygon"===this.currentTool)&&(this.currentSpace||this.currentShading)){S.selectAll("#grid .highlight, #grid .gridpoint").remove();var t=S.mouse(this.$refs.grid),i={x:t[0],y:t[1]},n=this.findSnapTarget(i),r="edge"===n.type?n.projection:n,a=n.synthetic?n.originalPt:r;this.drawGuideLines(e,r),"edge"===n.type||"vertex"===n.type?S.select("#grid svg").append("ellipse").attr("cx",a.x,"x").attr("cy",a.y,"y").attr("rx",5).attr("ry",5).classed("highlight",!0).attr("vector-effect","non-scaling-stroke"):S.select("#grid svg").append("ellipse").attr("cx",a.x).attr("cy",a.y).attr("rx",2).attr("ry",2).classed("gridpoint",!0).attr("vector-effect","non-scaling-stroke"),"edge"===n.type&&"Eraser"!==this.currentTool&&S.select("#grid svg").append("line").attr("x1",n.v1GridCoords.x).attr("y1",n.v1GridCoords.y).attr("x2",n.v2GridCoords.x).attr("y2",n.v2GridCoords.y).attr("stroke-width",1).classed("highlight",!0).attr("vector-effect","non-scaling-stroke")}},drawGuideLines:function(e,t){var i=this;if(this.points.length){this.eraseGuidelines();var n,r;"Polygon"===this.currentTool?(n=[t,this.points[this.points.length-1]],r=[n]):"Rectangle"!==this.currentTool&&"Eraser"!==this.currentTool||(n=[this.points[0],{x:t.x,y:this.points[0].y},t,{x:this.points[0].x,y:t.y},this.points[0]],r=[[n[0],n[1]],[n[1],n[2]]]);var a="Polygon"===this.currentTool?[].concat((0,h.default)(this.points),[t,this.points[0]]):n,o=[a,this.points],s=S.select("#grid svg");if(s.selectAll(".guideline-line").append("path").datum(n).attr("fill","none").classed("guideline guideline-line",!0).attr("vector-effect","non-scaling-stroke").attr("d",S.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),s.selectAll(".guideline-area").data(o).enter().append("polygon").attr("points",function(e){return e.map(function(e){return[e.x,e.y].join(",")}).join(" ")}).classed("guideline guideline-area guideLine",!0).attr("vector-effect","non-scaling-stroke").attr("fill",function(){return"Eraser"===i.currentTool?"none":i.currentSpace?i.currentSpace.color:i.currentShading?i.currentShading.color:void 0}),"Eraser"!==this.currentTool){if(s.selectAll(".guideline-text").data(r).enter().append("text").attr("x",function(e){return e[0].x+(e[1].x-e[0].x)/2}).attr("y",function(e){return e[0].y+(e[1].y-e[0].y)/2}).attr("dx",-1.25*(this.transform.k>1?1:this.transform.k)+"em").text(function(e){var t=i.distanceBetweenPoints({x:i.gridToRWU(e[0].x,"x"),y:i.gridToRWU(e[0].y,"y")},{x:i.gridToRWU(e[1].x,"x"),y:i.gridToRWU(e[1].y,"y")});return t?t.toFixed(2):""}).classed("guideline guideline-text guideline-dist",!0).attr("font-family","sans-serif").attr("fill","red").style("font-size","1em"),a.length>3){var c=a.map(function(e){var t=i.gridToRWU(e.x,"x"),n=i.gridToRWU(e.y,"y");return{x:t,y:n,X:t,Y:n}}),u=this.polygonLabelPosition(c),d=u.x,l=u.y,f=u.area,p=f?f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";if(p+=" "+this.units+"²",null===d||null===l)return;s.append("text").attr("x",this.rwuToGrid(d,"x")).attr("y",this.rwuToGrid(l,"y")).text(p).classed("guideline guideline-text guideline-area-text guideLine",!0).attr("text-anchor","middle").attr("font-family","sans-serif").attr("fill","red").style("font-size","1em").raise();
}S.selectAll(".vertical, .horizontal").lower()}}},eraseGuidelines:function(){S.selectAll("#grid .guideline").remove()},escapeAction:function(e){"Escape"!==e.code&&27!==e.which||(this.points=[])},savePolygonFace:function(){var e=this,t={points:this.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}})};this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},saveRectuangularFace:function(){var e=this,t={};t.points=[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}].map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},eraseRectangularSelection:function(){var e=this,t={points:[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}]};t.points=t.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.$store.dispatch("geometry/eraseSelection",t),this.points=[]},drawPoints:function(){S.selectAll("#grid ellipse, #grid path").remove(),S.select("#grid svg").selectAll("ellipse").data(this.points).enter().append("ellipse").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("rx",2).attr("ry",2).attr("vector-effect","non-scaling-stroke"),S.select("#grid svg").select("ellipse").attr("rx",7).attr("ry",7).classed("origin",!0).attr("vector-effect","non-scaling-stroke").attr("fill","none"),S.select("#grid svg").append("path").datum(this.points).attr("fill","none").attr("vector-effect","non-scaling-stroke").attr("d",S.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),S.selectAll(".vertical, .horizontal").lower()},registerDrag:function(){var e=S.select("#grid svg").selectAll("polygon");this.deregisterD3Events(e),"Select"===this.currentTool?this.registerSelectEvents(e):"Fill"===this.currentTool&&this.registerFillEvents(e)},deregisterD3Events:function(e){e.on(".drag",null).on("click",null)},registerFillEvents:function(e){var t=this;e.on("click",function(e){(t.currentSpace||t.currentShading)&&(t.points=e.points.map(function(e){return{x:t.rwuToGrid(e.x,"x"),y:t.rwuToGrid(e.y,"y")}}),t.savePolygonFace())})},registerSelectEvents:function(e){var t=this,i=void 0,n=void 0,r=S.drag().on("start",function(e){var r=S.mouse(t.$refs.grid),a=(0,f.default)(r,2);i=a[0],n=a[1],e.previous_story||(t.currentSubSelection=b.default.modelForFace(t.$store.state.models,e.face_id))}).on("drag",function(e){if(!e.previous_story){var r=S.mouse(t.$refs.grid),a=(0,f.default)(r,2),o=a[0],s=a[1];S.select("#poly-"+e.face_id).attr("transform",function(){return"translate("+(o-i)+", "+(s-n)+")"})}}).on("end",function(e){if(!e.previous_story){var r=S.mouse(t.$refs.grid),a=(0,f.default)(r,2),o=a[0],s=a[1];t.$store.dispatch("geometry/moveFaceByOffset",{face_id:e.face_id,dx:t.gridToRWU(o,"x")-t.gridToRWU(i,"x"),dy:t.gridToRWU(s,"y")-t.gridToRWU(n,"y")})}});e.call(r)},drawPolygons:function(){var e=this;this.recalcScales();var t=S.select("#grid svg").selectAll("g.poly").data(this.polygons,function(e){return e.face_id});t.exit().remove();var i=t.enter().append("g").attr("class","poly");i.append("polygon"),i.append("text").attr("class","polygon-text"),t=i.merge(t).attr("class",function(t){return e.currentSpace&&t.face_id===e.currentSpace.face_id||e.currentShading&&t.face_id===e.currentShading.face_id?"current":t.previous_story?"previousStory":null}).classed("poly",!0).attr("id",function(e){return"poly-"+e.face_id}).attr("transform",null),t.select("polygon").attr("id",function(e){return"face-"+e.face_id}).attr("points",function(t){return t.points.map(function(t){return[e.rwuToGrid(t.x,"x"),e.rwuToGrid(t.y,"y")].join(",")}).join(" ")}).attr("fill",function(e){return e.color}).attr("vector-effect","non-scaling-stroke"),t.select("text").attr("id",function(e){return"text-"+e.face_id}).attr("x",function(t){return e.rwuToGrid(t.labelPosition.x,"x")}).attr("y",function(t){return e.rwuToGrid(t.labelPosition.y,"y")}).text(function(e){return e.name}).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").attr("font-family","sans-serif").attr("fill","red").classed("polygon-text",!0),this.registerDrag(),S.select(".current").raise()},findSnapTarget:function(e){var t=this,i={x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")};if("grid-strict"===this.snapMode){var n=this.strictSnapTargets(i)[0];return(0,d.default)({},n,{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y")})}if(event.shiftKey)return(0,d.default)({type:"gridpoint"},e);var r=this.snappingVertexData(i);if(r)return r;var a=this.snappingEdgeData(i);if(a)return a;if(this.gridVisible){var o=+this.axis.x.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[0],s=+this.axis.y.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[1],u=this.rwuToGrid(this.spacing+this.min_x,"x"),l=this.rwuToGrid(this.max_y-this.spacing,"y"),f={type:"gridpoint",x:this.round(e.x,this.rwuToGrid(this.spacing+this.min_x,"x"))+o-.5,y:this.round(e.y,this.rwuToGrid(this.max_y-this.spacing,"y"))+s-.5};return f.x=Math.abs(e.x-(f.x-u))>Math.abs(e.x-f.x)?f.x:f.x-u,f.y=Math.abs(e.y-(f.y-l))>Math.abs(e.y-f.y)?f.y:f.y-l,f}if(this.points.length){var p,h=function(){var i=[-180,-90,0,90,180],n=t.points[t.points.length-1],r=Math.atan2(n.y-e.y,n.x-e.x)*(180/Math.PI);if(i.some(function(i){if(Math.abs(r-i)<t.$store.getters["project/angleTolerance"]){if(i===-180||0===i||180===i)return{x:e.x,y:t.rotatePoint(n,e,i-r).y};if(i===-90||90===i)return{x:t.rotatePoint(n,e,i-r).x,y:e.y}}}),p)return{v:(0,d.default)({type:"gridpoint"},p)}}();if("object"===("undefined"==typeof h?"undefined":(0,c.default)(h)))return h.v}return(0,d.default)({type:"gridpoint"},e)},strictSnapTargets:function(e){var t=[].concat((0,h.default)(this.currentStoryGeometry.vertices),(0,h.default)(this.previousStoryGeometry?this.previousStoryGeometry.vertices:[]));return this.points.length>=3&&"Polygon"===this.currentTool&&t.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),(0,y.snapTargets)(t,this.spacing,e)},snappingVertexData:function(e){var t=this,i=[].concat((0,h.default)(this.currentStoryGeometry.vertices));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.vertices)))),this.points.length>=3&&"Polygon"===this.currentTool&&i.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),1===this.points.length&&"Rectangle"===this.currentTool&&(i=i.concat(_.default.syntheticRectangleSnaps(i,{x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y")},e))),i.length){var n=i.reduce(function(i,n){var r=t.distanceBetweenPoints(i,e),a=t.distanceBetweenPoints(n,e);return r<a?i:n});if(this.distanceBetweenPoints(n,e)<this.$store.getters["project/snapTolerance"]){var r=(0,d.default)({},n,{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y"),type:"vertex"});return r.synthetic&&(r.originalPt.x=this.rwuToGrid(r.originalPt.x,"x"),r.originalPt.y=this.rwuToGrid(r.originalPt.y,"y")),r}}},snappingEdgeData:function(e){var t=this,i=[].concat((0,h.default)(this.currentStoryGeometry.edges));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.edges.map(function(e){return(0,d.default)({},e,{previous_story:!0})}))))),i.length){var n=i.reduce(function(i,n){var r=i.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,a=n.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,o=_.default.vertexForId(i.v1,r),s=_.default.vertexForId(i.v2,r),c=_.default.vertexForId(n.v1,a),u=_.default.vertexForId(n.v2,a),d=_.default.projectionOfPointToLine(e,{p1:o,p2:s}),l=_.default.projectionOfPointToLine(e,{p1:c,p2:u}),f=_.default.distanceBetweenPoints(d,e),p=_.default.distanceBetweenPoints(l,e);return f<p?i:n}),r=n.previous_story?this.previousStoryGeometry:this.currentStoryGeometry,a=_.default.vertexForId(n.v1,r),s=_.default.vertexForId(n.v2,r),c=_.default.projectionOfPointToLine(e,{p1:a,p2:s}),u=this.distanceBetweenPoints(c,e),l=[-180,-90,0,90,180],f=Math.atan2(e.y-c.y,e.x-c.x)*(180/Math.PI);return l.some(function(i){if(Math.abs(f-i)<t.$store.getters["project/angleTolerance"]){var n,r;return 180===i||0===i||i===-180?(n={x:e.x-2*u,y:e.y},r={x:e.x+2*u,y:e.y}):90!==i&&i!==-90||(n={x:e.x,y:e.y-2*u},r={x:e.x,y:e.y+2*u}),c=_.default.ptsAreCollinear(n,a,r)?a:_.default.ptsAreCollinear(n,s,r)?s:_.default.intersectionOfLines(n,r,a,s),!0}return!1}),u<this.$store.getters["project/snapTolerance"]?{snappingEdge:n,dist:n.dist,type:"edge",projection:{x:this.rwuToGrid(c.x,"x"),y:this.rwuToGrid(c.y,"y")},v1GridCoords:{x:this.rwuToGrid(a.x,"x"),y:this.rwuToGrid(a.y,"y")},v2GridCoords:{x:this.rwuToGrid(s.x,"x"),y:this.rwuToGrid(s.y,"y")}}:void 0}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},round:function(e,t){var i,n=e<0?-1:1;return e=Math.abs(e),i=e%t<t/2?e-e%t:e+t-e%t,i*=n},rotatePoint:function(e,t,i){var n=i*Math.PI/180,r=Math.cos(n),a=Math.sin(n),o=t.x-e.x,s=t.y-e.y;return{x:r*o-a*s+e.x,y:a*o+r*s+e.y}},resolveBounds:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight,i=this.max_x-this.min_x,n=this.max_y-this.min_y,r=n*(e/t),a=i*(t/e),o=r-i,s=a-n;o<0?(this.min_x-=o/2,this.max_x+=o/2):(this.min_y-=s/2,this.max_y+=s/2)},nullTransform:function(){S.select(this.$refs.grid).call(this.zoomBehavior.transform,S.zoomIdentity)},renderGrid:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.resolveBounds(),this.$store.dispatch("application/setScaleX",{scaleX:{pixels:e,rwuRange:[this.min_x,this.max_x]}}),this.$store.dispatch("application/setScaleY",{scaleY:{pixels:t,rwuRange:[this.min_y,this.max_y]}}),this.calcGrid(),this.nullTransform(),this.drawPolygons()},reloadGridAndScales:function(){this.zoomXScale=null,this.zoomYScale=null,this.resolveBounds(),this.renderGrid()},recalcScales:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.xScale=S.scaleLinear().domain([this.min_x,this.max_x]).range([0,e]),this.yScale=S.scaleLinear().domain([this.min_y,this.max_y]).range([t,0]),this.zoomXScale=this.zoomXScale||this.xScale.copy(),this.zoomYScale=this.zoomYScale||this.yScale.copy()},calcGrid:function(){var e=this;this.recalcScales();var t=this.$refs.grid.clientWidth,i=this.$refs.grid.clientHeight,n=S.select("#grid svg"),r=1,a="14px";n.attr("height",i).attr("width",t),this.axis.x=n.selectAll("g.axis--x").data([void 0]),this.axis.x=this.axis.x.merge(this.axis.x.enter().append("g").attr("class","axis axis--x")).attr("stroke-width",r).style("font-size",a).style("display",this.gridVisible?"inline":"none"),this.axis.y=n.selectAll("g.axis--y").data([void 0]),this.axis.y=this.axis.y.merge(this.axis.y.enter().append("g").attr("class","axis axis--y")).attr("class","axis axis--y").attr("stroke-width",r).style("font-size",a).style("display",this.gridVisible?"inline":"none"),this.updateGrid(),this.zoomBehavior=S.zoom().scaleExtent([.02,200]).on("zoom",function(){var t=S.event.transform;e.transform=(0,d.default)({},t);var i=t.rescaleX(e.zoomXScale),n=t.rescaleY(e.zoomYScale),r=i.domain(),a=(0,f.default)(r,2);e.min_x=a[0],e.max_x=a[1];var o=n.domain(),s=(0,f.default)(o,2);e.min_y=s[0],e.max_y=s[1],e.axis_generator.x.scale(i),e.axis_generator.y.scale(n),e.updateGrid(),e.padTickY(-12),e.drawPolygons()}).on("end",function(){w.ResizeEvents.$emit("zoomStabilized")}),n.call(this.zoomBehavior),n.on("mousemove",this.handleMouseMove).on("click",this.gridClicked)},showOrHideAxes:function(){this.axis.x.style("visibility",this.gridVisible?"visible":"hidden"),this.axis.y.style("visibility",this.gridVisible?"visible":"hidden")},updateGrid:function(){if(this.axis.x&&this.axis.y){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight,i=this.max_x-this.min_x,n=this.max_y-this.min_y,a=r(this.min_x,this.max_x,this.spacing),o=r(this.min_y,this.max_y,this.spacing);this.reduceTicks=o.length>250||a.length>250,this.axis_generator.x=this.axis_generator.x||S.axisBottom(this.xScale),this.axis_generator.x.tickSize(t).tickPadding(-20).tickFormat(this.reduceTicks?g.default.identity:this.formatTickX.bind(this,Math.floor(10*(e/t)))),this.axis_generator.y=this.axis_generator.y||S.axisRight(this.yScale),this.axis_generator.y.tickSize(e).tickPadding(-25).tickFormat(this.reduceTicks?g.default.identity:this.formatTickY.bind(this,10)),this.reduceTicks?(this.axis_generator.x.tickValues(null).ticks(5*(i/n)),this.axis_generator.y.tickValues(null).ticks(5)):(this.axis_generator.x.ticks(null).tickValues(a),this.axis_generator.y.ticks(null).tickValues(o)),this.axis.y.call(this.axis_generator.y),this.axis.x.call(this.axis_generator.x)}},rwuToGrid:function(e,t){var i=void 0;return"x"===t?i=this.xScale:"y"===t&&(i=this.yScale),i(e)},gridToRWU:function(e,t){var i=void 0;"x"===t?i=this.xScale:"y"===t&&(i=this.yScale);var n=i.invert(e);return Math.round(1e11*n)/1e11},polygonLabelPosition:function(e){var t=[e.map(function(e){return[e.x,e.y]})],i=Math.abs(Math.round(_.default.areaOfSelection(e))),n=i?M(t,1):[null,null],r=(0,f.default)(n,2),a=r[0],o=r[1];return{x:a,y:o,area:i}},formatTickX:function(e,t){var i=this.max_x-this.min_x,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},formatTickY:function(e,t){var i=this.max_y-this.min_y,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},padTickY:function(e){var t=Math.abs(this.min_y),i=Math.abs(this.max_y),n=(t<i?i:t).toFixed(0).length,r=e*n;this.axis.y.call(this.axis_generator.y.tickPadding(r))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.x,n=t.y;return[{x:Math.floor(i/e)*e,y:Math.floor(n/e)*e},{x:(Math.floor(i/e)+1)*e,y:Math.floor(n/e)*e},{x:Math.floor(i/e)*e,y:(Math.floor(n/e)+1)*e},{x:(Math.floor(i/e)+1)*e,y:(Math.floor(n/e)+1)*e}].map(function(e){return(0,d.default)({},e,{type:"grid"})})}function a(e,t,i){return e.filter(function(e){return(0,p.distanceBetweenPoints)(i,e)<=t}).map(function(e){return(0,d.default)({},e,{type:"vertex"})})}function o(e,t,i){var n=[].concat((0,c.default)(r(t,i)),(0,c.default)(a(e,t,i))).map(function(e){return(0,d.default)({},e,{dist:(0,p.distanceBetweenPoints)(e,i),dx:i.x-e.x,dy:i.y-e.y})});return f.default.orderBy(n,["dist","origin","type"],["asc","asc","desc"])}Object.defineProperty(t,"__esModule",{value:!0});var s=i(19),c=n(s),u=i(1),d=n(u);t.gridSnapTargets=r,t.snapTargets=o;var l=i(4),f=n(l),p=i(10)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(61),a=n(r),o=i(8),s=n(o),c=i(98),u=n(c),d=i(64),l=n(d),f=i(103),p=n(f),h=i(108),m=n(h),g=i(116),y=n(g),v=i(118),_=n(v),x=i(119),b=n(x),w=i(114),S=n(w);a.default.use(s.default);var M=new s.default.Store({strict:!1,modules:{application:u.default,project:l.default,geometry:p.default,models:m.default},getters:{exportData:y.default},actions:{importFloorplan:_.default,importLibrary:b.default},mutations:S.default});t.default=M},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),a=n(r);t.default={setCurrentStoryId:function(e,t){var i=t.id;e.rootState.models.stories.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentStoryId",{id:i})},setCurrentSubSelectionId:function(e,t){var i=t.id;e.getters.currentStory&&(e.getters.currentStory.spaces.find(function(e){return e.id===i})||e.getters.currentStory.shading.find(function(e){return e.id===i})||e.getters.currentStory.images.find(function(e){return e.id===i}))&&e.commit("setCurrentSubSelectionId",{id:i})},setCurrentSnapMode:function(e,t){var i=t.snapMode;if(!a.default.includes(["grid-strict","grid-verts-edges"],i))throw new Error("Unknown grid mode "+i);e.commit("setCurrentSnapMode",{snapMode:i})},setCurrentTool:function(e,t){var i=t.tool;e.state.tools.indexOf(i)!==-1&&e.commit("setCurrentTool",{tool:i})},setCurrentMode:function(e,t){var i=t.mode;e.state.modes.indexOf(i)!==-1&&e.commit("setCurrentMode",{mode:i})},setCurrentBuildingUnitId:function(e,t){var i=t.id;e.rootState.models.library.building_units.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentBuildingUnitId",{id:i})},setCurrentThermalZoneId:function(e,t){var i=t.id;e.rootState.models.library.thermal_zones.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentThermalZoneId",{id:i})},setCurrentSpaceTypeId:function(e,t){var i=t.id;e.rootState.models.library.space_types.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentSpaceTypeId",{id:i})},setScaleX:function(e,t){var i=t.scaleX;e.commit("setScaleX",{scaleX:i})},setScaleY:function(e,t){var i=t.scaleY;e.commit("setScaleY",{scaleY:i})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={currentStory:function(e,t,i){return i.models.stories.find(function(t){return t.id===e.currentSelections.story_id})},currentSubSelection:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})||i.shading.find(function(e){return e.id===n})||i.images.find(function(e){return e.id===n})},currentSubSelectionType:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})?"spaces":i.shading.find(function(e){return e.id===n})?"shading":i.images.find(function(e){return e.id===n})?"images":null},currentSpace:function(e,t){return"spaces"===t.currentSubSelectionType?t.currentSubSelection:null},currentShading:function(e,t){return"shading"===t.currentSubSelectionType?t.currentSubSelection:null},currentImage:function(e,t){return"images"===t.currentSubSelectionType?t.currentSubSelection:null},currentBuildingUnit:function(e,t,i){return i.models.library.building_units.find(function(t){return t.id===e.currentSelections.building_unit_id})},currentThermalZone:function(e,t,i){return i.models.library.thermal_zones.find(function(t){return t.id===e.currentSelections.thermal_zone_id})},currentSpaceType:function(e,t,i){return i.models.library.space_types.find(function(t){return t.id===e.currentSelections.space_type_id})},currentStoryGeometry:function(e,t,i){return i.geometry.find(function(e){return e.id===t.currentStory.geometry_id})},currentSubSelectionFace:function(e,t){return t.currentSubSelection&&t.currentSubSelection.face_id?t.currentStoryGeometry.faces.find(function(e){return e.id===t.currentSubSelection.face_id}):null}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(96),a=n(r),o=i(99),s=n(o),c=i(97),u=n(c),d=i(28);t.default={namespaced:!0,state:{currentSelections:{story:null,story_id:null,subselection_id:null,building_unit_id:null,thermal_zone_id:null,space_type_id:null,tool:"Rectangle",mode:"spaces",snapMode:"grid-strict"},modes:["spaces","shading","building_units","thermal_zones","space_types","images"],tools:["Pan","Drag","Rectangle","Polygon","Eraser","Select","Map","Fill"],scale:{x:d.scaleLinear().range([0,0]).domain([0,0]),y:d.scaleLinear().range([0,0]).domain([0,0])}},actions:a.default,mutations:s.default,getters:u.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setCurrentStoryId:function(e,t){e.currentSelections.story_id=t.id},setCurrentSubSelectionId:function(e,t){e.currentSelections.subselection_id=t.id},setCurrentBuildingUnitId:function(e,t){e.currentSelections.building_unit_id=t.id},setCurrentThermalZoneId:function(e,t){e.currentSelections.thermal_zone_id=t.id},setCurrentSpaceTypeId:function(e,t){e.currentSelections.space_type_id=t.id},setCurrentSnapMode:function(e,t){e.currentSelections.snapMode=t.snapMode},setCurrentTool:function(e,t){e.currentSelections.tool=t.tool},setCurrentMode:function(e,t){e.currentSelections.mode=t.mode},setScaleX:function(e,t){e.scale.x=t.scaleX},setScaleY:function(e,t){e.scale.y=t.scaleY}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return u.default.vertexForCoordinates(t,e)||s.default.Vertex(t.x,t.y)}Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateVertex=r;var a=i(4),o=(n(a),i(62)),s=n(o),c=i(10),u=n(c),d=i(11),l=(n(d),i(101)),f=n(l);t.default={initGeometry:function(e,t){var i=t.story_id,n=new s.default.Geometry;e.commit("initGeometry",{geometry:n}),e.dispatch("models/updateStoryWithData",{story:e.rootState.models.stories.find(function(e){return e.id===i}),geometry_id:n.id},{root:!0})},eraseSelection:function(e,t){var i=t.points,n=(0,l.eraseSelection)(i,e);n||window.eventBus.$emit("error","Operation cancelled - no split faces")},moveFaceByOffset:function(e,t){var i=t.face_id,n=t.dx,r=t.dy,a=e.rootGetters["application/currentStoryGeometry"],o=u.default.faceForId(i,a),s=u.default.verticesForFaceId(o.id,a).map(function(e){return{x:e.x+n,y:e.y+r}}),c=(0,l.newGeometriesOfOverlappedFaces)(s,u.default.exceptFace(a,i));if(c.error)return window.eventBus.$emit("error","Operation cancelled - "+c.error),void window.eventBus.$emit("reload-grid");var d=(0,l.validateFaceGeometry)(s,a);return d?(c.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),void e.dispatch("replaceFacePoints",{geometry_id:a.id,face_id:i,vertices:d.vertices,edges:d.edges})):(window.eventBus.$emit("error",d.error),void window.eventBus.$emit("reload-grid"))},createFaceFromPoints:f.default,splitEdge:function(e,t){var i=t.edge,n=t.vertex,r=e.rootGetters["application/currentStoryGeometry"],a=new s.default.Edge;a.v1=i.v1,a.v2=n.id,e.commit("createEdge",{geometry_id:r.id,edge:a});var o=new s.default.Edge;o.v1=n.id,o.v2=i.v2,e.commit("createEdge",{geometry_id:r.id,edge:o}),u.default.facesForEdgeId(i.id,r).forEach(function(t){e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:a.id,reverse:!1}}),e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:o.id,reverse:!1}}),e.commit("destroyEdgeRef",{geometry_id:r.id,edge_id:i.id,face_id:t.id})}),e.commit("destroyGeometry",{id:i.id})},destroyFaceAndDescendents:function(e,t){var i=t.geometry_id,n=t.face,r=e.state.find(function(e){return e.id===i}),a=(!!r.faces.find(function(e){return e.id===n.id}),n.edgeRefs.map(function(e){var t=u.default.edgeForId(e.edge_id,r),i=e.reverse?t.v2:t.v1;return u.default.vertexForId(i,r)}).filter(function(e){return u.default.facesForVertexId(e.id,r).length<2})),o=n.edgeRefs.filter(function(e){return u.default.facesForEdgeId(e.edge_id,r).length<2});e.commit("destroyGeometry",{id:n.id}),o.forEach(function(t){return e.commit("destroyGeometry",{id:t.edge_id})}),a.forEach(function(t){return e.commit("destroyGeometry",{id:t.id})})},replaceFacePoints:function(e,t){var i=t.geometry_id,n=t.face_id,r=t.vertices,a=t.edges;e.commit("replaceFacePoints",{geometry_id:i,vertices:r,edges:a,face_id:n})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.model_id,n=t.points;if(!((0,N.uniq)(n).length<3)){var r=e.rootGetters["application/currentStoryGeometry"],o=G.default.libraryObjectWithId(e.rootState.models,i),c=o.face_id?R.default.faceForId(o.face_id,r):null,u=void 0;if(c){var d=R.default.verticesForFaceId(c.id,r);if(u=R.default.setOperation("union",d,n),u.error)return void window.eventBus.$emit("error","Operation cancelled - "+u.error)}else u=n;var l=m(u,e.rootGetters["application/currentStoryGeometry"],e.rootGetters["project/snapTolerance"]);if(!l.success)return window.eventBus.$emit("error",l.error),void console.error(l.error);var f=a(u,R.default.exceptFace(r,c&&c.id));if(f.error)return void window.eventBus.$emit("error","Operation cancelled - "+f.error);f.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),s(l,o,e,c),_(e)}}function a(e,t){if(e.length<3||!R.default.areaOfSelection(e))return!1;var i=R.default.denormalize(t),n=i.faces.filter(function(t){var i=R.default.intersection(t.vertices,e);return i.error||i.length>0}),r=n.map(function(t){return R.default.difference(t.vertices,e)}),a=k.default.find(r,"error");if(a)return a;var o=r.map(function(e){return m(e,t)}),s=k.default.find(o,"error");return s?s:k.default.zip(n,o).map(function(e){var i=(0,P.default)(e,2),n=i[0],r=i[1],a=r.vertices,o=r.edges;return{geometry_id:t.id,face_id:n.id,vertices:a,edges:o}})}function o(e,t){var i=t.rootGetters["application/currentStoryGeometry"];if(e.length<3||!R.default.areaOfSelection(e))return!1;var n=a(e,i);return n.error?(window.eventBus.$emit("error","Operation cancelled - "+n.error),!1):(n.forEach(function(e){return t.dispatch("replaceFacePoints",e)}),!0)}function s(e,t,i,n){var r,a=e.vertices,o=e.edges,s=i.rootGetters["application/currentStoryGeometry"],c=n||new O.default.Face([]);i.commit("replaceFacePoints",{face_id:c.id,geometry_id:s.id,vertices:a,edges:o}),i.dispatch("space"===t.type?"models/updateSpaceWithData":"models/updateShadingWithData",(r={},(0,T.default)(r,t.type,t),(0,T.default)(r,"face_id",c.id),r),{root:!0})}function c(e,t,i){var n=i.find(function(i){return i.v1===e.id&&i.v2===t.id||i.v2===e.id&&i.v1===t.id});return n&&(0,I.default)({},n,{reverse:n.v1===t.id})}function u(e,t){return e.length?k.default.zip(e,[].concat((0,S.default)(e.slice(1)),[e[0]])).map(function(e){var i=(0,P.default)(e,2),n=i[0],r=i[1];return c(n,r,t)||new O.default.Edge(n.id,r.id)}):[]}function d(e){this.message=e}function l(e){if(e.length<3)throw new d("can't make a polygon with fewer than three vertices: "+(0,b.default)(e))}function f(e){e.forEach(function(t){if(k.default.find(e,{x:t.x,y:t.y}).length>=2)throw new d("Duplicate vertex at ("+t.x+", "+t.y+")")})}function p(e,t){t.forEach(function(t){var i=t.v1,n=t.v2,r=k.default.find(e,{id:i}),a=k.default.find(e,{id:n});e.forEach(function(e){if(e.id!==i&&e.id!==n&&R.default.ptsAreCollinear(r,a,e)){var t=k.default.reject([(e.x-r.x)/(a.x-r.x),(e.y-r.y)/(a.y-r.y)],isNaN)[0];if(!(t>1||t<0))throw new d("An edge is being touched by a vertex on the same face at ("+e.x+", "+e.y+")")}})})}function h(e,t){(0,N.allPairs)(t).forEach(function(t){var i=(0,P.default)(t,2),n=i[0],r=i[1],a=k.default.find(e,{id:n.v1}),o=k.default.find(e,{id:n.v2}),s=k.default.find(e,{id:r.v1}),c=k.default.find(e,{id:r.v2}),u=R.default.intersectionOfLines(a,o,s,c);if(u)throw new d("Self intersection at "+u.x+", "+u.y)})}function m(e,t){if(0===e.length)return{success:!0,vertices:[],edges:[]};if(e.length<=2)return{success:!1,error:"need at least 3 points to make a face"};var i=e.map(function(e){return R.default.vertexForCoordinates(e,t)||new O.default.Vertex(e.x,e.y)});i=(0,N.dropConsecutiveDups)(i);var n=u(i,t.edges);try{l(i),f(i),p(i,n),h(i,n)}catch(e){if(e instanceof d)return{success:!1,error:e.message};throw e}return{success:!0,vertices:i,edges:n}}function g(e){return k.default.zip(e.slice(0,-1),e.slice(1)).map(function(e){var t=(0,P.default)(e,2),i=t[0],n=t[1];return O.default.Edge(i.id,n.id)})}function y(e,t,i){var n=R.default.facesForEdgeId(t,e),r=n.map(function(n){return{type:"replaceEdgeRef",geometry_id:e.id,edge_id:t,face_id:n.id,newEdges:k.default.map(i,"id")}});return r}function v(e){return k.default.compact(e.edges.map(function(t){var i=R.default.splittingVerticesForEdgeId(t.id,e);if(!i.length)return!1;var n=R.default.vertexForId(t.v1,e),r=R.default.vertexForId(t.v2,e);k.default.sortBy(i,function(e){return R.default.distanceBetweenPoints(e,n)}),i=[n].concat((0,S.default)(i),[r]);var a=g(i),o=y(e,t.id,a);return{edgeToDelete:t.id,newEdges:a,replaceEdgeRefs:o}}))}function _(e){var t=e.rootGetters["application/currentStoryGeometry"],i=v(t);i.forEach(function(i){return e.commit((0,I.default)({type:"splitEdge",geometry_id:t.id},i))})}Object.defineProperty(t,"__esModule",{value:!0});var x=i(9),b=n(x),w=i(19),S=n(w),M=i(1),I=n(M),j=i(65),T=n(j),F=i(66),P=n(F);t.default=r,t.newGeometriesOfOverlappedFaces=a,t.eraseSelection=o,t.findExistingEdge=c,t.matchOrCreateEdges=u,t.errOnTooFewVerts=l,t.errOnDuplicateVerts=f,t.errOnVertexIntersectsEdge=p,t.errOnEdgeIntersectsEdge=h,t.validateFaceGeometry=m,t.edgesToSplit=v;var $=i(4),k=n($),E=i(62),O=n(E),C=i(10),R=n(C),z=i(11),G=n(z),N=i(23);d.prototype=new Error},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(10),a=n(r);t.default={exportData:function(e,t,i,n){return e.map(function(e){return{id:e.id,vertices:e.vertices.map(function(t){return{id:t.id,x:Number(t.x),y:Number(t.y),edge_ids:a.default.edgesForVertexId(t.id,e).map(function(e){return e.id})}}),edges:e.edges.map(function(t){return{id:t.id,vertex_ids:[t.v1,t.v2],face_ids:a.default.facesForEdgeId(t.id,e).map(function(e){return e.id})}}),faces:e.faces.map(function(e){return{id:e.id,edge_ids:e.edgeRefs.map(function(e){return e.edge_id}),edge_order:e.edgeRefs.map(function(e){return e.reverse?0:1})}})}})}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(100),o=r(a),s=i(104),c=n(s),u=i(102),d=r(u);t.default={namespaced:!0,state:[],actions:o.default,mutations:c,getters:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.geometry_id,n=I.default.find(e,{id:i}),r=new S.default(I.default.flatMap(n.faces,function(e){return I.default.map(e.edgeRefs,"edge_id")})),a=new S.default(I.default.flatMap(n.edges.filter(function(e){return r.has(e.id)}),function(e){return[e.v1,e.v2]}));n.edges=n.edges.filter(function(e){return r.has(e.id)}),n.vertices=n.vertices.filter(function(e){return a.has(e.id)}),n.edges.length!==r.size&&console.error("An edge is referenced by a face, but does not exist!",(0,b.default)(n)),n.vertices.length!==a.size&&console.error("A vertex is referenced by a face, but does not exist!",(0,b.default)(n))}function a(e,t){var i=t.geometry;e.push(i)}function o(e,t){var i=t.geometry_id,n=t.vertex;e.find(function(e){return e.id===i}).vertices.push(n)}function s(e,t){var i=t.geometry_id,n=t.edge;e.find(function(e){return e.id===i}).edges.push(n)}function c(e,t){var i=t.geometry_id,n=t.face;e.find(function(e){return e.id===i}).faces.push(n)}function u(e,t){for(var i=t.id,n=0;n<e.length;n++){var r=e[n];if(r.id===i){e.splice(e.findIndex(function(e){return e.id===i}),1);break}if(~r.faces.map(function(e){return e.id}).indexOf(i)){r.faces.splice(r.faces.findIndex(function(e){return e.id===i}),1);break}if(~r.edges.map(function(e){return e.id}).indexOf(i)){r.edges.splice(r.edges.findIndex(function(e){return e.id===i}),1);break}if(~r.vertices.map(function(e){return e.id}).indexOf(i)){r.vertices.splice(r.vertices.findIndex(function(e){return e.id===i}),1);break}}}function d(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRef,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n}),s=a.edges.find(function(e){return e.id===r.edge_id});s&&o.edgeRefs.push(r)}function l(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRefs,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs=r.filter(function(e){return a.edges.find(function(t){return t.id===e.edge_id})})}function f(e,t){var i=t.geometry_id,n=t.face_id,r=t.edge_id,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs.splice(o.edgeRefs.findIndex(function(e){return e.edge_id===r}),1)}function p(e,t){var i,n=t.geometry_id,r=t.face_id,a=t.edge_id,o=t.newEdges,s=e.find(function(e){return e.id===n}),c=s.faces.find(function(e){return e.id===r}),u=I.default.findIndex(c.edgeRefs,{edge_id:a}),d=c.edgeRefs[u];
(i=c.edgeRefs).splice.apply(i,[u,1].concat((0,_.default)(o.map(function(e){return{edge_id:e,reverse:d.reverse}}))))}function h(e,t){var i=t.geometry_id,n=t.edgeToDelete,r=t.newEdges,a=t.replaceEdgeRefs;r.forEach(function(t){return s(e,{edge:t,geometry_id:i})}),a.forEach(function(t){return p(e,t)}),u(e,{id:n})}function m(e,t){t.forEach(function(t){return I.default.find(e.vertices,{id:t.id})||e.vertices.push(t)})}function g(e,t){t.forEach(function(t){return I.default.find(e.edges,{id:t.id})||e.edges.push(t)})}function y(e,t){var i=t.geometry_id,n=t.vertices,a=t.edges,o=t.face_id,s=I.default.find(e,{id:i});m(s,n),g(s,a);var c=I.default.find(s.faces,{id:o});c||(c={id:o,edgeRefs:[]},s.faces.push(c)),c.edgeRefs=a.map(function(e){return{edge_id:e.id,reverse:!!e.reverse}}),r(e,{geometry_id:i})}Object.defineProperty(t,"__esModule",{value:!0});var v=i(19),_=n(v),x=i(9),b=n(x),w=i(126),S=n(w);t.trimGeometry=r,t.initGeometry=a,t.createVertex=o,t.createEdge=s,t.createFace=c,t.destroyGeometry=u,t.createEdgeRef=d,t.setEdgeRefsForFace=l,t.destroyEdgeRef=f,t.replaceEdgeRef=p,t.splitEdge=h,t.replaceFacePoints=y;var M=i(4),I=n(M)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(42),s=n(o),c=i(63),u=n(c),d=i(11),l=n(d);t.default={initStory:function(e){var t=l.default.generateName(e.state,"stories"),i=new u.default.Story(t);e.commit("initStory",{story:i}),e.dispatch("geometry/initGeometry",{story_id:i.id},{root:!0}),e.dispatch("initSpace",{story:i}),e.dispatch("selectStory",{story:i})},initSpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=l.default.generateName(e.state,"spaces",i),r=new u.default.Space(n);e.commit("initSpace",{story:i,space:r})},initShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=l.default.generateName(e.state,"shading",i),r=new u.default.Shading(n);e.commit("initShading",{story:i,shading:r})},destroyStory:function(e,t){var i=e.state.stories,n=i.findIndex(function(e){return e.id===t.story.id}),r=i[n];e.commit("destroyStory",{story:r}),0===i.length?e.dispatch("initStory"):e.dispatch("selectStory",{story:i[n-1]})},destroySpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.spaces.find(function(e){return e.id===t.space.id});e.commit("destroySpace",{space:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.shading.find(function(e){return e.id===t.shading.id});e.commit("destroyShading",{shading:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyImage:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.images.find(function(e){return e.id===t.image.id});e.commit("destroyImage",{image:n,story:i})},destroyObject:function(e,t){e.commit("destroyObject",{object:t.object})},updateStoryWithData:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=(0,a.default)(s.default.stories.keymap),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.story=i,e.commit("updateStoryWithData",r)},updateSpaceWithData:function(e,t){var i=e.getters.allSpaces.find(function(e){return e.id===t.space.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.space=i,e.commit("updateSpaceWithData",r)},updateShadingWithData:function(e,t){var i=e.getters.allShading.find(function(e){return e.id===t.shading.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.shading=i,e.commit("updateShadingWithData",r)},updateImageWithData:function(e,t){var i=e.getters.allImages.find(function(e){return e.id===t.image.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.image=i,e.commit("updateImageWithData",r)},updateObjectWithData:function(e,t){var i=l.default.libraryObjectWithId(e.state,t.object.id);t.object=i,e.commit("updateObjectWithData",t)},createImageForStory:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story_id}),n=l.default.generateName(e.state,"images",i),r=new u.default.Image(n,t.src);r.height=t.height,r.width=t.width,r.x=t.x,r.y=t.y,e.commit("createImageForStory",{story_id:i.id,image:r})},createObjectWithType:function(e,t){var i=t.type,n=l.default.generateName(e.state,i),r=new l.default.map[i].init({name:n});e.commit("initObject",{type:i,object:r})},selectStory:function(e,t){var i=t.story;e.dispatch("application/setCurrentStoryId",{id:i.id},{root:!0})}}},function(e,t){"use strict";function i(e){return+e}Object.defineProperty(t,"__esModule",{value:!0}),t.number=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(19),a=n(r),o=i(14),s=n(o),c=i(1),u=n(c);t.default={allSpaces:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.spaces)},[])},allShading:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.shading)},[])},allImages:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.images)},[])},all:function(e,t,i,n){var r=(0,u.default)({},i.models.library,{stories:i.models.stories,spaces:t.allSpaces,shading:t.allShading,images:t.allImages});return(0,s.default)(r).reduce(function(e,t){return e.push.apply(e,(0,a.default)(r[t])),e},[])}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(105),a=n(r),o=i(109),s=n(o),c=i(107),u=n(c);t.default={namespaced:!0,state:{stories:[],library:{building_units:[],thermal_zones:[],space_types:[],construction_sets:[],windows:[],daylighting_controls:[]}},actions:a.default,mutations:s.default,getters:u.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(43),a=n(r),o=i(4),s=n(o),c=i(11);n(c);t.default={initStory:function(e,t){e.stories.push(t.story)},initSpace:function(e,t){t.story.spaces.push(t.space)},initShading:function(e,t){t.story.shading.push(t.shading)},initObject:function(e,t){e.library[t.type].push(t.object)},destroySpace:function(e,t){t.story.spaces.splice(t.story.spaces.findIndex(function(e){return e.id===t.space.id}),1)},destroyShading:function(e,t){t.story.shading.splice(t.story.shading.findIndex(function(e){return e.id===t.shading.id}),1)},destroyImage:function(e,t){t.story.images.splice(t.story.images.findIndex(function(e){return e.id===t.image.id}),1)},destroyStory:function(e,t){e.stories.splice(e.stories.findIndex(function(e){return e.id===t.story.id}),1)},destroyObject:function(e,t){var i=t.object.id;e.library=s.default.mapValues(e.library,function(e){return s.default.reject(e,{id:i})})},updateStoryWithData:function(e,t){var i=t.story;delete t.story,(0,a.default)(i,t)},createImageForStory:function(e,t){var i=e.stories.find(function(e){return e.id===t.story_id});i.images.push(t.image)},updateSpaceWithData:function(e,t){var i=t.space;(0,a.default)(i,t),delete i.space},updateShadingWithData:function(e,t){var i=t.shading;(0,a.default)(i,t),delete i.shading},updateImageWithData:function(e,t){var i=t.image;(0,a.default)(i,t),delete i.image},updateObjectWithData:function(e,t){var i=t.object;(0,a.default)(i,t),delete i.object}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:function(e,t,i,n){var r=t.getters["models/all"];switch(n){case"stories":r=t.state.models.stories;break;case"spaces":r=t.getters["models/allSpaces"];break;case"shading":r=t.getters["models/allShading"];break;case"images":r=t.getters["models/allImages"];break;default:r=t.state.models.library[n]}var a="";return r.filter(function(t){return t.name===i&&t.id!==e.id}).length?a="Names must be unique.":""===i&&(a="Names must be at least 1 characters long."),a?{success:!1,error:a}:{success:!0}},number:function(e,t,i,n){var r="";return isNaN(i)&&(r="Value must be numeric."),r?{success:!1,error:r}:{success:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(120),a=n(r);t.default={setUnits:function(e,t){"m"!==t.units&&"ft"!==t.units||e.commit("setUnits",t)},setLanguage:function(e,t){"EN-US"===t.language&&e.commit("setLanguage",t)},setNorthAxis:function(e,t){var i=t.north_axis;i>360||i<0||(e.commit("setConfigNorthAxis",{north_axis:i}),e.commit("setMapRotation",{rotation:i*Math.PI/180}))},setMapVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setMapVisible",t)},setMapEnabled:function(e,t){"boolean"==typeof t.enabled&&e.commit("setMapEnabled",t)},setMapInitialized:function(e,t){"boolean"==typeof t.initialized&&e.commit("setMapInitialized",t)},setGridVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setGridVisible",t)},setSpacing:function(e,t){e.commit("setSpacing",t)},setViewMinX:function(e,t){e.commit("setViewMinX",t)},setViewMinY:function(e,t){e.commit("setViewMinY",t)},setViewMaxX:function(e,t){var i=new a.default(t);i.validateInt("max_x"),i.validateMin("max_x",e.state.view.min_x),e.commit("setViewMaxX",i.validatedPayload)},setViewMaxY:function(e,t){var i=new a.default(t);i.validateInt("max_y"),i.validateMin("max_y",e.state.view.min_y),e.commit("setViewMaxY",i.validatedPayload)},setZoom:function(e,t){e.commit("setMapZoom",t)},setMapLatitude:function(e,t){var i=new a.default(t);i.validateFloat("latitude"),i.validateMax("latitude",180),i.validateMin("latitude",-180),e.commit("setMapLatitude",i.validatedPayload)},setMapLongitude:function(e,t){var i=new a.default(t);i.validateFloat("longitude"),i.validateMax("longitude",180),i.validateMin("longitude",-180),e.commit("setMapLongitude",i.validatedPayload)},setMapZoom:function(e,t){var i=new a.default(t);i.validateFloat("zoom"),e.commit("setMapZoom",{zoom:t.zoom})},setMapRotation:function(e,t){e.commit("setConfigNorthAxis",{north_axis:t.rotation/(2*Math.PI)*360}),e.commit("setMapRotation",{rotation:t.rotation})},setPreviousStoryVisible:function(e,t){e.commit("setPreviousStoryVisible",{visible:t.visible})},setShowImportExport:function(e,t){e.commit("setShowImportExport",t)},setTransform:function(e,t){e.commit("setTransform",t)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={snapTolerance:function(e){var t=.025*Math.abs(e.view.max_x-e.view.min_x);return e.grid.visible?.5*e.grid.spacing:t},angleTolerance:function(){return 20}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setUnits:function(e,t){"units"in t&&(e.config.units=t.units)},setLanguage:function(e,t){"language"in t&&(e.config.language=t.language)},setConfigNorthAxis:function(e,t){"north_axis"in t&&(e.config.north_axis=t.north_axis)},setGridVisible:function(e,t){"visible"in t&&(e.grid.visible=t.visible)},setSpacing:function(e,t){e.grid.spacing=t.spacing},setViewMinX:function(e,t){"min_x"in t&&(e.view.min_x=t.min_x)},setViewMinY:function(e,t){"min_y"in t&&(e.view.min_y=t.min_y)},setViewMaxX:function(e,t){"max_x"in t&&(e.view.max_x=t.max_x)},setViewMaxY:function(e,t){"max_y"in t&&(e.view.max_y=t.max_y)},setMapEnabled:function(e,t){"enabled"in t&&(e.map.enabled=t.enabled)},setMapInitialized:function(e,t){"initialized"in t&&(e.map.initialized=t.initialized)},setMapVisible:function(e,t){"visible"in t&&(e.map.visible=t.visible)},setMapLatitude:function(e,t){"latitude"in t&&(e.map.latitude=t.latitude)},setMapLongitude:function(e,t){"longitude"in t&&(e.map.longitude=t.longitude)},setMapZoom:function(e,t){"zoom"in t&&(e.map.zoom=t.zoom)},setMapRotation:function(e,t){"rotation"in t&&(e.map.rotation=t.rotation)},setPreviousStoryVisible:function(e,t){"visible"in t&&(e.previous_story.visible=t.visible)},setShowImportExport:function(e,t){e.showImportExport=t},setTransform:function(e,t){e.transform=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(43),a=n(r),o=i(64),s=n(o);t.default={importState:function(e,t){e.project=(0,a.default)(s.default.state,t.project),e.application=t.application,e.models=t.models,e.geometry=t.geometry},importLibrary:function(e,t){e.models.library=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(9),s=n(o),c=i(4),u=n(c),d=function(e){var t=JSON.parse((0,s.default)(e));return t},l=["application/setScaleX","application/setCurrentTool","application/setScaleY","project/setSpacing","project/setViewMinX","project/setViewMinY","project/setViewMaxX","project/setViewMaxY","project/setTransform","application/clearSubSelections","application/setCurrentStoryId","application/setCurrentStory","application/setCurrentSpace","application/setCurrentShading","application/setCurrentImage","application/setCurrentBuildingUnit","application/setCurrentThermalZone","application/setCurrentSpaceType","project/setPreviousStoryVisible","project/setGridVisible","project/setMapLatitude","project/setMapLongitude","project/setMapRotation"],f=["importFloorplan","project/setMapEnabled","project/setMapInitialized"],p=function(e){return e};t.default={store:null,pastTimetravelStates:[],futureTimetravelStates:[],currentlyInBatch:!1,triggeringAction:"(none)",init:function(e){var t=this;this.store=e,e.timetravel=this,this.pastTimetravelStates=[],this.futureTimetravelStates=[],this.store.replaceState((0,a.default)({},e.state,{timetravelInitialized:!0}));var i=e.replaceState;e.replaceState=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];r.application.scale=this.state.application.scale,r.project.view=this.state.project.view,r.project.grid=this.state.project.grid,r.project.previous_story=this.state.project.previous_story,i.apply(this,t)};var n=e.commit;e.commit=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.apply(this,t)};var r=e.dispatch;e.dispatch=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var a=i[0];u.default.includes(l,a)||(t.maybeSaveCheckpoint(a),console.log("dispatching action:",i[0])),r.apply(this,i)}},maybeSaveCheckpoint:function(e){var t=this;this.currentlyInBatch||this.saveCheckpoint(e),this.currentlyInBatch=!0,clearTimeout(this.resetBatchFlag),this.resetBatchFlag=setTimeout(function(){t.currentlyInBatch=!1},0)},saveCheckpoint:function(e){this.pastTimetravelStates.push({triggeringAction:this.triggeringAction,state:d(this.store.state)}),this.triggeringAction=e,console.warn("saving state:",this.pastTimetravelStates[this.pastTimetravelStates.length-1]),this.futureTimetravelStates=[],this.potentiallyRollbackCheckpoint(e)},potentiallyRollbackCheckpoint:function(e){var t=this.pastTimetravelStates,i=this.store;return u.default.includes(f,e)?(this.pastTimetravelStates=[],void(this.futureTimetravelStates=[])):void u.default.defer(function(){for(;t.length>0&&u.default.isEqual(d(i.state),t[t.length-1].state);)console.log("current state matches previous, so rolling back",t[t.length-1].triggeringAction),t.pop()})},undo:function(){if(this.pastTimetravelStates.length){var e=this.pastTimetravelStates.pop(),t=e.state,i=e.triggeringAction,n=this.triggeringAction;this.futureTimetravelStates.push({triggeringAction:this.triggeringAction,state:d(this.store.state)}),this.triggeringAction=i,this.store.replaceState(t),console.log("undo",t),window.eventBus.$emit("success","undo "+n)}},redo:function(){if(this.futureTimetravelStates.length){var e=this.futureTimetravelStates.pop(),t=e.state,i=e.triggeringAction;this.pastTimetravelStates.push({state:d(this.store.state),triggeringAction:this.triggeringAction}),this.triggeringAction=i,this.store.replaceState(t),window.eventBus.$emit("success","redo "+i),console.log("redo",t)}},logTimetravel:function(){console.log("past:",this.pastTimetravelStates.map(function(e){return p(e)})),console.log("current",p(this.store.state)),console.log("future:",this.futureTimetravelStates.map(function(e){return p(e)}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=(0,l.default)({application:e.application,project:e.project,stories:e.models.stories},e.models.library,{version:p.default}),n=t["geometry/exportData"];return i=JSON.parse((0,u.default)(i)),i.stories.forEach(function(e){e.geometry=n.find(function(t){return t.id===e.geometry_id}),delete e.geometry_id}),a(i),i}function a(e){for(var t in e)"id"!==t&&!~t.indexOf("_id")||"number"!=typeof e[t]||(e[t]=String(e[t])),~t.indexOf("_ids")&&"object"===(0,s.default)(e[t])&&(e[t]=e[t].map(function(e){return String(e)})),null!==e[t]&&"object"===(0,s.default)(e[t])&&a(e[t])}Object.defineProperty(t,"__esModule",{value:!0});var o=i(67),s=n(o),c=i(9),u=n(c),d=i(1),l=n(d);t.default=r;var f=i(121),p=n(f)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(40),a=n(r);t.default=function(){var e={space:0,building_unit:0,thermal_zone:0,space_type:0};return function(t){return e[t]++,a.default.palette.colors[e[t]%a.default.palette.colors.length]}}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_.isObject(e)?(0,o.default)(e).forEach(function(n){return i(e[n],t,n)}):_.isArray(e)?e.forEach(function(e){return i(e,t)}):t(n,e)}window.api&&(window.versionNumber=0);var n=t.data.stories.map(function(e){var t=e.geometry.faces.map(function(e){var t=e.edge_ids.map(function(t,i){return{edge_id:t,reverse:!e.edge_order[i]}});return{id:e.id,edgeRefs:t}}),i=e.geometry.edges.map(function(e){return{id:e.id,v1:e.vertex_ids[0],v2:e.vertex_ids[1]}});return{id:e.geometry.id,faces:t,edges:i,vertices:e.geometry.vertices}}),r=t.data.stories.map(function(e){var t=(0,c.default)({geometry_id:e.geometry.id},e);return delete t.geometry,t}),a=0;i(t,function(e,t){e&&"id"===e&&+t>a&&(a=t)}),a+=1,d.default.setId(a),e.commit("importState",{project:t.data.project,application:e.state.application,models:{stories:r,library:{building_units:t.data.building_units,thermal_zones:t.data.thermal_zones,space_types:t.data.space_types,construction_sets:t.data.construction_sets,windows:t.data.windows,daylighting_controls:t.data.daylighting_controls}},geometry:n}),document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),o=n(a),s=i(1),c=n(s);t.default=r;var u=i(32),d=n(u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=0,n=(0,o.default)(t.data);n.forEach(function(n){if("project"!==n&&e.state.models.library[n]){var r=e.state.models.library[n].map(function(e){return/_\d+[\w\s]?$/.test(e.name)?e.name.split("_").slice(0,-1).join("_"):e.name});t.data[n]=t.data[n].map(function(e){var t=e;t.id=c.default.generate();var n=r.filter(function(t){return t===e.name}).length;return n&&(t.name+="_"+n),i+=1,t})}}),window.eventBus.$emit("success","Imported "+i+" object"+(1!==i?"s":"")),e.commit("importLibrary",{building_units:e.state.models.library.building_units.concat(t.data.building_units||[]),thermal_zones:e.state.models.library.thermal_zones.concat(t.data.thermal_zones||[]),space_types:e.state.models.library.space_types.concat(t.data.space_types||[]),construction_sets:e.state.models.library.construction_sets.concat(t.data.construction_sets||[]),windows:e.state.models.library.windows.concat(t.data.windows||[]),daylighting_controls:e.state.models.library.daylighting_controls.concat(t.data.daylighting_controls||[])})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),o=n(a);t.default=r;var s=i(32),c=n(s)},function(e,t){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return{invalidKeys:i,validatedPayload:t,validateLength:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n].length>=r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMin:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(e[n]>r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMax:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n]<r?t[n]=e[n]:(delete t[n],i.push(n)))},validateFloat:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseFloat(e[n]))?t[n]=parseFloat(e[n]):(delete t[n],i.push(n)))},validateInt:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseInt(e[n]))?t[n]=parseInt(e[n]):(delete t[n],i.push(n)))},validateBoolean:function(n){n in e&&i.indexOf(n)===-1&&(n in e?t[n]=!!e[n]:(delete t[n],i.push(n)))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";e.exports="0.3.0"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,function(e,t,i){var n,r;i(178),i(179),n=i(82);var a=i(216);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-2a372c9e",e.exports=n},function(e,t,i){var n,r;i(177),n=i(83);var a=i(215);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-266f1716",e.exports=n},function(e,t,i){var n,r;i(185),n=i(84);var a=i(222);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-7a439436",e.exports=n},function(e,t,i){var n,r;i(183),n=i(85);var a=i(220);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-677a308e",e.exports=n},function(e,t,i){var n,r;i(180),n=i(86);var a=i(217);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-36a585d6",e.exports=n},function(e,t,i){var n,r;i(182),n=i(87);var a=i(219);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-411ce911",e.exports=n},function(e,t,i){var n,r;i(181),n=i(88);var a=i(218);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-3afbad56",e.exports=n},function(e,t,i){var n,r;i(187),n=i(89);var a=i(224);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-b39349be",e.exports=n},function(e,t,i){var n,r;i(176),n=i(90);var a=i(214);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-200c10c4",e.exports=n},function(e,t,i){var n,r;i(186),n=i(91);var a=i(223);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-9625b82c",e.exports=n},function(e,t,i){var n,r;i(184),n=i(92);var a=i(221);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-73143015",e.exports=n},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay",on:{click:e.close}}),e._v(" "),i("div",{staticClass:"modal"},[i("span",[i("svg",{staticClass:"close-button",attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.close}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])]),e._v(" "),i("header",[i("h2",[e._v("Save "+e._s(e.saveWhat)+" as")])]),e._v(" "),i("div",{staticClass:"content"},[i("span",{staticClass:"input-text"},[i("input",{ref:"downloadName",attrs:{type:"text",spellcheck:"false"},domProps:{value:e.saveWhat.toLowerCase()},on:{keyup:function(t){e._k(t.keyCode,"enter",13)||e.downloadFile(t)}}}),e._v("\r\n              .json\r\n              "),i("button",{staticClass:"download-button",on:{click:e.downloadFile}},[e._v("Download")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"canvas",attrs:{id:"canvas"}},[i("svg",{attrs:{id:"north_axis",height:"1792",viewBox:"0 0 1792 1792",width:"1792",xmlns:"http://www.w3.org/2000/svg",transform:"rotate("+e.northAxis+")"}},[i("path",{attrs:{d:"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z"}})]),e._v(" "),e.mapEnabled?i("map-view",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}]}):e._e(),e._v(" "),i("images-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"tool_"+e.tool.toLowerCase(),attrs:{id:"app"}},[i("toolbar",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("div",{attrs:{id:"layout-main"}},[i("navigation",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("main",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.error||e.success,expression:"error || success"}],class:{error:e.error,success:e.success},attrs:{id:"alert-text"}},[i("p",[e._v(e._s(e.error||e.success))])]),e._v(" "),i("canvas-view"),e._v(" "),i("grid-view")],1)],1),e._v(" "),i("library",{class:{"disabled-component":"Map"===e.tool}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{"pointer-events":"Drag"===e.currentTool||"Map"===e.currentTool?"none":"auto"},attrs:{id:"grid"}},[i("svg",{ref:"grid",attrs:{preserveAspectRatio:"none",id:"svg-grid"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout-library"}},[i("section",{attrs:{id:"library"}},[i("div",{ref:"resizebar",staticClass:"resize-bar",attrs:{id:"top-bar"},on:{mousedown:e.resizeBarClicked,dblclick:e.showHide}}),e._v(" "),i("header",[i("div",{staticClass:"input-text"},[i("label",[e._v("Search")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],domProps:{value:e._s(e.search)},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-select"},[i("label",[e._v("Type")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){e.type=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},e._l(e.extendedLibrary,function(t,n){return i("option",{domProps:{value:n}},[e._v(e._s(e.displayTypeForType(n)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("button",{on:{click:e.createObject}},[e._v("New")])]),e._v(" "),i("table",{staticClass:"table"},[i("thead",[i("tr",[e._l(e.columns,function(t){return i("th",{on:{click:function(i){e.sortBy(t)}}},[i("span",[i("span",[e._v(e._s(e.displayNameForKey(t)))]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&e.sortDescending,expression:"column === sortKey && sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 .5l5 5 5-5H0z"}})]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&!e.sortDescending,expression:"column === sortKey && !sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 5.5l5-5 5 5H0z"}})])])])}),e._v(" "),i("th",{staticClass:"destroy"})],2)]),e._v(" "),i("tbody",e._l(e.displayObjects,function(t){return i("tr",{key:t.id,style:{"background-color":e.selectedObject&&e.selectedObject.id===t.id?"#008500":""},attrs:{"data-id":t.id},on:{click:function(i){e.selectedObject=t}}},[e._l(e.columns,function(n){return i("td",[e.inputTypeForKey(n)?e._e():i("input",{attrs:{readonly:""},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}),e._v(" "),"text"===e.inputTypeForKey(n)?i("input",{domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e(),e._v(" "),"color"===e.inputTypeForKey(n)?i("div",{staticClass:"input-color"},["color"===e.inputTypeForKey(n)?i("input",{attrs:{"object-id":t.id},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e()]):e._e(),e._v(" "),"select"===e.inputTypeForKey(n)?i("div",{staticClass:"input-select"},[i("select",{on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}},[i("option",{attrs:{value:"null"},domProps:{selected:!e.valueForKey(t,n),value:"null"}},[e._v("None")]),e._v(" "),e._l(e.selectOptionsForObjectAndKey(t,n),function(r,a){return i("option",{domProps:{value:r,selected:e.valueForKey(t,n)===a}},[e._v(e._s(a))])})],2),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]):e._e()])}),e._v(" "),i("td",{staticClass:"destroy"},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){i.stopPropagation(),e.destroyObject(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])],2)}))])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"inspector"}},[i("section",{staticClass:"list",attrs:{id:"geometry-list"}},[e._l(e.currentStoryGeometry.faces,function(t){
return e.currentSpace||e.currentShading?e._e():[i("header",[i("h3",[e._v("Face "+e._s(t.id))])]),e._v(" "),e._l(t.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]}),e._v(" "),e.currentSubSelectionFace?[i("header",[i("h3",[e._v("Face "+e._s(e.currentSubSelectionFace.id)+" on "+e._s(e.currentSpace?e.currentSpace.name:e.currentShading.name))])]),e._v(" "),e._l(e.currentSubSelectionFace.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]:e._e()],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-container"}},[i("div",{ref:"map",style:{"pointer-events":"Map"===e.tool?"all":"none"},attrs:{id:"map"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"autocomplete"}},[i("span",{staticClass:"input-text"},[i("input",{ref:"addressSearch",attrs:{type:"text",placeholder:"Search for a location"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"help-text"}},[i("p",[e._v("Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.")]),e._v(" "),i("button",{on:{click:e.finishSetup}},[e._v("Done")])]),e._v(" "),e.mapModalVisible&&!e.mapInitialized?i("map-modal",{on:{close:function(t){e.mapModalVisible=!1,e.showReticle()}}}):e._e(),e._v(" "),i("svg",{attrs:{id:"reticle"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"toolbar"}},[i("section",{staticClass:"settings"},[i("div",{staticClass:"input-checkbox"},[i("label",[e._v("Story Below")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.previousStoryVisible,expression:"previousStoryVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previousStoryVisible)?e._i(e.previousStoryVisible,null)>-1:e.previousStoryVisible},on:{change:function(t){var i=e.previousStoryVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);r?o<0&&(e.previousStoryVisible=i.concat(a)):o>-1&&(e.previousStoryVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.previousStoryVisible=r}}})]),e._v(" "),e.mapEnabled?i("div",{staticClass:"input-checkbox"},[i("label",[e._v("map")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mapVisible,expression:"mapVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.mapVisible)?e._i(e.mapVisible,null)>-1:e.mapVisible},on:{change:function(t){var i=e.mapVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);r?o<0&&(e.mapVisible=i.concat(a)):o>-1&&(e.mapVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.mapVisible=r}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-checkbox"},[i("label",[e._v("grid")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridVisible,expression:"gridVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.gridVisible)?e._i(e.gridVisible,null)>-1:e.gridVisible},on:{change:function(t){var i=e.gridVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);r?o<0&&(e.gridVisible=i.concat(a)):o>-1&&(e.gridVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.gridVisible=r}}})]),e._v(" "),i("div",{staticClass:"input-number input-select"},[i("label",[e._v("spacing")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.spacing,expression:"spacing",modifiers:{number:!0,lazy:!0}}],domProps:{value:e._s(e.spacing)},on:{change:function(t){e.spacing=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),i("select",{ref:"unitSelect",on:{change:e.updateUnits}},[i("option",{attrs:{value:"ft"},domProps:{value:"ft"}},[e._v("ft")]),e._v(" "),i("option",{attrs:{value:"m"},domProps:{value:"m"}},[e._v("m")])]),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("north axis")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.northAxis,expression:"northAxis",modifiers:{number:!0,lazy:!0}}],attrs:{disabled:e.mapEnabled},domProps:{value:e._s(e.northAxis)},on:{change:function(t){e.northAxis=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.showImportExport?i("div",{attrs:{id:"import-export"}},[i("input",{ref:"importLibrary",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"library")}}}),e._v(" "),i("button",{on:{click:function(t){e.$refs.importLibrary.click()}}},[e._v("Import Library")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"floorplan")}}}),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{attrs:{id:"export"},on:{click:e.exportData}},[e._v("Save Floorplan")])]):e._e()]),e._v(" "),i("section",{staticClass:"tools"},[i("div",{staticClass:"undo-redo"},[i("button",{attrs:{disabled:!e.timetravelInitialized},on:{click:e.undo}},[e._v("Undo")]),e._v(" "),i("button",{attrs:{disabled:!e.timetravelInitialized},on:{click:e.redo}},[e._v("Redo")])]),e._v(" "),i("div",{staticClass:"snapping-options"},[i("button",{class:{active:"grid-strict"===e.snapMode},on:{click:function(t){e.snapMode="grid-strict"}}},[e._v("Strict Grid")]),e._v(" "),i("button",{class:{active:"grid-verts-edges"===e.snapMode},on:{click:function(t){e.snapMode="grid-verts-edges"}}},[e._v("Edges too")])]),e._v(" "),i("div",e._l(e.availableTools,function(t){return i("button",{class:{active:e.tool===t},attrs:{"data-tool":t},on:{click:function(i){e.tool=t}}},[e._v(e._s(t))])}))]),e._v(" "),e.showSaveModal?i("section",{staticClass:"modals"},[i("save-as-modal",{attrs:{saveWhat:e.thingWereSaving,dataToDownload:e.dataToDownload,onClose:function(){e.showSaveModal=!1,e.thingWereSaving=""}}})],1):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"images",style:{"pointer-events":"Drag"===e.currentTool?"auto":"none"},attrs:{id:"images"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout-navigation"}},[i("nav",{attrs:{id:"navigation"}},[i("div",{ref:"resizebar",staticClass:"resize-bar",attrs:{id:"right-bar"},on:{mousedown:e.resizeBarClicked,dblclick:e.showHide}}),e._v(" "),i("section",{attrs:{id:"selections"}},[i("div",{staticClass:"input-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],on:{change:function(t){e.mode=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},e._l(e.modes,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.displayNameForMode(t)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("input",{ref:"fileInput",attrs:{id:"upload-image-input",type:"file"},on:{change:e.uploadImage}}),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:"images"===e.mode,expression:"mode==='images'"}],on:{click:function(t){e.$refs.fileInput.click()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode(e.mode))+"\n          ")]),e._v(" "),"images"!==e.mode?i("button",{staticClass:"add-sub-selection",on:{click:function(t){e.createItem()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode(e.mode))+"\n          ")]):e._e()]),e._v(" "),i("section",{attrs:{id:"breadcrumbs"}},[i("button",{staticClass:"create-story",on:{click:function(t){e.createItem("stories")}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n              "+e._s(e.displayNameForMode("stories"))+"\n          ")]),e._v(" "),i("span",[e._v("\n              "+e._s(e.currentStory.name)+"\n              "),e.selectedObject?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z"}})]),e._v("\n                  "+e._s(e.selectedObject.name)+"\n              ")]:e._e()],2)]),e._v(" "),i("div",{attrs:{id:"list"}},[i("section",{attrs:{id:"story-list"}},e._l(e.stories,function(t){return i("div",{key:t.id,class:{active:e.currentStory&&e.currentStory.id===t.id},style:{"background-color":t&&t.color},attrs:{"data-id":t.id},on:{click:function(i){e.selectItem(t,"stories")}}},[e._v("\n                  "+e._s(t.name)+"\n                  "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t,"stories")}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])})),e._v(" "),i("section",{attrs:{id:"subselection-list"}},e._l(e.items,function(t){return i("div",{key:t.id,class:{active:e.selectedObject&&e.selectedObject.id===t.id},style:{"background-color":t&&e.selectedObject&&e.selectedObject.id===t.id?t.color:""},attrs:{"data-id":t.id},on:{click:function(i){e.selectItem(t)}}},[i("span",{style:{"background-color":t&&t.color}}),e._v("\n                  "+e._s(t.name)+"\n                  "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])}))])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay"}),e._v(" "),i("div",{staticClass:"modal"},[e._m(0),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v("Choose to either open an existing floorplan, start a new floorplan without a map, or start a new floorplan with a geolocated map.")]),e._v(" "),i("button",{staticClass:"open-floorplan",attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{staticClass:"new-floorplan",on:{click:function(t){e.mapEnabled=!1,e.mapVisible=!1,e.$emit("close")}}},[e._v("New Floorplan")]),e._v(" "),i("button",{attrs:{disabled:!e.online},on:{click:function(t){e.mapEnabled=!0,e.tool="Map",e.$emit("close")}}},[e._v("New Floorplan w/ Map")]),e._v(" "),i("input",{ref:"importInput",attrs:{id:"importInput",type:"file"},on:{change:e.importFloorplanAsFile}})])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h2",[e._v("Quick Start")])])}]}},,function(e,t){},function(e,t){}]);
//# sourceMappingURL=app.82e83b5fe0894a2d8d97.js.map
      }
    </script>
    <script> window.api = {
  config: null,
  initAlreadyRun: false,
  openFloorplan: (data) => {
    try {
      window.application.$store.dispatch('importFloorplan', {
        clientWidth: document.getElementById('svg-grid').clientWidth,
        clientHeight: document.getElementById('svg-grid').clientHeight,
        data: JSON.parse(data),
      });
    } catch (err) {
      return false;
    }
    return true;
  },
  importLibrary: (data) => {
    try {
      window.application.$store.dispatch('importLibrary', { data: JSON.parse(data) });
    } catch (err) {
      return false;
    }
    return true;
  },
  exportFloorplan: () => window.application.$store.getters['exportData'],
  setConfig: (config) => {
    if (this.initAlreadyRun) {
      throw new Error('The application has already been started, configuration cannot be changed.');
    }

    if (config === undefined) {
      config = {}; // eslint-disable-line
    }
    window.api.config = Object.assign({
      showImportExport: true,
      units: 'm',
      showMapDialogOnStart: false,
      online: true,
      initialGridSize: 50,
      initialNorthAxis: 0,
      defaultLocation: {
        latitude: 39.7653,
        longitude: -104.9863,
      },
      onChange: () => { window.versionNumber += 1; },
    }, config);
  },
  init: () => {
    if (this.initAlreadyRun) {
      throw new Error('This method can only be run once!');
    }
    window.versionNumber = 0;
    window.startApp();
    delete window.startApp;

    // don't dispatch actions until the application and data store are instantiated
    window.application.$store.dispatch('project/setUnits', { units: window.api.config.units });
    window.application.$store.dispatch('project/setShowImportExport', window.api.config.showImportExport);
    window.application.$store.dispatch('project/setSpacing', { spacing: window.api.config.initialGridSize });
    window.application.$store.dispatch('project/setNorthAxis', { north_axis: window.api.config.initialNorthAxis });

    window.application.$store.dispatch('project/setMapEnabled', { enabled: window.api.config.showMapDialogOnStart });
    window.application.$store.dispatch('project/setMapVisible', { visible: window.api.config.showMapDialogOnStart });

    window.application.$store.dispatch('project/setMapLatitude', { latitude: window.api.config.defaultLocation.latitude });
    window.application.$store.dispatch('project/setMapLongitude', { longitude: window.api.config.defaultLocation.longitude });

    this.initAlreadyRun = true;
  },
};
 </script>
    </body>
</html>